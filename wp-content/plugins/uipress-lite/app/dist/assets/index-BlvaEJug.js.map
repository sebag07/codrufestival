{"version":3,"file":"index-BlvaEJug.js","sources":["../../src/components/tabs/index.vue"],"sourcesContent":["<script setup>\nimport { defineProps, ref, computed, watchEffect } from \"vue\";\n\nconst props = defineProps({\n  options: {\n    default: () => {\n      return {\n        false: { label: \"No\", value: false },\n        true: { label: \"Yes\", value: true },\n      };\n    },\n    type: Object,\n  },\n  autoselect: { default: () => true, type: Boolean },\n  allowDeselect: { default: () => false, type: Boolean },\n});\nconst model = defineModel();\nconst tabRef = ref(null);\nconst tabContainer = ref(null);\nconst showBack = ref(true);\n\nconst bgStyle = ref({\n  width: null,\n  left: null,\n  right: null,\n  [\"z-index\"]: 1,\n  bottom: \"0px\",\n});\n\n/**\n * Returns background style of back\n */\nconst setBgStyle = () => {\n  if (tabRef.value === null) return;\n\n  let val = String(model.value); // Convert boolean values to strings\n\n  const keys = Object.keys(props.options);\n  const index = keys.findIndex((item) => item == val);\n\n  // No index so bail\n  if (index < 0) return (showBack.value = false);\n\n  const activeKey = keys[index];\n\n  const target = tabRef.value[index];\n\n  const rect = target.getBoundingClientRect();\n  const containerRect = tabContainer.value.getBoundingClientRect();\n  const left = rect.left - containerRect.left;\n\n  showBack.value = true;\n\n  bgStyle.value.width = `${rect.width}px`;\n  bgStyle.value.left = `${left}px`;\n};\n\nconst returnActiveClass = (item) => {\n  return item.value === model.value ? \"uip-text-emphasis\" : \"uip-text-muted\";\n};\n\nconst setActive = (value) => {\n  if (model.value === value && props.allowDeselect) model.value = null;\n  else model.value = value;\n  setBgStyle();\n};\n\nwatchEffect(() => {\n  // If undefined select first option\n  if ((typeof model.value === \"undefined\" || model.value === null) && props.autoselect) {\n    const key = Object.keys(props.options)[0];\n    setActive(props.options[key].value);\n  } else {\n    setBgStyle();\n  }\n});\n</script>\n\n<template>\n  <div ref=\"tabContainer\" class=\"uip-position-relative uip-flex uip-border-bottom uip-max-w-100p uip-gap-xs\" style=\"overflow-x: auto\">\n    <div v-if=\"showBack\" class=\"uip-position-absolute uip-transition-all uip-border-bottom-primary\" :style=\"bgStyle\"></div>\n\n    <template v-for=\"(item, index) in options\">\n      <a\n        ref=\"tabRef\"\n        type=\"button\"\n        class=\"uip-padding-top-s uip-padding-bottom-s uip-padding-left-xs uip-padding-right-xs uip-text-center uip-cursor-pointer uip-transition-all uip-select-none\"\n        style=\"z-index: 2\"\n        :class=\"returnActiveClass(item)\"\n        @click=\"setActive(item.value)\"\n      >\n        <div class=\"uip-no-wrap\">{{ item.label }}</div>\n      </a>\n    </template>\n  </div>\n</template>\n"],"names":["props","__props","model","_useModel","tabRef","ref","tabContainer","showBack","bgStyle","setBgStyle","val","keys","index","item","rect","containerRect","left","returnActiveClass","setActive","value","watchEffect","key"],"mappings":"kcAGA,MAAMA,EAAQC,EAaRC,EAAQC,gBAAY,EACpBC,EAASC,EAAI,IAAI,EACjBC,EAAeD,EAAI,IAAI,EACvBE,EAAWF,EAAI,EAAI,EAEnBG,EAAUH,EAAI,CAClB,MAAO,KACP,KAAM,KACN,MAAO,KACN,UAAY,EACb,OAAQ,KACV,CAAC,EAKKI,EAAa,IAAM,CACvB,GAAIL,EAAO,QAAU,KAAM,OAE3B,IAAIM,EAAM,OAAOR,EAAM,KAAK,EAE5B,MAAMS,EAAO,OAAO,KAAKX,EAAM,OAAO,EAChCY,EAAQD,EAAK,UAAWE,GAASA,GAAQH,CAAG,EAGlD,GAAIE,EAAQ,EAAG,OAAQL,EAAS,MAAQ,GAEtBI,EAAKC,CAAK,EAI5B,MAAME,EAFSV,EAAO,MAAMQ,CAAK,EAEb,sBAAuB,EACrCG,EAAgBT,EAAa,MAAM,sBAAuB,EAC1DU,EAAOF,EAAK,KAAOC,EAAc,KAEvCR,EAAS,MAAQ,GAEjBC,EAAQ,MAAM,MAAQ,GAAGM,EAAK,KAAK,KACnCN,EAAQ,MAAM,KAAO,GAAGQ,CAAI,IAC9B,EAEMC,EAAqBJ,GAClBA,EAAK,QAAUX,EAAM,MAAQ,oBAAsB,iBAGtDgB,EAAaC,GAAU,CACvBjB,EAAM,QAAUiB,GAASnB,EAAM,cAAeE,EAAM,MAAQ,KAC3DA,EAAM,MAAQiB,EACnBV,EAAY,CACd,EAEA,OAAAW,EAAY,IAAM,CAEhB,IAAK,OAAOlB,EAAM,MAAU,KAAeA,EAAM,QAAU,OAASF,EAAM,WAAY,CACpF,MAAMqB,EAAM,OAAO,KAAKrB,EAAM,OAAO,EAAE,CAAC,EACxCkB,EAAUlB,EAAM,QAAQqB,CAAG,EAAE,KAAK,CACtC,MACIZ,EAAY,CAEhB,CAAC"}