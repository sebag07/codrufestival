const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CZJqsJJT.js","assets/index-COn-5JHg.js","builder.build.DfBdCMNY.js"])))=>i.map(i=>d[i]);
import{e as V,f as h,o,g as r,t as e,y as p,q as a,G as C,z as x,a7 as E,k as b,F as m,E as S,B as T,C as w,L as k,j as A,m as I,_ as N}from"./index-COn-5JHg.js";import{g as U}from"./index-BGAHiO-M.js";import"./fonts-CcfgmNTE.js";import"../builder.build.DfBdCMNY.js";/* empty css              */const H={props:{title:String,startOpen:Boolean},data(){return{open:!1}},mounted(){this.startOpen&&(this.open=!0)},computed:{returnVisibilityIcon(){if(this.open)return"expand_more";if(!this.open)return"chevron_left"}},methods:{toggleVisibility(){this.open=!this.open}}},B={class:"uip-flex uip-flex-column uip-row-gap-s"},R={class:"uip-flex uip-gap-s uip-flex-center uip-flex-between"},M={class:"uip-text-bold uip-text-emphasis"},q={key:0,class:"uip-padding-left-s"};function F(s,u,d,c,i,l){const v=h("AppIcon");return o(),r("div",B,[e("div",R,[e("div",{class:"uip-flex uip-gap-xxs uip-flex-center uip-cursor-pointer uip-flex-between uip-flex-grow",onClick:u[0]||(u[0]=g=>l.toggleVisibility())},[e("span",M,p(d.title),1),a(v,{class:"uip-link-muted uip-icon",icon:l.returnVisibilityIcon},null,8,["icon"])])]),i.open?(o(),r("div",q,[C(s.$slots,"default")])):x("",!0)])}const j=V(H,[["render",F]]),{__:t}=wp.i18n,z={components:{globalVariables:U,ToggleSection:j,CodeEditor:E(()=>N(()=>import("./index-CZJqsJJT.js"),__vite__mapDeps([0,1,2])))},data(){return{loading:!0,templateID:this.$route.params.templateID,mode:"light",menu:this.uipApp.data.adminMenu.menu,ui:{sideBar:{activeTab:"settings"},strings:{themeStyles:t("Theme styles"),revertStyle:t("Revert style back to default","uipress-lite"),appliesTo:t("Applies to","uipress-lite"),applyToEveryone:t("Apply to everyone","uipress-lite"),excludes:t("Excludes","uipress-lite"),templateType:t("Template type","uipress-lite"),uiTemplate:t("User template (admin theme)","uipress-lite"),adminPage:t("Admin Page","uipress-lite"),toolBar:t("Frontend toolbar","uipress-lite"),loginPage:t("Login page","uipress-lite"),appliesToSelfTitle:t("Template will now load for you!","uipress-lite"),appliesToSelf:t("Take care not to revoke access to anything you may need in the admin.","uipress-lite"),appliesToSelfMeta:t("If you haven't already, we recommend setting up:","uipress-lite"),safeMode:t("safe mode","uipress-lite"),customCSS:t("CSS","uipress-lite"),customJS:t("Javascript","uipress-lite"),light:t("Light","uipress-lite"),dark:t("Dark","uipress-lite"),templateName:t("Template name","uipress-lite"),active:t("Active","uipress-lite"),selectUsersAndRoles:t("Users and roles","uipress-lite"),searchUsersAndRoles:t("Search users and roles","uipress-lite"),custom:t("custom","uipress-lite"),menuIcon:t("Menu icon","uipress-lite"),addToSubmenu:t("Add to submenu","uipress-lite"),noneTopLevel:t("None (top level)","uipress-lite"),applyToSubsites:t("Apply to subsites","uipress-lite"),watchOut:t("Is this an admin page?","uipress-lite"),watchOutDescription:t("This template does not contain a content block. The content block is key to navigating the admin. Setting this live as a uiTemplate can cause a lock out.","uipress-lite"),pageLink:t("Link","uipress-lite"),name:t("Name","uipress-lite"),type:t("Type","uipress-lite"),templateSettings:t("Template settings","uipress-lite"),status:t("Status","uipress-lite"),general:t("General","uipress-lite"),slug:t("Slug","uipress-lite"),content:t("Content","uipress-lite"),theme:t("Theme","uipress-lite"),helpTab:t("Help tab","uipress-lite"),screenOptions:t("Screen options","uipress-lite"),pluginNotices:t("Plugin notices","uipress-lite"),adminTheme:t("Admin theme","uipress-lite"),frameDescription:t("The following options will only take effect on live templates.","uipress-lite")}},enabledDisabled:{false:{value:!1,label:t("Disabled","uipress-lite")},true:{value:!0,label:t("Enabled","uipress-lite")}},showHide:{false:{value:!1,label:t("Hide","uipress-lite")},true:{value:!0,label:t("Show","uipress-lite")}},switchOptions:{light:{value:"light",label:t("Light","uipress-lite")},dark:{value:"dark",label:t("Dark","uipress-lite")}},newVariable:{label:"",var:""}}},inject:["uiTemplate"],watch:{"uiTemplate.globalSettings.slug":{handler(){this.handleSlugChange()}}},async mounted(){this.loading=!1,setTimeout(this.mountHandlers,100),this.setDefaults()},beforeUnmount(){document.removeEventListener("click",this.handleClickEvents)},computed:{returnFormatedMenu(){return this.menu.filter(s=>s.type!=="sep").map(({uid:s,url:u,name:d})=>({name:s,url:u,label:d.replace(/<[^>]*>?/gm,"")}))},isTemplateWithoutFrame(){return this.uiTemplate.globalSettings.type!="ui-template"?!1:this.uiTemplate.content.length>0&&!JSON.stringify(this.uiTemplate.content).includes("uip-content")},returnPageLink(){const s=this.uiTemplate.globalSettings.slug?this.uiTemplate.globalSettings.slug:this.uiTemplate.globalSettings.name+"-uiptp-"+this.$route.params.templateID;return this.uipApp.data.options.adminURL+"admin.php?page="+this.formatPageName(s)}},methods:{setDefaults(){this.isObject(this.uiTemplate.globalSettings)||(this.uiTemplate.globalSettings={}),"contentTheme"in this.uiTemplate.globalSettings||(this.uiTemplate.globalSettings.contentTheme=!0),"helpTab"in this.uiTemplate.globalSettings||(this.uiTemplate.globalSettings.helpTab=!1),"screenOptions"in this.uiTemplate.globalSettings||(this.uiTemplate.globalSettings.screenOptions=!1),"pluginNotices"in this.uiTemplate.globalSettings||(this.uiTemplate.globalSettings.pluginNotices=!1)},mountHandlers(){document.addEventListener("click",this.handleClickEvents)},handleClickEvents(s){const u=document.querySelector("#uip-preview-canvas");!s.target||!u||u.contains(s.target)&&this.goBack()},returnTemplateOption(s,{uniqueKey:u,accepts:d}){const c=this.uiTemplate.globalSettings.options;if(c.hasOwnProperty(s)||(c[s]={}),c[s].hasOwnProperty(u))return c[s][u];let i;switch(d){case String:i="";break;case Array:i=[];break;case Object:i={};break;default:i=""}return c[s][u]=i,c[s][u]},saveTemplateOption(s,u,d){let c=this.uiTemplate.globalSettings.options;c[s][u]=d},formatPageName(s){return s?(s=s.toLowerCase(),s=s.replace("~[^pLd]+~u","-"),s=s.replace("~[^-w]+~",""),s=s.trim(),s=s.replace("~-+~","-"),s=s.replace(" ","-"),s):""},handleSlugChange(){const s=this.uiTemplate.globalSettings.slug;this.uiTemplate.globalSettings.slug=this.formatPageName(s)},goBack(){const s=this.$route.params.templateID;document.removeEventListener("click",this.handleClickEvents),this.$router.push({path:`/uibuilder/${s}/`,query:{...this.$route.query}})}}},G={class:"uip-position-fixed uip-top-80 uip-right-16 uip-bottom-16 uip-background-default uip-w-320 uip-flex uip-flex-column uip-row-gap-s uip-overflow-auto uip-fade-in uip-shadow",style:{"border-radius":"calc(var(--uip-border-radius-large) + var(--uip-padding-xs))","z-index":"2"},ref:"uipTemplateSettings",id:"uip-template-settings"},J={class:"uip-h-100p uip-w-100p uip-max-h-100p uip-max-w-100p uip-overflow-hidden uip-flex-grow uip-flex uip-flex-column uip-border-rounder uip-shadow uip-background-default"},K={class:"uip-padding-s uip-padding-remove-bottom"},W={class:"uip-flex uip-gap-xxs uip-flex-center"},Q={class:"uip-flex uip-flex-column uip-flex-grow"},X={class:"uip-text-bold uip-blank-input uip-text-l uip-text-emphasis"},Y={class:"uip-flex uip-flex-column uip-gap-s uip-padding-s uip-flex-grow uip-overflow-auto"},Z={class:"uip-flex uip-flex-column uip-row-gap-s"},$={key:0,class:"uip-background-red-wash uip-border-rounder uip-text-s uip-padding-xs uip-scale-in-top uip-flex uip-flex-column uip-row-gap-xs"},ee={class:"uip-text-bold uip-text-l uip-text-emphasis"},te={class:"uip-grid-col-1-3"},ie={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},se={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},le=["placeholder"],ue={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},ne={value:"ui-template"},pe={value:"ui-admin-page"},ae={value:"ui-front-template"},oe={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},re={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},ce={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},de={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},ge={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},me=["placeholder"],he={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},fe={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},xe={value:""},be=["value"],ve={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-flex-start uip-padding-top-xxs"},_e=["href"],Te={class:"uip-background-orange-wash uip-border-rounder uip-text-s uip-padding-xs uip-scale-in-top uip-flex uip-flex-column uip-row-gap-xs uip-margin-bottom-s uip-text-muted"},Se={class:"uip-grid-col-1-3"},ye={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},we={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},ke={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},Ae={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},Ve={class:"uip-grid-col-1-3"},Oe={class:"uip-flex uip-flex-center uip-flex uip-gap-xs"},De={class:"uip-text-muted uip-text-s"},Le={class:"uip-flex uip-flex-center"};function Pe(s,u,d,c,i,l){const v=h("AppIcon"),g=h("toggle-switch"),y=h("user-role-select"),O=h("icon-select"),_=h("ToggleSection"),D=h("globalVariables"),L=h("uip-tooltip");return o(),r("div",G,[e("div",J,[e("div",K,[e("div",W,[e("div",Q,[e("div",X,p(i.ui.strings.templateSettings),1)]),e("a",{class:"uip-link-muted hover:uip-background-muted uip-border-rounder uip-padding-xxs",onClick:u[0]||(u[0]=n=>l.goBack())},[a(v,{icon:"close"})])])]),e("div",Y,[u[7]||(u[7]=e("div",{class:""},null,-1)),a(_,{title:i.ui.strings.general,startOpen:!0},{default:b(()=>[e("div",Z,[l.isTemplateWithoutFrame?(o(),r("div",$,[e("div",ee,p(i.ui.strings.watchOut),1),e("div",null,p(i.ui.strings.watchOutDescription),1)])):x("",!0),e("div",te,[e("div",ie,[e("span",null,p(i.ui.strings.status),1)]),a(g,{options:i.enabledDisabled,activeValue:l.uiTemplate.globalSettings.status,dontAccentActive:!0,returnValue:function(n){l.uiTemplate.globalSettings.status=n}},null,8,["options","activeValue","returnValue"]),e("div",se,[e("span",null,p(i.ui.strings.name),1)]),T(e("input",{class:"uip-input uip-input-small uip-w-100p",type:"text","onUpdate:modelValue":u[1]||(u[1]=n=>l.uiTemplate.globalSettings.name=n),placeholder:i.ui.strings.templateName},null,8,le),[[w,l.uiTemplate.globalSettings.name]]),e("div",ue,[e("span",null,p(i.ui.strings.type),1)]),T(e("select",{class:"uip-input uip-input-small uip-w-100p","onUpdate:modelValue":u[2]||(u[2]=n=>l.uiTemplate.globalSettings.type=n)},[e("option",ne,p(i.ui.strings.uiTemplate),1),e("option",pe,p(i.ui.strings.adminPage),1),e("option",ae,p(i.ui.strings.toolBar),1)],512),[[k,l.uiTemplate.globalSettings.type]]),s.uipApp.data.options.multisite&&s.uipApp.data.options.networkActivated&&s.uipApp.data.options.primarySite?(o(),r(m,{key:0},[e("div",oe,[e("span",null,p(i.ui.strings.applyToSubsites),1)]),a(g,{options:i.enabledDisabled,activeValue:l.uiTemplate.globalSettings.applyToSubsites,dontAccentActive:!0,returnValue:function(n){l.uiTemplate.globalSettings.applyToSubsites=n}},null,8,["options","activeValue","returnValue"])],64)):x("",!0),e("div",re,p(i.ui.strings.applyToEveryone),1),a(g,{activeValue:l.uiTemplate.globalSettings.applyToEveryone,dontAccentActive:!0,returnValue:n=>l.uiTemplate.globalSettings.applyToEveryone=n},null,8,["activeValue","returnValue"]),e("div",ce,p(i.ui.strings.appliesTo),1),a(y,{selected:l.uiTemplate.globalSettings.rolesAndUsers,placeHolder:i.ui.strings.selectUsersAndRoles,searchPlaceHolder:i.ui.strings.searchUsersAndRoles,single:!1,updateSelected:n=>l.uiTemplate.globalSettings.rolesAndUsers=n},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"]),e("div",de,p(i.ui.strings.excludes),1),a(y,{selected:l.uiTemplate.globalSettings.excludesRolesAndUsers,placeHolder:i.ui.strings.selectUsersAndRoles,searchPlaceHolder:i.ui.strings.searchUsersAndRoles,single:!1,updateSelected:n=>l.uiTemplate.globalSettings.excludesRolesAndUsers=n},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"]),l.uiTemplate.globalSettings.type=="ui-admin-page"?(o(),r(m,{key:1},[e("div",ge,[e("span",null,p(i.ui.strings.slug),1)]),T(e("input",{class:"uip-input uip-input-small uip-w-100p",type:"text","onUpdate:modelValue":u[3]||(u[3]=n=>l.uiTemplate.globalSettings.slug=n),placeholder:i.ui.strings.slug},null,8,me),[[w,l.uiTemplate.globalSettings.slug]]),e("div",he,[e("span",null,p(i.ui.strings.menuIcon),1)]),a(O,{class:"uip-w-100p",value:l.uiTemplate.globalSettings.menuIcon,returnData:function(n){l.uiTemplate.globalSettings.menuIcon=n}},null,8,["value","returnData"]),e("div",fe,[e("span",null,p(i.ui.strings.addToSubmenu),1)]),T(e("select",{class:"uip-input","onUpdate:modelValue":u[4]||(u[4]=n=>l.uiTemplate.globalSettings.menuParent=n)},[e("option",xe,p(i.ui.strings.noneTopLevel),1),(o(!0),r(m,null,S(l.returnFormatedMenu,n=>(o(),r("option",{value:n.url},p(n.label),9,be))),256))],512),[[k,l.uiTemplate.globalSettings.menuParent]]),e("div",ve,[e("span",null,p(i.ui.strings.pageLink),1)]),e("a",{href:l.returnPageLink,target:"_BLANK",class:"uip-link-muted"},p(l.returnPageLink),9,_e)],64)):x("",!0)])])]),_:1},8,["title"]),l.uiTemplate.globalSettings.type=="ui-template"?(o(),r(m,{key:0},[u[5]||(u[5]=e("div",{class:"uip-border-top"},null,-1)),a(_,{title:i.ui.strings.content,startOpen:!0},{default:b(()=>[e("div",Te,p(i.ui.strings.frameDescription),1),e("div",Se,[e("div",ye,[e("span",null,p(i.ui.strings.theme),1)]),a(g,{options:i.enabledDisabled,activeValue:l.uiTemplate.globalSettings.contentTheme,dontAccentActive:!0,returnValue:n=>{l.uiTemplate.globalSettings.contentTheme=n}},null,8,["options","activeValue","returnValue"]),e("div",we,[e("span",null,p(i.ui.strings.helpTab),1)]),a(g,{options:i.showHide,activeValue:l.uiTemplate.globalSettings.helpTab,dontAccentActive:!0,returnValue:n=>{l.uiTemplate.globalSettings.helpTab=n}},null,8,["options","activeValue","returnValue"]),e("div",ke,[e("span",null,p(i.ui.strings.screenOptions),1)]),a(g,{options:i.showHide,activeValue:l.uiTemplate.globalSettings.screenOptions,dontAccentActive:!0,returnValue:n=>{l.uiTemplate.globalSettings.screenOptions=n}},null,8,["options","activeValue","returnValue"]),e("div",Ae,[e("span",null,p(i.ui.strings.pluginNotices),1)]),a(g,{options:i.showHide,activeValue:l.uiTemplate.globalSettings.pluginNotices,dontAccentActive:!0,returnValue:n=>{l.uiTemplate.globalSettings.pluginNotices=n}},null,8,["options","activeValue","returnValue"])])]),_:1},8,["title"])],64)):x("",!0),u[8]||(u[8]=e("div",{class:"uip-border-top"},null,-1)),a(_,{title:i.ui.strings.themeStyles,startOpen:!0},{default:b(()=>[a(D)]),_:1},8,["title"]),u[9]||(u[9]=e("div",{class:"uip-border-top"},null,-1)),(o(!0),r(m,null,S(s.uipApp.data.templateGroupOptions,n=>(o(),r(m,null,[a(_,{title:n.label,startOpen:!1},{default:b(()=>[e("div",Ve,[(o(!0),r(m,null,S(n.settings,f=>(o(),r(m,null,[e("div",Oe,[e("span",De,p(f.label),1),f.help?(o(),A(L,{key:0,message:f.help},{default:b(()=>[a(v,{icon:"question_mark",class:"uip-icon uip-border-circle uip-background-grey uip-cursor-pointer",style:{"font-size":"12px"}})]),_:2},1032,["message"])):x("",!0)]),e("div",Le,[(o(),A(I(f.component),{value:l.returnTemplateOption(n.name,f),args:f.args,returnData:P=>{l.saveTemplateOption(n.name,f.uniqueKey,P)}},null,8,["value","args","returnData"]))])],64))),256))])]),_:2},1032,["title"]),u[6]||(u[6]=e("div",{class:"uip-border-top"},null,-1))],64))),256))])])],512)}const He=V(z,[["render",Pe]]);export{He as default};
//# sourceMappingURL=index-CjDKXeEP.js.map
