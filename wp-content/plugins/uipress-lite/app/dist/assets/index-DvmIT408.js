import{o as s,g as o,E as f,F as y,D as M,t as n,b as $,w as q,c as G,f as S,q as g,B as K,C as Y,v as L,u as O,k as B,j as T,z as r,T as U,G as b,A as N,ad as W,y as m,l as H}from"./index-COn-5JHg.js";const J={__name:"index",props:{rows:{type:[Number]},columns:{type:[Number]}},setup(e){return(w,x)=>(s(!0),o(y,null,f(e.rows,k=>(s(),o("tr",{class:"animate-pulse",key:`loader-${k}`},[(s(!0),o(y,null,f(e.columns,p=>(s(),o("td",{class:M(["uip-padding-xs",p===2?"uip-w-500p":""])},x[0]||(x[0]=[n("div",{class:"uip-h-32 uip-background-muted uip-border-rounder"},null,-1)]),2))),256))]))),128))}},P={class:"uip-flex uip-flex-column uip-gap-m uip-w-100p"},Q={class:"uip-flex uip-flex-row gauip-padding-xs uip-flex-center uip-w-100p"},X={class:"uip-flex-grow"},Z={class:"uip-position-relative uip-w-100p",style:{"max-width":"400px"}},_=["placeholder"],ee={class:"uip-flex uip-gap-xs uip-flex-center"},te={key:0,class:"uip-w-100p uip-border-collapse uip-text-m"},ie={class:"uip-text-left"},ne={key:0,class:"uip-text-muted w-1 uip-padding-s uip-border-top uip-border-bottom uip-w-30"},se={key:0},oe={key:0},ae=["colspan"],le={key:"emptydata"},ue=["colspan"],de={key:"emptyquery"},re=["colspan"],ce={key:2},pe=["colspan"],he=["onContextmenu","onClick"],ge={key:0,class:"uip-padding-left-s uip-padding-right-s uip-padding-top-xs uip-padding-bottom-xs group-hover:bg-slate-50 transition-all uip-cursor-pointer uip-border-round-left uip-w-30"},me=["checked","onChange"],fe=["colspan"],ye={key:0,class:"uip-padding-top-s uip-flex uip-flex-row uip-gap-m uip-flex-between uip-flex-center uip-padding-xs uip-w-100p"},xe={class:"uip-text-muted"},be={class:"uip-flex uip-gap-s uip-flex-center"},ke={class:"uip-text-muted"},ve=["disabled"],we=["disabled"],$e={__name:"index",props:{columns:{default:()=>[],type:Array},data:{default:()=>[],type:Array},rowRightClick:{type:Function},rowClick:{type:Function},pagination:{type:Object},fetching:{type:Boolean},defaultMode:{default:()=>"list",type:String},onlyMode:{type:String},hideSelect:{type:Boolean},hasBorders:{type:Boolean}},emits:["previous","next","search","selected","griddragenter","griddragover","griddragleave","griddrop"],setup(e,{expose:w,emit:x}){const{__:k}=wp.i18n,p=x,u=e,C=$(u.defaultMode),d=$([]);q(d,(i,t)=>{p("selected",i)},{deep:!0});const A=(i,t)=>{let l=u.hideSelect&&t===0?["uip-border-round-left"]:[];return t==u.columns.length-1&&l.push("uip-border-round-right"),u.hasBorders&&(l=["uip-border-bottom",""]),l.join(" ")},D=i=>{i.target.checked?u.data.forEach(l=>{d.value.push(l.id)}):d.value=[]},V=(i,t)=>{const l=d.value.findIndex(v=>v.id===t.id);i&&!d.value.includes(t.id)&&d.value.push(t.id),!i&&d.value.includes(t.id)&&d.value.splice(l,1)},E=i=>{let t=i/30;return t=t>.6?.6:t,`${t.toFixed(3)}s`},F=(i,t)=>{u.rowRightClick&&(i.preventDefault(),u.rowRightClick(i,t))},R=(i,t)=>{u.rowClick&&(i.preventDefault(),u.rowClick(i,t))},j=i=>{if(i.width)return`width:${i.width}`},z=G(()=>C.value);return w({returnMode:z}),(i,t)=>{const l=S("AppIcon"),v=S("EmptyTable");return s(),o("div",P,[n("div",Q,[n("div",X,[n("div",Z,[g(l,{icon:"search",class:"uip-text-muted uip-position-absolute uip-text-l uip-top-50p uip-translateY--50p",style:{left:"8px"}}),K(n("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.pagination.search=a),onKeyup:t[1]||(t[1]=L(a=>p("search"),["enter"])),type:"text",class:"uip-input",style:{background:"transparent","padding-left":"36px","padding-right":"36px",width:"100%",border:"none"},placeholder:O(k)("Search...","uipress-lite")},null,40,_),[[Y,e.pagination.search]]),g(U,null,{default:B(()=>[e.pagination.search?(s(),T(l,{key:0,icon:"return",class:"uip-text-muted uip-position-absolute uip-text-l uip-top-50p uip-translateY--50p",style:{right:"8px"}})):r("",!0)]),_:1})])]),n("div",ee,[b(i.$slots,"right-actions")])]),C.value==="list"&&(!e.onlyMode||e.onlyMode==="list")?(s(),o("table",te,[n("thead",null,[n("tr",ie,[e.hideSelect?r("",!0):(s(),o("th",ne,[n("input",{type:"checkbox",class:"uip-checkbox",onClick:D})])),(s(!0),o(y,null,f(e.columns,(a,h)=>(s(),o("th",{key:a.key,class:"uip-text-muted uip-padding-s uip-border-top uip-border-bottom uip-text-weight-normal",style:N(j(a))},[b(i.$slots,"head-"+a.key,{column:a},()=>[H(m(a.label),1)])],4))),128))])]),e.fetching?(s(),o("tbody",se,[e.hasBorders?r("",!0):(s(),o("tr",oe,[n("td",{colspan:e.columns.length},t[4]||(t[4]=[n("div",{class:"uip-h-10"},null,-1)]),8,ae)])),g(J,{columns:e.columns.length,rows:10},null,8,["columns"])])):(s(),T(W,{key:1,tag:"tbody",name:"tableitem",css:!1},{default:B(()=>[!e.data.length&&!e.pagination.search.length&&!e.fetching?(s(),o("tr",le,[n("td",{colspan:e.columns.length},[b(i.$slots,"empty")],8,ue)])):r("",!0),!e.data.length&&e.pagination.search.length&&!e.fetching?(s(),o("tr",de,[n("td",{colspan:e.columns.length},[g(v,{title:"Nothing found",description:`Nothing found for search term: '${e.pagination.search}'`},null,8,["description"])],8,re)])):r("",!0),e.hasBorders?r("",!0):(s(),o("tr",ce,[n("td",{colspan:e.columns.length},t[5]||(t[5]=[n("div",{class:"uip-h-10"},null,-1)]),8,pe)])),(s(!0),o(y,null,f(e.data,(a,h)=>(s(),o("tr",{key:a.id?a.id:h,style:N(`transition-delay:${E(h)}`),onContextmenu:c=>F(c,h),onClick:c=>R(c,h),class:"uip-row-hover"},[e.hideSelect?r("",!0):(s(),o("td",ge,[n("input",{type:"checkbox",class:"uip-checkbox",checked:!!d.value.includes(a.id),onChange:c=>V(i.d,a)},null,40,me)])),(s(!0),o(y,null,f(e.columns,(c,I)=>(s(),o("td",{class:M(["uip-padding-left-s uip-padding-right-s uip-padding-top-xs uip-padding-bottom-xs group-hover:bg-slate-50 transition-all uip-cursor-pointer",A(c,I)]),key:c.key},[b(i.$slots,"row-"+c.key,{row:a,index:h})],2))),128))],44,he))),128))]),_:3})),n("tfoot",null,[n("tr",null,[n("td",{colspan:e.columns.length+1},[e.pagination&&e.data.length&&e.pagination.pages>1?(s(),o("div",ye,[n("span",xe,m(e.pagination.per_page)+" of "+m(e.pagination.total),1),n("div",be,[n("span",ke,m(e.pagination.page)+" of "+m(e.pagination.pages),1),n("button",{disabled:e.pagination.page===1,onClick:t[2]||(t[2]=a=>p("previous")),class:"uip-button-default"},[g(l,{icon:"chevron_left"})],8,ve),n("button",{onClick:t[3]||(t[3]=a=>p("next")),disabled:e.pagination.page===e.pagination.pages,class:"uip-button-default"},[g(l,{icon:"chevron_right"})],8,we)])])):r("",!0)],8,fe)])])])):r("",!0)])}}};export{$e as _};
//# sourceMappingURL=index-DvmIT408.js.map
