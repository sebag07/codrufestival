{"version":3,"mappings":"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","names":["__","_sfc_main","notiID","domain","query","url","formData","response","key","activationResponse","instance","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_8","$data","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_loading_chart","_hoisted_2","_createElementVNode","_toDisplayString","_hoisted_7","$options","_component_AppIcon","_cache","_withModifiers","args","$event","CodeEditor","defineAsyncComponent","globalVariables","LicenceManager","Tabs","newValue","oldValue","activePlugins","options","group","option","value","sendData","sq","lqN","lqDes","layout","today","filename","dataStr","dlAnchorElem","message","event","thefile","handleError","reader","evt","parsed","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_component_Tabs","_Fragment","_component_LicenceManager","_createCommentVNode","_renderList","_ctx","_hoisted_9","_hoisted_14","_createBlock","_resolveDynamicComponent","data","_component_globalVariables"],"ignoreList":[],"sources":["../../src/uibuilder/licence-manager/index.vue","../../src/pages/site-settings/index.vue"],"sourcesContent":["<script>\n/**\n * Builds the licence manager\n * @since 3.3.095\n */\nconst { __ } = wp.i18n;\nimport { nextTick } from \"vue\";\nexport default {\n  data() {\n    return {\n      loading: true,\n      validating: false,\n      userKey: \"\",\n      activated: false,\n      URL: \"https://api.uipress.co/\",\n      menuWatcher: [],\n      strings: {\n        licence: __(\"Licence\", \"uipress-lite\"),\n        noValidKey: __(\"Please enter a valid licence key\", \"uipress-lite\"),\n        activate: __(\"Activate\", \"uipress-lite\"),\n        validatingKey: __(\"Validating key\", \"uipress-lite\"),\n        licenceActive: __(\"Licence active\", \"uipress-lite\"),\n        removeKey: __(\"Remove\", \"uipress-lite\"),\n        removingKey: __(\"Removing key\", \"uipress-lite\"),\n        help: __(\"If you have a valid uipress pro key, add it here.\", \"uipress-lite\"),\n      },\n    };\n  },\n  mounted() {\n    this.getData();\n  },\n  methods: {\n    /**\n     * Checkers user key\n     *\n     * @since 3.3.095\n     */\n    async validateLicenceKey() {\n      // Bail if empty key\n      if (!this.userKey) {\n        this.uipApp.notifications.notify(this.strings.noValidKey, \"\", \"error\", true);\n        return;\n      }\n\n      const notiID = this.uipApp.notifications.notify(this.strings.validatingKey, \"\", \"default\", false, true);\n\n      this.validating = true;\n      let domain = this.uipApp.data.options.domain;\n      let query = \"\";\n      query += \"?k=\" + this.userKey;\n      query += \"&d=\" + domain;\n      query += \"&instance=\";\n      let url = this.URL + \"validate/\" + query;\n      let formData = new FormData();\n\n      const response = await this.sendServerRequest(url, formData);\n      // Generic error\n      if (response.error) {\n        this.validating = false;\n        this.uipApp.notifications.notify(response.message, \"\", \"error\", true);\n      }\n      // it's an error, unable to contact licence server\n      else if (response instanceof Error) {\n        this.validating = false;\n        this.uipApp.notifications.notify(__(\"Check failed\", \"uipress-pro\"), __(\"Unable to contact licencing servers. Please try again later\", \"uipress-pro\"), \"error\", true);\n      }\n      //It's a licence key error\n      else if (response.state == \"false\") {\n        this.validating = false;\n        this.uipApp.notifications.notify(response.message, \"\", \"error\", true);\n      }\n      // Activated\n      else if (response.state == \"true\") {\n        this.sp = false;\n        this.validating = false;\n        this.activated = true;\n        this.uipApp.notifications.notify(__(\"Thank you!\", \"uipress-pro\"), __(\"Your key is valid and you can now use pro features\", \"uipress-pro\"), \"success\", true);\n        this.saveData(this.userKey, response);\n        this.saveUserPreference(\"uipfa\", 2, false);\n        this.userKey = \"\";\n      }\n      // Something went wrong but not sure what\n      else {\n        this.validating = false;\n        this.uipApp.notifications.notify(__(\"Check failed\", \"uipress-pro\"), __(\"Something went wrong. Please try again later\", \"uipress-pro\"), \"error\", true);\n      }\n\n      // Remove notification\n      this.uipApp.notifications.remove(notiID);\n    },\n\n    /**\n     * Saves licence key details\n     *\n     * @param {string} key\n     * @param {object} activationResponse - activation response\n     * @since 3.2.00\n     */\n    async saveData(key, activationResponse) {\n      const instance = \"instance_id\" in activationResponse ? activationResponse.instance_id : false;\n\n      let formData = new FormData();\n      formData.append(\"action\", \"uip_save_uip_pro_data\");\n      formData.append(\"security\", uip_ajax.security);\n      formData.append(\"key\", key);\n      formData.append(\"instance\", instance);\n      formData.append(\"multisite\", this.uipApp.data.options.multisite);\n      formData.append(\"networkActivated\", this.uipApp.data.options.networkActivated);\n      formData.append(\"primarySite\", this.uipApp.data.options.primarySite);\n\n      const response = await this.sendServerRequest(uip_ajax.ajax_url, formData);\n\n      // Handle error response\n      if (response.error) {\n        this.uipApp.notifications.notify(response.message, \"\", \"error\", true);\n        return;\n      }\n    },\n\n    /**\n     * Main function for fetching licence details\n     *\n     * @since 3.2.0\n     */\n    async getData() {\n      this.loading = true;\n      let formData = new FormData();\n      formData.append(\"action\", \"uip_get_pro_app_data\");\n      formData.append(\"security\", uip_ajax.security);\n\n      const response = await this.sendServerRequest(uip_ajax.ajax_url, formData);\n\n      this.loading = false;\n\n      // Handle error\n      if (response.error) {\n        this.uipApp.notifications.notify(response.message, \"\", \"error\", true);\n        this.activated = false;\n        return;\n      }\n\n      // No uipress pro keys\n      if (!response.uip_pro) {\n        this.activated = false;\n        return;\n      }\n\n      this.activated = true;\n      this.userData = response.uip_pro;\n    },\n\n    /**\n     * Removes uipress activation\n     *\n     * @since 3.2.13\n     */\n    removeData() {\n      const notiID = this.uipApp.notifications.notify(this.strings.removingKey, \"\", \"default\", false, true);\n\n      let formData = new FormData();\n      formData.append(\"action\", \"uip_remove_uip_pro_data\");\n      formData.append(\"security\", uip_ajax.security);\n\n      this.sendServerRequest(uip_ajax.ajax_url, formData);\n      // Remove notification\n      this.uipApp.notifications.remove(notiID);\n      this.uipApp.notifications.notify(__(\"Key successfully removed\", \"uipress-pro\"), \"\", \"success\", true);\n      this.activated = false;\n    },\n  },\n};\n</script>\n\n<template>\n  <div v-if=\"loading\" class=\"uip-w-100p uip-flex uip-flex-middle uip-flex-center uip-padding-s\"><loading-chart></loading-chart></div>\n\n  <div v-else class=\"uip-grid-col-4-6\" style=\"grid-gap: var(--uip-margin-m)\">\n    <div class=\"uip-flex uip-flex-column uip-gap-xxs\">\n      <span class=\"uip-text-emphasis\">{{ strings.licence }}</span>\n      <div class=\"uip-text-muted\">{{ strings.help }}</div>\n    </div>\n\n    <form v-if=\"!activated\" class=\"uip-flex uip-gap-xs uip-flex-no-wrap\" autocomplete=\"off\" @submit.prevent=\"validateLicenceKey\">\n      <input class=\"uip-input-small uip-w-100p\" type=\"password\" v-model=\"userKey\" placeholder=\"xxxx-xxxx-xxxx-xxxx\" />\n\n      <input type=\"submit\" class=\"uip-button-primary uip-text-s\" :value=\"strings.activate\" />\n    </form>\n\n    <div v-else class=\"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-start\">\n      <div class=\"uip-background-green-wash uip-text-green uip-text-bold uip-border-rounder uip-text-s uip-padding-xs uip-flex uip-flex-column uip-row-gap-xs uip-flex-grow uip-text-center\">\n        {{ strings.licenceActive }}\n      </div>\n\n      <button @click=\"removeData()\" class=\"uip-button-primary uip-text-s uip-flex uip-gap-xxs uip-flex-center\">\n        <AppIcon icon=\"close\" class=\"uip-icon uip-text-muted uip-text-l uip-text-inverse\" />\n        <span>{{ strings.removeKey }}</span>\n      </button>\n    </div>\n  </div>\n</template>\n","<script>\n/**\n * Builds the main ui builder shell\n * @since 3.0.0\n */\nconst { __ } = wp.i18n;\nimport { nextTick, defineAsyncComponent } from \"vue\";\n\n// Comps\nimport globalVariables from \"@/uibuilder/variables/index.vue\";\nimport LicenceManager from \"@/uibuilder/licence-manager/index.vue\";\nimport Tabs from \"@/components/tabs/index.vue\";\n\nconst CodeEditor = defineAsyncComponent(() => import(\"@/options/code-editor/index.vue\"));\n\nexport default {\n  components: { globalVariables, LicenceManager, Tabs, CodeEditor },\n  data() {\n    return {\n      loading: false,\n      globalSettings: {},\n      search: \"\",\n      render: true,\n      activeTab: \"general\",\n      ui: {\n        strings: {\n          siteSettings: __(\"Site settings\", \"uipress-lite\"),\n          saveSettings: __(\"Save settings\", \"uipress-lite\"),\n          settingsSaved: __(\"Settings saved\", \"uipress-lite\"),\n          proOption: __(\"This is a pro option. Upgrade to unlock\", \"uipress-lite\"),\n          searchSettings: __(\"Search settings\", \"uipress-lite\"),\n          licence: __(\"Licence\", \"uipress-lite\"),\n        },\n      },\n    };\n  },\n\n  created() {\n    this.getSettings();\n  },\n  watch: {\n    \"uiTemplate.globalSettings\": {\n      handler(newValue, oldValue) {\n        return;\n        this.checkTemplateApplies();\n      },\n      deep: true,\n    },\n    \"uiTemplate.globalSettings\": {\n      handler(newValue, oldValue) {\n        return;\n        this.checkTemplateApplies();\n      },\n      deep: true,\n    },\n  },\n  computed: {\n    /**\n     * Checks if pro plugin is activated\n     *\n     * @since 3.3.095\n     */\n    proPluginActivated() {\n      let activePlugins = this.uipApp.data.options.activePlugins;\n      activePlugins = this.isObject(activePlugins) ? Object.values(activePlugins) : activePlugins;\n      return activePlugins.includes(\"uipress-pro/uipress-pro.php\");\n    },\n\n    /**\n     * Returns tabs from settings\n     *\n     * @since 3.3.095\n     */\n    returnTabs() {\n      let options = {};\n\n      for (let key in this.uipApp.data.globalGroupOptions) {\n        options[key] = {\n          label: this.uipApp.data.globalGroupOptions[key].label,\n          value: key,\n        };\n      }\n\n      return options;\n    },\n  },\n  methods: {\n    /**\n     * Get's settings object\n     *\n     * @since 3.2.13\n     */\n    async getSettings() {\n      this.loading = true;\n\n      let formData = new FormData();\n      formData.append(\"action\", \"uip_get_global_settings\");\n      formData.append(\"security\", uip_ajax.security);\n\n      const response = await this.sendServerRequest(uip_ajax.ajax_url, formData);\n\n      this.loading = false;\n\n      // Handle error\n      if (response.error) {\n        this.uipApp.notifications.notify(response.message, \"\", \"error\", true);\n        return;\n      }\n\n      //Get theme options\n      await this.getUserStyles();\n\n      if (!response.options) return;\n      if (this.isObject(response.options)) {\n        if (Object.keys(response.options).length > 0) {\n          this.globalSettings = response.options;\n        }\n      }\n    },\n\n    /**\n     * Get's user styles\n     *\n     * @since 3.2.13\n     */\n    async getUserStyles() {\n      //Build form data for fetch request\n      let formData = new FormData();\n      formData.append(\"action\", \"uip_get_ui_styles\");\n      formData.append(\"security\", uip_ajax.security);\n\n      const response = await this.sendServerRequest(uip_ajax.ajax_url, formData);\n\n      if (response.error) return;\n      if (response.styles) this.uipApp.data.themeStyles = { ...this.uipApp.data.themeStyles, ...response.styles };\n    },\n\n    /**\n     * Returns template option or it's required default value\n     *\n     * @param {String} group\n     * @param {Object} option\n     * @since 3.2.1.3\n     */\n    returnTemplateOption(group, option) {\n      let key = option.uniqueKey;\n      let options = this.globalSettings;\n      if (!(group in options)) {\n        options[group] = {};\n      }\n      if (key in options[group]) return options[group][key];\n\n      // Set default values\n      switch (option.accepts) {\n        case String:\n          options[group][key] = \"\";\n          break;\n        case Array:\n          options[group][key] = [];\n          break;\n        case Object:\n          options[group][key] = {};\n          break;\n        case Boolean:\n          options[group][key] = false;\n          break;\n      }\n\n      return options[group][key];\n    },\n\n    /**\n     * Saves a template option\n     *\n     * @param {String} group\n     * @param {String} key\n     * @param {*} value\n     * @since 3.2.13\n     */\n    saveTemplateOption(group, key, value) {\n      let options = this.globalSettings;\n      options[group][key] = value;\n    },\n\n    /**\n     * Saves template settings\n     *\n     * @returns {Promise}\n     * @since 3.2.13\n     */\n    async saveSettings() {\n      let sendData = this.prepareJSON(this.globalSettings);\n\n      let formData = new FormData();\n      formData.append(\"action\", \"uip_save_global_settings\");\n      formData.append(\"security\", uip_ajax.security);\n      formData.append(\"settings\", sendData);\n\n      const response = await this.sendServerRequest(uip_ajax.ajax_url, formData);\n\n      // Handle error\n      if (response.error) {\n        this.uipApp.notifications.notify(response.message, \"\", \"error\", true);\n        return;\n      }\n\n      this.uipApp.notifications.notify(this.ui.strings.settingsSaved, \"\", \"success\", true);\n    },\n\n    /**\n     * Returns options condition if it has one\n     *\n     * @param {Object} group\n     * @since 3.2.13\n     */\n    conditionalShowGroup(group) {\n      if (!(\"condition\" in group)) {\n        return true;\n      }\n\n      return group.condition(this.globalSettings);\n    },\n\n    /**\n     * Returns whether an item is in a given search\n     *\n     * @param {Object} option\n     * @since 3.2.13\n     */\n    inSearch(option) {\n      const sq = this.search.toLowerCase();\n      const lqN = option.label.toLowerCase();\n      const lqDes = option.help.toLowerCase();\n\n      if (lqN.includes(sq) || lqDes.includes(sq)) return true;\n\n      return false;\n    },\n\n    /**\n     * Exports global settings into a JSON file.\n     *\n     * @since 3.2.13\n     */\n    exportSettings() {\n      // Prepare the settings data.\n      const layout = JSON.stringify({ uipSettings: this.globalSettings });\n\n      // Get today's date in the format: mm-dd-yyyy.\n      const today = new Date();\n      const formattedDate = `${String(today.getMonth() + 1).padStart(2, \"0\")}-${String(today.getDate()).padStart(2, \"0\")}-${today.getFullYear()}`;\n\n      // Construct the filename for the exported settings.\n      const filename = `uip-site-settings-${formattedDate}.json`;\n\n      // Create a data URI for the JSON content.\n      const dataStr = `data:text/json;charset=utf-8,${encodeURIComponent(layout)}`;\n\n      // Set the attributes for the download link and trigger the download.\n      const dlAnchorElem = this.$refs.exporter;\n      dlAnchorElem.setAttribute(\"href\", dataStr);\n      dlAnchorElem.setAttribute(\"download\", filename);\n      dlAnchorElem.click();\n\n      // Notify the user about the successful export.\n      const message = __(\"Settings exported\", \"uipress-lite\");\n      this.uipApp.notifications.notify(message, \"\", \"success\", true);\n    },\n\n    /**\n     * Imports settings from json file\n     *\n     * @param {Object} event - the file change event\n     * @since 3.2.13\n     */\n    importSettings(event) {\n      const notiID = this.uipApp.notifications.notify(__(\"Importing settings\", \"uipress-lite\"), \"\", \"default\", false, true);\n      const fileInput = event.target;\n      const thefile = fileInput.files[0];\n\n      const handleError = (message) => {\n        this.uipApp.notifications.notify(message, \"\", \"error\", true, false);\n        this.uipApp.notifications.remove(notiID);\n      };\n\n      if (thefile.type !== \"application/json\") {\n        return handleError(__(\"Settings must be in valid JSON format\", \"uipress-lite\"));\n      }\n\n      if (thefile.size > 1000000) {\n        return handleError(__(\"Uploaded file is too big\", \"uipress-lite\"));\n      }\n\n      const reader = new FileReader();\n      reader.readAsText(thefile, \"UTF-8\");\n\n      reader.onload = (evt) => {\n        try {\n          const parsed = JSON.parse(evt.target.result);\n\n          if (!parsed || !parsed.uipSettings || !this.isObject(parsed.uipSettings)) {\n            return handleError(__(\"Settings mismatch\", \"uipress-lite\"));\n          }\n\n          this.globalSettings = parsed.uipSettings;\n\n          this.uipApp.notifications.notify(__(\"Settings imported\", \"uipress-lite\"), \"\", \"success\", true, false);\n          this.uipApp.notifications.remove(notiID);\n\n          this.render = false;\n          this.$nextTick(() => {\n            this.render = true;\n          });\n        } catch (error) {\n          handleError(__(\"JSON parse failed\", \"uipress-lite\"));\n        }\n      };\n    },\n  },\n};\n</script>\n\n<template>\n  <!-- Site settings -->\n  <div class=\"uip-flex uip-flex-column uip-w-100p uip-max-h-100p uip-flex-no-wrap uip-row-gap-m uip-padding-top-s\">\n    <div class=\"uip-flex uip-flex-between uip-flex-center\">\n      <div class=\"uip-text-l uip-text-emphasis\">{{ ui.strings.siteSettings }}</div>\n      <div class=\"uip-flex uip-gap-xs\">\n        <button class=\"uip-button-default\" @click=\"exportSettings()\">\n          <AppIcon class=\"uip-icon\" icon=\"download\" />\n        </button>\n        <a class=\"uip-hidden\" ref=\"exporter\"></a>\n\n        <label class=\"uip-button-default\">\n          <AppIcon icon=\"upload\" class=\"uip-icon\" />\n          <input hidden accept=\".json\" type=\"file\" single=\"\" id=\"uip-import-layout\" @change=\"importSettings($event)\" />\n        </label>\n\n        <button class=\"uip-button-primary\" @click=\"saveSettings()\">{{ ui.strings.saveSettings }}</button>\n      </div>\n    </div>\n\n    <Tabs :options=\"returnTabs\" v-model=\"activeTab\" class=\"uip-margin-bottom-s\" />\n\n    <div class=\"uip-flex-grow uip-flex uip-flex-column uip-row-gap-s uip-padding-left-xs uip-padding-right-xs\" style=\"overflow: auto\">\n      <!-- Dynamic settings -->\n\n      <div class=\"uip-flex uip-flex-column uip-row-gap-m\">\n        <!--Loop through group settings -->\n\n        <!-- Licence manager -->\n        <template v-if=\"proPluginActivated && activeTab == 'general'\">\n          <LicenceManager />\n          <div class=\"uip-border-top\"></div>\n        </template>\n\n        <template v-for=\"option in uipApp.data.globalGroupOptions[activeTab].settings\">\n          <div v-if=\"conditionalShowGroup(option)\" class=\"uip-grid-col-4-6\" style=\"grid-gap: var(--uip-margin-m)\">\n            <div class=\"uip-flex uip-flex-column uip-gap-xxs\">\n              <span class=\"uip-text-emphasis\">{{ option.label }}</span>\n              <div class=\"uip-text-muted\">{{ option.help }}</div>\n            </div>\n\n            <div class=\"uip-w-100p\">\n              <a\n                href=\"https://uipress.co?utm_source=uipressupgrade&utm_medium=referral\"\n                target=\"_BLANK\"\n                v-if=\"option.proOption\"\n                class=\"uip-padding-xxs uip-border-round uip-background-green-wash uip-text-s uip-link-default uip-no-underline uip-w-100p uip-text-center uip-flex\"\n              >\n                {{ ui.strings.proOption }}\n              </a>\n\n              <component\n                v-else\n                :is=\"option.component\"\n                :value=\"returnTemplateOption(uipApp.data.globalGroupOptions[activeTab].name, option)\"\n                :args=\"option.args\"\n                :returnData=\"\n                  (data) => {\n                    saveTemplateOption(uipApp.data.globalGroupOptions[activeTab].name, option.uniqueKey, data);\n                  }\n                \"\n              ></component>\n            </div>\n          </div>\n\n          <div class=\"uip-border-top\"></div>\n        </template>\n\n        <template v-if=\"activeTab == 'theme'\">\n          <globalVariables />\n        </template>\n        <!--End loop through group settings -->\n      </div>\n      <!-- End dynamic settings -->\n    </div>\n  </div>\n</template>\n"],"file":"assets/index-u6gB1kpK.js"}