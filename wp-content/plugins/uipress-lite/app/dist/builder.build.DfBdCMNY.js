const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DEZJ-fwh.js","assets/index-COn-5JHg.js","assets/index-DvmIT408.js","assets/index-u6gB1kpK.js","assets/index-BGAHiO-M.js","assets/fonts-CcfgmNTE.js","assets/index-BlvaEJug.js","assets/index-B2FXRSrn.js","assets/index-BHfGwPer.js","assets/index-DASFFZQX.js","assets/index-B1b5Z-O1.js","assets/index-CjDKXeEP.js"])))=>i.map(i=>d[i]);
var Mc=Object.defineProperty;var Bc=(n,e,t)=>e in n?Mc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var D=(n,e,t)=>Bc(n,typeof e!="symbol"?e+"":e,t);import{s as $c,u as qs,a as jc,n as Fi,i as yn,d as su,r as iu,c as Ge,h as ru,p as zr,b as Ls,w as ou,_ as Zt,e as J,M as Uc,f as P,o as _,g as k,j as he,k as Y,l as rn,m as ss,q as O,t as m,v as Vc,x as We,y as C,F as le,z,A as Qn,B as Z,C as ne,D as Ke,E as be,T as Mi,G as bn,H as Hc,I as Fc,K as zc,J as Kc,L as Jn,N as Gc,S as Tl,O as Wc,P as Xc,Q as Yc,R as Zc,U as Qc,V as Jc,W as ep}from"./assets/index-COn-5JHg.js";/* empty css                     *//*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Hn=typeof document<"u";function lu(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function tp(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&lu(n.default)}const ce=Object.assign;function Kr(n,e){const t={};for(const s in e){const i=e[s];t[s]=mt(i)?i.map(n):n(i)}return t}const Rs=()=>{},mt=Array.isArray,au=/#/g,np=/&/g,sp=/\//g,ip=/=/g,rp=/\?/g,uu=/\+/g,op=/%5B/g,lp=/%5D/g,cu=/%5E/g,ap=/%60/g,pu=/%7B/g,up=/%7C/g,hu=/%7D/g,cp=/%20/g;function Zo(n){return encodeURI(""+n).replace(up,"|").replace(op,"[").replace(lp,"]")}function pp(n){return Zo(n).replace(pu,"{").replace(hu,"}").replace(cu,"^")}function _o(n){return Zo(n).replace(uu,"%2B").replace(cp,"+").replace(au,"%23").replace(np,"%26").replace(ap,"`").replace(pu,"{").replace(hu,"}").replace(cu,"^")}function hp(n){return _o(n).replace(ip,"%3D")}function dp(n){return Zo(n).replace(au,"%23").replace(rp,"%3F")}function fp(n){return n==null?"":dp(n).replace(sp,"%2F")}function js(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const gp=/\/$/,mp=n=>n.replace(gp,"");function Gr(n,e,t="/"){let s,i={},r="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=e.slice(0,a),r=e.slice(a+1,l>-1?l:e.length),i=n(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=xp(s??e,t),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:js(o)}}function bp(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Nl(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function vp(n,e,t){const s=e.matched.length-1,i=t.matched.length-1;return s>-1&&s===i&&is(e.matched[s],t.matched[i])&&du(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function is(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function du(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!yp(n[t],e[t]))return!1;return!0}function yp(n,e){return mt(n)?Cl(n,e):mt(e)?Cl(e,n):n===e}function Cl(n,e){return mt(e)?n.length===e.length&&n.every((t,s)=>t===e[s]):n.length===1&&n[0]===e}function xp(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),s=n.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=t.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Xt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Us;(function(n){n.pop="pop",n.push="push"})(Us||(Us={}));var Ds;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Ds||(Ds={}));function _p(n){if(!n)if(Hn){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),mp(n)}const kp=/^[^#]+#/;function Ap(n,e){return n.replace(kp,"#")+e}function Ep(n,e){const t=document.documentElement.getBoundingClientRect(),s=n.getBoundingClientRect();return{behavior:e.behavior,left:s.left-t.left-(e.left||0),top:s.top-t.top-(e.top||0)}}const zi=()=>({left:window.scrollX,top:window.scrollY});function Sp(n){let e;if("el"in n){const t=n.el,s=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?s?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=Ep(i,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ol(n,e){return(history.state?history.state.position-e:-1)+n}const wo=new Map;function Tp(n,e){wo.set(n,e)}function Np(n){const e=wo.get(n);return wo.delete(n),e}let Cp=()=>location.protocol+"//"+location.host;function fu(n,e){const{pathname:t,search:s,hash:i}=e,r=n.indexOf("#");if(r>-1){let l=i.includes(n.slice(r))?n.slice(r).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),Nl(a,"")}return Nl(t,n)+s+i}function Op(n,e,t,s){let i=[],r=[],o=null;const l=({state:d})=>{const g=fu(n,location),v=t.value,y=e.value;let x=0;if(d){if(t.value=g,e.value=d,o&&o===v){o=null;return}x=y?d.position-y.position:0}else s(g);i.forEach(w=>{w(t.value,v,{delta:x,type:Us.pop,direction:x?x>0?Ds.forward:Ds.back:Ds.unknown})})};function a(){o=t.value}function c(d){i.push(d);const g=()=>{const v=i.indexOf(d);v>-1&&i.splice(v,1)};return r.push(g),g}function p(){const{history:d}=window;d.state&&d.replaceState(ce({},d.state,{scroll:zi()}),"")}function f(){for(const d of r)d();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:a,listen:c,destroy:f}}function Ll(n,e,t,s=!1,i=!1){return{back:n,current:e,forward:t,replaced:s,position:window.history.length,scroll:i?zi():null}}function Lp(n){const{history:e,location:t}=window,s={value:fu(n,t)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(a,c,p){const f=n.indexOf("#"),d=f>-1?(t.host&&document.querySelector("base")?n:n.slice(f))+a:Cp()+n+a;try{e[p?"replaceState":"pushState"](c,"",d),i.value=c}catch(g){console.error(g),t[p?"replace":"assign"](d)}}function o(a,c){const p=ce({},e.state,Ll(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});r(a,p,!0),s.value=a}function l(a,c){const p=ce({},i.value,e.state,{forward:a,scroll:zi()});r(p.current,p,!0);const f=ce({},Ll(s.value,a,null),{position:p.position+1},c);r(a,f,!1),s.value=a}return{location:s,state:i,push:l,replace:o}}function Ip(n){n=_p(n);const e=Lp(n),t=Op(n,e.state,e.location,e.replace);function s(r,o=!0){o||t.pauseListeners(),history.go(r)}const i=ce({location:"",base:n,go:s,createHref:Ap.bind(null,n)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function qp(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),Ip(n)}function Rp(n){return typeof n=="string"||n&&typeof n=="object"}function gu(n){return typeof n=="string"||typeof n=="symbol"}const mu=Symbol("");var Il;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Il||(Il={}));function rs(n,e){return ce(new Error,{type:n,[mu]:!0},e)}function Bt(n,e){return n instanceof Error&&mu in n&&(e==null||!!(n.type&e))}const ql="[^/]+?",Dp={sensitive:!1,strict:!1,start:!0,end:!0},Pp=/[.+*?^${}()[\]/\\]/g;function Mp(n,e){const t=ce({},Dp,e),s=[];let i=t.start?"^":"";const r=[];for(const c of n){const p=c.length?[]:[90];t.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const d=c[f];let g=40+(t.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(Pp,"\\$&"),g+=40;else if(d.type===1){const{value:v,repeatable:y,optional:x,regexp:w}=d;r.push({name:v,repeatable:y,optional:x});const A=w||ql;if(A!==ql){g+=10;try{new RegExp(`(${A})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${v}" (${A}): `+I.message)}}let S=y?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;f||(S=x&&c.length<2?`(?:/${S})`:"/"+S),x&&(S+="?"),i+=S,g+=20,x&&(g+=-8),y&&(g+=-20),A===".*"&&(g+=-50)}p.push(g)}s.push(p)}if(t.strict&&t.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,t.sensitive?"":"i");function l(c){const p=c.match(o),f={};if(!p)return null;for(let d=1;d<p.length;d++){const g=p[d]||"",v=r[d-1];f[v.name]=g&&v.repeatable?g.split("/"):g}return f}function a(c){let p="",f=!1;for(const d of n){(!f||!p.endsWith("/"))&&(p+="/"),f=!1;for(const g of d)if(g.type===0)p+=g.value;else if(g.type===1){const{value:v,repeatable:y,optional:x}=g,w=v in c?c[v]:"";if(mt(w)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const A=mt(w)?w.join("/"):w;if(!A)if(x)d.length<2&&(p.endsWith("/")?p=p.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);p+=A}}return p||"/"}return{re:o,score:s,keys:r,parse:l,stringify:a}}function Bp(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=e[t]-n[t];if(s)return s;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function bu(n,e){let t=0;const s=n.score,i=e.score;for(;t<s.length&&t<i.length;){const r=Bp(s[t],i[t]);if(r)return r;t++}if(Math.abs(i.length-s.length)===1){if(Rl(s))return 1;if(Rl(i))return-1}return i.length-s.length}function Rl(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const $p={type:0,value:""},jp=/[a-zA-Z0-9_]/;function Up(n){if(!n)return[[]];if(n==="/")return[[$p]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(g){throw new Error(`ERR (${t})/"${c}": ${g}`)}let t=0,s=t;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,a,c="",p="";function f(){c&&(t===0?r.push({type:0,value:c}):t===1||t===2||t===3?(r.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:p,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<n.length;){if(a=n[l++],a==="\\"&&t!==2){s=t,t=4;continue}switch(t){case 0:a==="/"?(c&&f(),o()):a===":"?(f(),t=1):d();break;case 4:d(),t=s;break;case 1:a==="("?t=2:jp.test(a)?d():(f(),t=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+a:t=3:p+=a;break;case 3:f(),t=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,p="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),i}function Vp(n,e,t){const s=Mp(Up(n.path),t),i=ce(s,{record:n,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Hp(n,e){const t=[],s=new Map;e=Bl({strict:!1,end:!0,sensitive:!1},e);function i(f){return s.get(f)}function r(f,d,g){const v=!g,y=Pl(f);y.aliasOf=g&&g.record;const x=Bl(e,f),w=[y];if("alias"in f){const I=typeof f.alias=="string"?[f.alias]:f.alias;for(const L of I)w.push(Pl(ce({},y,{components:g?g.record.components:y.components,path:L,aliasOf:g?g.record:y})))}let A,S;for(const I of w){const{path:L}=I;if(d&&L[0]!=="/"){const U=d.record.path,K=U[U.length-1]==="/"?"":"/";I.path=d.record.path+(L&&K+L)}if(A=Vp(I,d,x),g?g.alias.push(A):(S=S||A,S!==A&&S.alias.push(A),v&&f.name&&!Ml(A)&&o(f.name)),vu(A)&&a(A),y.children){const U=y.children;for(let K=0;K<U.length;K++)r(U[K],A,g&&g.children[K])}g=g||A}return S?()=>{o(S)}:Rs}function o(f){if(gu(f)){const d=s.get(f);d&&(s.delete(f),t.splice(t.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=t.indexOf(f);d>-1&&(t.splice(d,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function l(){return t}function a(f){const d=Kp(f,t);t.splice(d,0,f),f.record.name&&!Ml(f)&&s.set(f.record.name,f)}function c(f,d){let g,v={},y,x;if("name"in f&&f.name){if(g=s.get(f.name),!g)throw rs(1,{location:f});x=g.record.name,v=ce(Dl(d.params,g.keys.filter(S=>!S.optional).concat(g.parent?g.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&Dl(f.params,g.keys.map(S=>S.name))),y=g.stringify(v)}else if(f.path!=null)y=f.path,g=t.find(S=>S.re.test(y)),g&&(v=g.parse(y),x=g.record.name);else{if(g=d.name?s.get(d.name):t.find(S=>S.re.test(d.path)),!g)throw rs(1,{location:f,currentLocation:d});x=g.record.name,v=ce({},d.params,f.params),y=g.stringify(v)}const w=[];let A=g;for(;A;)w.unshift(A.record),A=A.parent;return{name:x,path:y,params:v,matched:w,meta:zp(w)}}n.forEach(f=>r(f));function p(){t.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:p,getRoutes:l,getRecordMatcher:i}}function Dl(n,e){const t={};for(const s of e)s in n&&(t[s]=n[s]);return t}function Pl(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:Fp(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Fp(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const s in n.components)e[s]=typeof t=="object"?t[s]:t;return e}function Ml(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function zp(n){return n.reduce((e,t)=>ce(e,t.meta),{})}function Bl(n,e){const t={};for(const s in n)t[s]=s in e?e[s]:n[s];return t}function Kp(n,e){let t=0,s=e.length;for(;t!==s;){const r=t+s>>1;bu(n,e[r])<0?s=r:t=r+1}const i=Gp(n);return i&&(s=e.lastIndexOf(i,s-1)),s}function Gp(n){let e=n;for(;e=e.parent;)if(vu(e)&&bu(n,e)===0)return e}function vu({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function Wp(n){const e={};if(n===""||n==="?")return e;const s=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(uu," "),o=r.indexOf("="),l=js(o<0?r:r.slice(0,o)),a=o<0?null:js(r.slice(o+1));if(l in e){let c=e[l];mt(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function $l(n){let e="";for(let t in n){const s=n[t];if(t=hp(t),s==null){s!==void 0&&(e+=(e.length?"&":"")+t);continue}(mt(s)?s.map(r=>r&&_o(r)):[s&&_o(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function Xp(n){const e={};for(const t in n){const s=n[t];s!==void 0&&(e[t]=mt(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const Yp=Symbol(""),jl=Symbol(""),Ki=Symbol(""),Qo=Symbol(""),ko=Symbol("");function Ts(){let n=[];function e(s){return n.push(s),()=>{const i=n.indexOf(s);i>-1&&n.splice(i,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function Jt(n,e,t,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,a)=>{const c=d=>{d===!1?a(rs(4,{from:t,to:e})):d instanceof Error?a(d):Rp(d)?a(rs(2,{from:e,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),l())},p=r(()=>n.call(s&&s.instances[i],e,t,c));let f=Promise.resolve(p);n.length<3&&(f=f.then(c)),f.catch(d=>a(d))})}function Wr(n,e,t,s,i=r=>r()){const r=[];for(const o of n)for(const l in o.components){let a=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(lu(a)){const p=(a.__vccOpts||a)[e];p&&r.push(Jt(p,t,s,o,l,i))}else{let c=a();r.push(()=>c.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const f=tp(p)?p.default:p;o.mods[l]=p,o.components[l]=f;const g=(f.__vccOpts||f)[e];return g&&Jt(g,t,s,o,l,i)()}))}}return r}function Ul(n){const e=yn(Ki),t=yn(Qo),s=Ge(()=>{const a=qs(n.to);return e.resolve(a)}),i=Ge(()=>{const{matched:a}=s.value,{length:c}=a,p=a[c-1],f=t.matched;if(!p||!f.length)return-1;const d=f.findIndex(is.bind(null,p));if(d>-1)return d;const g=Vl(a[c-2]);return c>1&&Vl(p)===g&&f[f.length-1].path!==g?f.findIndex(is.bind(null,a[c-2])):d}),r=Ge(()=>i.value>-1&&th(t.params,s.value.params)),o=Ge(()=>i.value>-1&&i.value===t.matched.length-1&&du(t.params,s.value.params));function l(a={}){if(eh(a)){const c=e[qs(n.replace)?"replace":"push"](qs(n.to)).catch(Rs);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Ge(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}function Zp(n){return n.length===1?n[0]:n}const Qp=su({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ul,setup(n,{slots:e}){const t=iu(Ul(n)),{options:s}=yn(Ki),i=Ge(()=>({[Hl(n.activeClass,s.linkActiveClass,"router-link-active")]:t.isActive,[Hl(n.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&Zp(e.default(t));return n.custom?r:ru("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},r)}}}),Jp=Qp;function eh(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function th(n,e){for(const t in e){const s=e[t],i=n[t];if(typeof s=="string"){if(s!==i)return!1}else if(!mt(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Vl(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Hl=(n,e,t)=>n??e??t,nh=su({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const s=yn(ko),i=Ge(()=>n.route||s.value),r=yn(jl,0),o=Ge(()=>{let c=qs(r);const{matched:p}=i.value;let f;for(;(f=p[c])&&!f.components;)c++;return c}),l=Ge(()=>i.value.matched[o.value]);zr(jl,Ge(()=>o.value+1)),zr(Yp,l),zr(ko,i);const a=Ls();return ou(()=>[a.value,l.value,n.name],([c,p,f],[d,g,v])=>{p&&(p.instances[f]=c,g&&g!==p&&c&&c===d&&(p.leaveGuards.size||(p.leaveGuards=g.leaveGuards),p.updateGuards.size||(p.updateGuards=g.updateGuards))),c&&p&&(!g||!is(p,g)||!d)&&(p.enterCallbacks[f]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=i.value,p=n.name,f=l.value,d=f&&f.components[p];if(!d)return Fl(t.default,{Component:d,route:c});const g=f.props[p],v=g?g===!0?c.params:typeof g=="function"?g(c):g:null,x=ru(d,ce({},v,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[p]=null)},ref:a}));return Fl(t.default,{Component:x,route:c})||x}}});function Fl(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const sh=nh;function ih(n){const e=Hp(n.routes,n),t=n.parseQuery||Wp,s=n.stringifyQuery||$l,i=n.history,r=Ts(),o=Ts(),l=Ts(),a=$c(Xt);let c=Xt;Hn&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Kr.bind(null,N=>""+N),f=Kr.bind(null,fp),d=Kr.bind(null,js);function g(N,q){let R,H;return gu(N)?(R=e.getRecordMatcher(N),H=q):H=N,e.addRoute(H,R)}function v(N){const q=e.getRecordMatcher(N);q&&e.removeRoute(q)}function y(){return e.getRoutes().map(N=>N.record)}function x(N){return!!e.getRecordMatcher(N)}function w(N,q){if(q=ce({},q||a.value),typeof N=="string"){const W=Gr(t,N,q.path),me=e.resolve({path:W.path},q),lt=i.createHref(W.fullPath);return ce(W,me,{params:d(me.params),hash:js(W.hash),redirectedFrom:void 0,href:lt})}let R;if(N.path!=null)R=ce({},N,{path:Gr(t,N.path,q.path).path});else{const W=ce({},N.params);for(const me in W)W[me]==null&&delete W[me];R=ce({},N,{params:f(W)}),q.params=f(q.params)}const H=e.resolve(R,q),ie=N.hash||"";H.params=p(d(H.params));const de=bp(s,ce({},N,{hash:pp(ie),path:H.path})),Q=i.createHref(de);return ce({fullPath:de,hash:ie,query:s===$l?Xp(N.query):N.query||{}},H,{redirectedFrom:void 0,href:Q})}function A(N){return typeof N=="string"?Gr(t,N,a.value.path):ce({},N)}function S(N,q){if(c!==N)return rs(8,{from:q,to:N})}function I(N){return K(N)}function L(N){return I(ce(A(N),{replace:!0}))}function U(N){const q=N.matched[N.matched.length-1];if(q&&q.redirect){const{redirect:R}=q;let H=typeof R=="function"?R(N):R;return typeof H=="string"&&(H=H.includes("?")||H.includes("#")?H=A(H):{path:H},H.params={}),ce({query:N.query,hash:N.hash,params:H.path!=null?{}:N.params},H)}}function K(N,q){const R=c=w(N),H=a.value,ie=N.state,de=N.force,Q=N.replace===!0,W=U(R);if(W)return K(ce(A(W),{state:typeof W=="object"?ce({},ie,W.state):ie,force:de,replace:Q}),q||R);const me=R;me.redirectedFrom=q;let lt;return!de&&vp(s,H,R)&&(lt=rs(16,{to:me,from:H}),Kt(H,H,!0,!1)),(lt?Promise.resolve(lt):Ue(me,H)).catch(ye=>Bt(ye)?Bt(ye,2)?ye:te(ye):rt(ye,me,H)).then(ye=>{if(ye){if(Bt(ye,2))return K(ce({replace:Q},A(ye.to),{state:typeof ye.to=="object"?ce({},ie,ye.to.state):ie,force:de}),q||me)}else ye=V(me,H,!0,Q,ie);return $(me,H,ye),ye})}function pe(N,q){const R=S(N,q);return R?Promise.reject(R):Promise.resolve()}function Pe(N){const q=qt.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(N):N()}function Ue(N,q){let R;const[H,ie,de]=rh(N,q);R=Wr(H.reverse(),"beforeRouteLeave",N,q);for(const W of H)W.leaveGuards.forEach(me=>{R.push(Jt(me,N,q))});const Q=pe.bind(null,N,q);return R.push(Q),ot(R).then(()=>{R=[];for(const W of r.list())R.push(Jt(W,N,q));return R.push(Q),ot(R)}).then(()=>{R=Wr(ie,"beforeRouteUpdate",N,q);for(const W of ie)W.updateGuards.forEach(me=>{R.push(Jt(me,N,q))});return R.push(Q),ot(R)}).then(()=>{R=[];for(const W of de)if(W.beforeEnter)if(mt(W.beforeEnter))for(const me of W.beforeEnter)R.push(Jt(me,N,q));else R.push(Jt(W.beforeEnter,N,q));return R.push(Q),ot(R)}).then(()=>(N.matched.forEach(W=>W.enterCallbacks={}),R=Wr(de,"beforeRouteEnter",N,q,Pe),R.push(Q),ot(R))).then(()=>{R=[];for(const W of o.list())R.push(Jt(W,N,q));return R.push(Q),ot(R)}).catch(W=>Bt(W,8)?W:Promise.reject(W))}function $(N,q,R){l.list().forEach(H=>Pe(()=>H(N,q,R)))}function V(N,q,R,H,ie){const de=S(N,q);if(de)return de;const Q=q===Xt,W=Hn?history.state:{};R&&(H||Q?i.replace(N.fullPath,ce({scroll:Q&&W&&W.scroll},ie)):i.push(N.fullPath,ie)),a.value=N,Kt(N,q,R,Q),te()}let G;function ee(){G||(G=i.listen((N,q,R)=>{if(!oe.listening)return;const H=w(N),ie=U(H);if(ie){K(ce(ie,{replace:!0,force:!0}),H).catch(Rs);return}c=H;const de=a.value;Hn&&Tp(Ol(de.fullPath,R.delta),zi()),Ue(H,de).catch(Q=>Bt(Q,12)?Q:Bt(Q,2)?(K(ce(A(Q.to),{force:!0}),H).then(W=>{Bt(W,20)&&!R.delta&&R.type===Us.pop&&i.go(-1,!1)}).catch(Rs),Promise.reject()):(R.delta&&i.go(-R.delta,!1),rt(Q,H,de))).then(Q=>{Q=Q||V(H,de,!1),Q&&(R.delta&&!Bt(Q,8)?i.go(-R.delta,!1):R.type===Us.pop&&Bt(Q,20)&&i.go(-1,!1)),$(H,de,Q)}).catch(Rs)}))}let ae=Ts(),Ee=Ts(),Ze;function rt(N,q,R){te(N);const H=Ee.list();return H.length?H.forEach(ie=>ie(N,q,R)):console.error(N),Promise.reject(N)}function Qe(){return Ze&&a.value!==Xt?Promise.resolve():new Promise((N,q)=>{ae.add([N,q])})}function te(N){return Ze||(Ze=!N,ee(),ae.list().forEach(([q,R])=>N?R(N):q()),ae.reset()),N}function Kt(N,q,R,H){const{scrollBehavior:ie}=n;if(!Hn||!ie)return Promise.resolve();const de=!R&&Np(Ol(N.fullPath,0))||(H||!R)&&history.state&&history.state.scroll||null;return Fi().then(()=>ie(N,q,de)).then(Q=>Q&&Sp(Q)).catch(Q=>rt(Q,N,q))}const un=N=>i.go(N);let Me;const qt=new Set,oe={currentRoute:a,listening:!0,addRoute:g,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:y,resolve:w,options:n,push:I,replace:L,go:un,back:()=>un(-1),forward:()=>un(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:Ee.add,isReady:Qe,install(N){const q=this;N.component("RouterLink",Jp),N.component("RouterView",sh),N.config.globalProperties.$router=q,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>qs(a)}),Hn&&!Me&&a.value===Xt&&(Me=!0,I(i.location).catch(ie=>{}));const R={};for(const ie in Xt)Object.defineProperty(R,ie,{get:()=>a.value[ie],enumerable:!0});N.provide(Ki,q),N.provide(Qo,jc(R)),N.provide(ko,a);const H=N.unmount;qt.add(N),N.unmount=function(){qt.delete(N),qt.size<1&&(c=Xt,G&&G(),G=null,a.value=Xt,Me=!1,Ze=!1),H()}}};function ot(N){return N.reduce((q,R)=>q.then(()=>Pe(R)),Promise.resolve())}return oe}function rh(n,e){const t=[],s=[],i=[],r=Math.max(e.matched.length,n.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(n.matched.find(c=>is(c,l))?s.push(l):t.push(l));const a=n.matched[o];a&&(e.matched.find(c=>is(c,a))||i.push(a))}return[t,s,i]}function f2(){return yn(Ki)}function oh(n){return yn(Qo)}wp.i18n;const lh=[{path:"/",name:"List View",component:()=>Zt(()=>import("./assets/index-DEZJ-fwh.js"),__vite__mapDeps([0,1,2]))},{name:"Site settings",path:"/site-settings/",component:()=>Zt(()=>import("./assets/index-u6gB1kpK.js"),__vite__mapDeps([3,1,4,5,6]))},{name:"import-export",path:"/import-export/",component:()=>Zt(()=>import("./assets/index-B2FXRSrn.js"),__vite__mapDeps([7,1]))},{name:"remote-sync",path:"/remote-sync/",component:()=>Zt(()=>import("./assets/index-BHfGwPer.js"),__vite__mapDeps([8,1,6]))},{name:"Error log",path:"/error-log",component:()=>Zt(()=>import("./assets/index-DASFFZQX.js"),__vite__mapDeps([9,1,2]))},{path:"/uibuilder/:templateID/",name:"uibuilder",component:()=>Zt(()=>import("./assets/index-B1b5Z-O1.js"),__vite__mapDeps([10,1,5])),children:[{name:"templateSettings",path:"settings/template",component:()=>Zt(()=>import("./assets/index-CjDKXeEP.js"),__vite__mapDeps([11,1,4,5]))}]}],ah=ih({history:qp(),routes:lh}),{__:uh}=wp.i18n,ch={components:{MediaLibrary:Uc},data(){return{resolvePromise:void 0,rejectPromise:void 0,strings:{mediaLibrary:uh("Media library","uipress-lite")}}},methods:{cancel(){this.$emit("cancel-select"),this.$refs.popup.close(),this.resolvePromise(!1)},show(n={}){return this.selected=!1,this.$refs.popup.open(),this.resolvePromise=void 0,this.rejectPromise=void 0,requestAnimationFrame(()=>{this.$refs.confirmBody.focus()}),new Promise((e,t)=>{this.resolvePromise=e,this.rejectPromise=t})}}},ph={class:"uip-flex uip-gap-xs uip-flex-start uip-flex-no-wrap uip-max-h-100p"},hh={class:"uip-margin-remove uip-flex-grow"};function dh(n,e,t,s,i,r){const o=P("AppIcon"),l=P("MediaLibrary"),a=P("Modal");return _(),k(le,null,[(_(),he(ss("style"),null,{default:Y(()=>e[5]||(e[5]=[rn(" .imageload-enter-active, .imageload-leave-active { transition: all 0.5s ease; } .imageload-enter-from, .imageload-leave-to { opacity: 0; } ")])),_:1})),O(a,{ref:"popup"},{default:Y(()=>[m("div",{ref:"confirmBody",onKeydown:e[3]||(e[3]=Vc(c=>r.cancel(),["escape"])),onClick:e[4]||(e[4]=We(()=>{},["stop"])),class:"uip-w-500 uip-flex uip-flex-column uip-row-gap-s uip-padding-m",tabindex:"1",style:{height:"70vh","max-height":"80vh"},autofocus:""},[m("div",ph,[m("h2",hh,C(i.strings.mediaLibrary),1),m("div",{onClick:e[0]||(e[0]=c=>r.cancel()),class:"uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-cursor-pointer"},[O(o,{icon:"close",class:"uip-icon uip-link-muted"})])]),O(l,{onImageSelected:e[1]||(e[1]=c=>{i.resolvePromise(c),n.$refs.popup.close()}),onCancelSelect:e[2]||(e[2]=c=>{n.$refs.popup.close(),i.resolvePromise(!1)})})],544)]),_:1},512)],64)}const fh=J(ch,[["render",dh]]),{__:Fe}=wp.i18n,gh={components:{mediaLibrary:fh},props:{returnData:Function,value:Object,args:Object},data(){return{open:!1,loading:!0,hasPositioning:!0,img:{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}},fileType:"",manualURL:"",uploading:!1,updating:!1,strings:{dynamicData:Fe("Dynamic data","uipress-lite"),currentValue:Fe("Current value","uipress-lite"),select:Fe("select","uipress-lite"),dataPos:Fe("Dynamic data position","uipress-lite"),replace:Fe("Replace","uipress-lite"),edit:Fe("Edit","uipress-lite"),upload:Fe("Upload","uipress-lite"),uploading:Fe("Uploading","uipress-lite"),library:Fe("Library","uipress-lite"),dynamic:Fe("Dynamic","uipress-lite"),chooseImage:Fe("Add image","uipress-lite"),backgroundImage:Fe("Image","uipress-lite"),addImage:Fe("Add image","uipress-lite"),url:Fe("URL","uipress-lite")}}},watch:{value:{handler(n,e){this.updating||this.formatInput()},deep:!0,immediate:!0},img:{handler(n,e){this.updating||this.returnData(this.img)},deep:!0},manualURL:{handler(n,e){n!=""&&(this.removeDynamicItem(),this.img.url=n)}}},mounted(){this.args&&this.isObject(this.args)&&"hasPositioning"in this.args&&(this.hasPositioning=this.args.hasPositioning)},computed:{imgReset(){return{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}}}},methods:{formatInput(){this.img=this.isObject(this.value)?this.value:this.imgReset},async chooseImage(){const n=await this.$refs.mediaLibrary.show();n&&(this.img.url=n.source_url)},removeDynamicItem(){this.img.dynamic=!1,this.img.dynamicKey="",this.img.url="",this.returnData({url:this.img.value,dynamic:this.img.dynamic,dynamicKey:this.img.dynamicKey,dynamicPos:this.img.dynamicPos})},returnBackgroundImage(){let n=this.img.url;return n?`background-image: url(${n})`:""}}},mh={class:"uip-flex uip-flex-column uip-row-gap-s"},bh={key:0,class:"uip-text-bold"},vh={key:1,class:"uip-flex uip-gap-xxs uip-flex-center"},yh={class:"uip-text-bold"},xh={class:"uip-padding-left-xs uip-flex uip-flex-column uip-row-gap-xs"},_h={class:"uip-grid-col-1-3"},wh={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"};function kh(n,e,t,s,i,r){const o=P("AppIcon"),l=P("background-position"),a=P("mediaLibrary");return _(),k("div",mh,[m("div",{class:"uip-background-muted uip-border-rounder uip-flex uip-flex-center uip-flex-middle uip-position-relative uip-scale-in-center uip-h-120 uip-w-240 uip-background-contain uip-background-no-repeat uip-background-center",style:Qn(r.returnBackgroundImage())},[m("button",{onClick:e[0]||(e[0]=c=>r.chooseImage()),class:"uip-button-primary uip-text-s"},[i.img.url?(_(),k("div",bh,C(i.strings.replace),1)):z("",!0),i.img.url?z("",!0):(_(),k("div",vh,[O(o,{icon:"add",class:"uip-icon uip-icon-medium"}),m("div",yh,C(i.strings.chooseImage),1)]))])],4),m("div",xh,[m("div",_h,[m("div",wh,[m("span",null,C(i.strings.url),1)]),Z(m("input",{class:"uip-input uip-input-small",type:"text","onUpdate:modelValue":e[1]||(e[1]=c=>i.img.url=c)},null,512),[[ne,i.img.url]])]),i.hasPositioning?(_(),he(l,{key:0,value:i.img.sizing,returnData:function(c){i.img.sizing=c}},null,8,["value","returnData"])):z("",!0)]),O(a,{ref:"mediaLibrary"},null,512)])}const Ah=J(gh,[["render",kh]]),{__:Eh}=wp.i18n,Sh={props:{backgroundStyle:String,text:String,remove:Function},data(){return{strings:{add:Eh("Add","uipress-lite")}}}},Th={class:"uip-background-muted uip-border-rounder uip-padding-xxs uip-flex uip-flex-center uip-gap-xs uip-cursor-pointer"},Nh={class:"uip-background-grey uip-background-checkered uip-border-round"},Ch={key:0,class:"uip-text-muted uip-flex-grow"},Oh={key:1,class:"uip-no-wrap uip-text-ellipsis uip-overflow-hidden uip-w-80 uip-flex-grow"};function Lh(n,e,t,s,i,r){const o=P("AppIcon");return _(),k("div",Th,[m("div",Nh,[m("div",{class:"uip-border-round uip-padding-xxxs uip-w-14 uip-ratio-1-1 user-style-area",style:Qn(t.backgroundStyle)},null,4)]),t.text?(_(),k("div",Oh,C(t.text),1)):(_(),k("div",Ch,C(i.strings.add)+"...",1)),t.remove&&t.text?(_(),k("a",{key:2,onClick:e[0]||(e[0]=We(l=>t.remove(),["stop","prevent"])),class:"uip-no-underline uip-border-rounder uip-padding-xxxs uip-link-muted uip-text-s"},[O(o,{icon:"close",class:"uip-icon"})])):z("",!0)])}const yu=J(Sh,[["render",Lh]]),{__:Ih}=wp.i18n,qh={components:{imageSelect:Ah,colorBox:yu},props:{returnData:Function,value:Object,args:Object},data(){return{img:{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}},strings:{imageSelect:Ih("Image select","seql")}}},watch:{value:{handler(n,e){this.updating||this.formatInput()},deep:!0,immediate:!0},img:{handler(n,e){this.updating||this.returnData(this.img)},deep:!0}},computed:{returnBackgroundImage(){if(this.img.url)return`background-size:contain;background-image: url(${this.img.url})`},imgReset(){return{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}}},returnDefault(){return{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}}}},methods:{formatInput(){this.img=this.isObject(this.value)?this.value:this.returnDefault}}},Rh={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240"},Dh={class:"uip-flex uip-flex-between uip-flex-center"},Ph={class:"uip-text-emphasis uip-text-bold uip-text-s"};function Mh(n,e,t,s,i,r){const o=P("colorBox"),l=P("AppIcon"),a=P("imageSelect"),c=P("dropdown");return _(),he(c,{pos:"left center",class:"uip-w-100p",ref:"imageDropdown",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[O(o,{backgroundStyle:r.returnBackgroundImage,text:i.img.url,remove:()=>{i.img=r.imgReset}},null,8,["backgroundStyle","text","remove"])]),content:Y(()=>[m("div",Rh,[m("div",Dh,[m("div",Ph,C(i.strings.imageSelect),1),m("div",{onClick:e[0]||(e[0]=p=>n.$refs.imageDropdown.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(l,{icon:"close",class:"uip-icon"})])]),O(a,{value:i.img,returnData:p=>{i.img=p},args:t.args},null,8,["value","returnData","args"])])]),_:1},512)}const Bh=J(qh,[["render",Mh]]),{__:Et}=wp.i18n,$h=[{value:"none",label:Et("None","uipress-lite")},{value:"top left",label:Et("Top left","uipress-lite")},{value:"top center",label:Et("Top center","uipress-lite")},{value:"top right",label:Et("Top right","uipress-lite")},{value:"center left",label:Et("Center left","uipress-lite")},{value:"center center",label:Et("Center center","uipress-lite")},{value:"center right",label:Et("Center right","uipress-lite")},{value:"bottom left",label:Et("Bottom left","uipress-lite")},{value:"bottom center",label:Et("Bottom center","uipress-lite")},{value:"bottom right",label:Et("Bottom right","uipress-lite")}],{__:_i}=wp.i18n,jh=[{value:"no-repeat",label:_i("No repeat","uipress-lite")},{value:"repeat-x",label:_i("Repeat x","uipress-lite")},{value:"repeat-y",label:_i("Repeat y","uipress-lite")},{value:"repeat",label:_i("Repeat","uipress-lite")}],{__:Xr}=wp.i18n,Uh=[{value:"auto",label:Xr("Auto","uipress-lite")},{value:"cover",label:Xr("Cover","uipress-lite")},{value:"contain",label:Xr("Contain","uipress-lite")}],{__:Yr}=wp.i18n,Vh={props:{returnData:Function,value:Object},data(){return{updating:!1,option:{position:"",repeat:"no-repeat",size:"cover"},options:{positions:$h,repeat:jh,size:Uh},strings:{position:Yr("Position","uipress-lite"),repeat:Yr("Repeat","uipress-lite"),size:Yr("Size","uipress-lite")}}},watch:{value:{handler(n,e){this.updating||this.formatInput()},deep:!0,immediate:!0},option:{handler(n,e){this.updating||this.returnData(this.option)},deep:!0}},computed:{returnDefault(){return{position:"center center",repeat:"no-repeat",size:"cover"}},returnOption(){return this.option}},methods:{async formatInput(){this.updating=!0,this.option=this.isObject(this.value)?this.value:this.returnDefault,await this.$nextTick(),this.updating=!1}},template:`
   `},Hh={class:"uip-flex uip-flex-column uip-row-gap-xs"},Fh={class:"uip-grid-col-1-3"},zh={class:"uip-text-muted uip-flex uip-flex-center"},Kh={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Gh={class:"uip-grid-col-1-3"},Wh={class:"uip-text-muted uip-flex uip-flex-center"},Xh={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Yh={class:"uip-grid-col-1-3"},Zh={class:"uip-text-muted uip-flex uip-flex-center"},Qh={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"};function Jh(n,e,t,s,i,r){const o=P("default-select");return _(),k("div",Hh,[m("div",Fh,[m("div",zh,[m("span",null,C(i.strings.position),1)]),m("div",Kh,[O(o,{value:r.returnOption.position,args:{options:i.options.positions},returnData:function(l){i.option.position=l}},null,8,["value","args","returnData"])])]),m("div",Gh,[m("div",Wh,[m("span",null,C(i.strings.repeat),1)]),m("div",Xh,[O(o,{value:r.returnOption.repeat,args:{options:i.options.repeat},returnData:function(l){i.option.repeat=l}},null,8,["value","args","returnData"])])]),m("div",Yh,[m("div",Zh,[m("span",null,C(i.strings.size),1)]),m("div",Qh,[O(o,{value:r.returnOption.size,args:{options:i.options.size},returnData:function(l){i.option.size=l}},null,8,["value","args","returnData"])])])])}const ed=J(Vh,[["render",Jh]]),{__:zl}=wp.i18n,td={props:{returnData:Function,value:[Boolean,String],args:Object},data(){return{yesNoOptions:{false:{value:!1,label:zl("No","uipress-lite")},true:{value:!0,label:zl("Yes","uipress-lite")}}}}};function nd(n,e,t,s,i,r){const o=P("toggle-switch");return _(),he(o,{options:i.yesNoOptions,activeValue:t.value,returnValue:t.returnData},null,8,["options","activeValue","returnValue"])}const sd=J(td,[["render",nd]]),id={props:{returnData:Function,value:Object},data(){return{option:{value:"",units:"px"},focus:!1,rendered:!1,updating:!1}},watch:{option:{handler(n,e){this.updating||this.setReturnUnits()},deep:!0},value:{handler(n,e){this.updating||this.formatValue()},deep:!0,immediate:!0}},computed:{returnDefault(){return{value:"",units:"px"}},returnUnits(){return this.option.units}},methods:{async formatValue(){this.updating=!0,this.option=this.isObject(this.value)?{...this.returnDefault,...this.value}:{...this.returnDefault},await this.$nextTick(),this.updating=!1},setReturnUnits(){let n=this.option;n.units=="auto"&&(n={value:" ",units:"auto"}),this.returnData(n)}}};function rd(n,e,t,s,i,r){const o=P("units-select");return _(),k("div",{class:Ke(["uip-flex uip-background-muted uip-border-rounder uip-padding-left-xs uip-padding-right-xxs",{"uip-active-outline":i.focus}])},[i.option.units!="auto"?Z((_(),k("input",{key:0,onFocus:e[0]||(e[0]=l=>i.focus=!0),onBlur:e[1]||(e[1]=l=>i.focus=!1),style:{width:"30px"},type:"text",class:"uip-input-small uip-blank-input uip-remove-steps uip-background-remove uip-flex-grow","onUpdate:modelValue":e[2]||(e[2]=l=>i.option.value=l)},null,544)),[[ne,i.option.value]]):z("",!0),O(o,{value:r.returnUnits,returnData:l=>{i.option.units=l},class:Ke(i.option.units=="auto"?"uip-flex-grow":"")},null,8,["value","returnData","class"])],2)}const od=J(id,[["render",rd]]),{__:Se}=wp.i18n,ld={props:{returnData:Function,value:String},data(){return{option:"px",strings:{pixels:Se("Pixels","uipress-lite"),percentage:Se("Percent","uipress-lite"),points:Se("Points","uipress-lite"),fontSize:Se("Font size","uipress-lite"),rootFontSize:Se("Root font size","uipress-lite"),viewportHeight:Se("Viewport height","uipress-lite"),dviewportHeight:Se("Dynamic Viewport height","uipress-lite"),viewportWidth:Se("Viewport width","uipress-lite"),auto:Se("auto","uipress-lite")},options:[{value:"auto",label:Se("Auto")},{value:"px",label:Se("Pixels")},{value:"pt",label:Se("Points")},{value:"%",label:Se("Percent")},{value:"em",label:Se("Element size")},{value:"rem",label:Se("Root size")},{value:"vh",label:Se("Viewport height")},{value:"dvh",label:Se("Dynamic Viewport height")},{value:"vw",label:Se("Viewport width")}]}},watch:{option:{handler(n,e){this.returnData(this.option)}},value:{handler(n,e){this.injectProp()}}},mounted(){this.injectProp()},methods:{injectProp(){this.value&&(this.option=this.value)},selectItem(n){this.option=n.value,this.$refs.unitdrop.close()}}},ad={class:"uip-padding-xxs uip-text-s uip-text-muted uip-min-w-18 uip-text-center uip-link-muted"},ud={class:"uip-flex uip-flex-column uip-flex-left uip-text-s uip-padding-s"},cd=["title","onClick"],pd={class:"uip-w-40"};function hd(n,e,t,s,i,r){const o=P("dropdown");return _(),he(o,{pos:"left top",ref:"unitdrop"},{trigger:Y(()=>[m("div",ad,C(i.option),1)]),content:Y(()=>[m("div",ud,[(_(!0),k(le,null,be(i.options,l=>(_(),k("div",{title:l.label,class:Ke(["uip-link-muted uip-flex uip-flex-center uip-gap-xxs uip-padding-xxxs uip-padding-left-xxs hover:uip-background-muted uip-border-rounder",{"uip-text-emphasis uip-background-muted":i.option==l.value}]),onClick:a=>r.selectItem(l)},[m("span",pd,C(l.value),1),m("span",{class:Ke(["uip-text-muted uip-w-100 uip-overflow-hidden uip-no-wrap uip-text-ellipsis",i.option==l.value?"uip-text-emphasis":"uip-text-muted"])},C(l.label),3)],10,cd))),256))])]),_:1},512)}const dd=J(ld,[["render",hd]]),fd={props:{startScreen:Object,homeScreen:String,showNavigation:Boolean,closer:Function,largeNavigation:Boolean},watch:{startScreen:{handler(){this.startScreen.component==this.currentScreen.component&&(this.currentScreen=this.startScreen)}}},data(){return{currentScreen:this.startScreen}},computed:{returnHomeScreen(){return this.startScreen}},methods:{toggleBack(){this.currentScreen=this.currentScreen.backscreen||this.returnHomeScreen},processScreen(n){const e=this.currentScreen;this.currentScreen=n,this.currentScreen.backscreen=e}}},gd={class:"uip-flex uip-flex-column uip-row-gap-s"},md={key:0,class:"uip-flex uip-flex-between uip-flex-center"},bd={key:1};function vd(n,e,t,s,i,r){const o=P("AppIcon");return _(),k("div",gd,[O(Mi,{name:"translate",mode:"out-in"},{default:Y(()=>[i.currentScreen.component!=t.homeScreen||t.showNavigation?(_(),k("div",md,[i.currentScreen.component!=t.homeScreen?(_(),k("div",{key:0,onClick:e[0]||(e[0]=We(l=>r.toggleBack(),["prevent","stop"])),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"chevron_left",class:"uip-icon"})])):z("",!0),m("div",{class:Ke(["uip-text-emphasis uip-text-bold",t.largeNavigation?"uip-text-l":"uip-text-s"])},C(i.currentScreen.label),3),t.closer?(_(),k("div",{key:2,onClick:e[1]||(e[1]=l=>t.closer()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])):(_(),k("div",bd))])):z("",!0)]),_:1}),O(Mi,{name:"translate",mode:"out-in"},{default:Y(()=>[bn(n.$slots,"componenthandler",{processScreen:r.processScreen,currentScreen:i.currentScreen,goBack:r.toggleBack})]),_:3})])}const yd=J(fd,[["render",vd]]);function vn(n,e,t){return Math.max(e,Math.min(n,t))}function $e(n,e=2){return n.toFixed(e).replace(/\.?0+$/,"")}function Kl(n){return n.endsWith(".")?NaN:(parseFloat(n)%360+360)%360/360}function Gl(n){return $e(360*n)}function Zn(n){if(!n.endsWith("%"))return NaN;const e=n.substring(0,n.length-1);if(e.endsWith("."))return NaN;const t=parseFloat(e);return Number.isNaN(t)?NaN:vn(t,0,100)/100}function wi(n){return $e(100*n)+"%"}function Zr(n){if(n.endsWith("%"))return Zn(n);if(n.endsWith("."))return NaN;const e=parseFloat(n);return Number.isNaN(e)?NaN:vn(e,0,255)/255}function Qr(n){return $e(255*n)}function Jr(n){return n.endsWith("%")?Zn(n):vn(parseFloat(n),0,1)}function eo(n){return String(n)}const Ao={hsl:{h:{to:Gl,from:Kl},s:{to:wi,from:Zn},l:{to:wi,from:Zn},a:{to:eo,from:Jr}},hwb:{h:{to:Gl,from:Kl},w:{to:wi,from:Zn},b:{to:wi,from:Zn},a:{to:eo,from:Jr}},rgb:{r:{to:Qr,from:Zr},g:{to:Qr,from:Zr},b:{to:Qr,from:Zr},a:{to:eo,from:Jr}}};function ki(n){const e=n.replace(/^#/,""),t=[],s=e.length>4?2:1;for(let r=0;r<e.length;r+=s){const o=e.slice(r,r+s);t.push(o.repeat(s%2+1))}t.length===3&&t.push("ff");const i=t.map(r=>parseInt(r,16)/255);return{r:i[0],g:i[1],b:i[2],a:i[3]}}function to(n){const e=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,t=2*n.l-e;return{r:no(t,e,n.h+1/3),g:no(t,e,n.h),b:no(t,e,n.h-1/3),a:n.a}}function no(n,e,t){return t<0?t+=1:t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Ns(n){return{r:so(5,n),g:so(3,n),b:so(1,n),a:n.a}}function so(n,e){const t=(n+6*e.h)%6;return e.v-e.v*e.s*Math.max(0,Math.min(t,4-t,1))}function jn(n){return{h:n.h,s:n.b===1?0:1-n.w/(1-n.b),v:1-n.b,a:n.a}}function Fn(n){const e=Math.min(n.r,n.g,n.b),t=Math.max(n.r,n.g,n.b);let s;return s=t===e?0:t===n.r?(0+(n.g-n.b)/(t-e))/6:t===n.g?(2+(n.b-n.r)/(t-e))/6:(4+(n.r-n.g)/(t-e))/6,s<0&&(s+=1),{h:s,w:e,b:1-t,a:n.a}}function io(n){const e=Fn(n),t=e.w,s=1-e.b,i=(s+t)/2;let r;return r=s===0||t===1?0:(s-i)/Math.min(i,1-i),{h:e.h,s:r,l:i,a:n.a}}function Ai(n){return"#"+Object.values(n).map(e=>{const t=255*e,s=Math.round(t).toString(16);return s.length===1?"0"+s:s}).join("")}const xd={hex:[["hsl",n=>St(n,[ki,io])],["hsv",n=>St(n,[ki,Fn,jn])],["hwb",n=>St(n,[ki,Fn])],["rgb",ki]],hsl:[["hex",n=>St(n,[to,Ai])],["hsv",function(n){const e=n.l+n.s*Math.min(n.l,1-n.l),t=e===0?0:2-2*n.l/e;return{h:n.h,s:t,v:e,a:n.a}}],["hwb",n=>St(n,[to,Fn])],["rgb",to]],hsv:[["hex",n=>St(n,[Ns,Ai])],["hsl",function(n){const e=n.v-n.v*n.s/2,t=Math.min(e,1-e),s=t===0?0:(n.v-e)/t;return{h:n.h,s,l:e,a:n.a}}],["hwb",function(n){return{h:n.h,w:(1-n.s)*n.v,b:1-n.v,a:n.a}}],["rgb",Ns]],hwb:[["hex",n=>St(n,[jn,Ns,Ai])],["hsl",n=>St(n,[jn,Ns,io])],["hsv",jn],["rgb",n=>St(n,[jn,Ns])]],rgb:[["hex",Ai],["hsl",io],["hsv",n=>St(n,[Fn,jn])],["hwb",Fn]]};function St(n,e){return e.reduce((t,s)=>s(t),n)}function Ei(n){const e={};for(const t in n)e[t]=n[t];return e}const _d={hex:(n,e)=>e&&[5,9].includes(n.length)?n.substring(0,n.length-(n.length-1)/4):n,hsl:(n,e)=>`hsl(${$e(360*n.h)} ${$e(100*n.s)}% ${$e(100*n.l)}%`+(e?")":` / ${$e(n.a)})`),hwb:(n,e)=>`hwb(${$e(360*n.h)} ${$e(100*n.w)}% ${$e(100*n.b)}%`+(e?")":` / ${$e(n.a)})`),rgb:(n,e)=>`rgb(${$e(255*n.r)} ${$e(255*n.g)} ${$e(255*n.b)}`+(e?")":` / ${$e(n.a)})`)};function Wl(n,e,t){return _d[e](n,t)}function xu(n){return/^#(?:(?:[A-F0-9]{2}){3,4}|[A-F0-9]{3,4})$/i.test(n)}function wd(n){if(typeof n!="string")return{format:function(a){return Object.prototype.hasOwnProperty.call(a,"r")?"rgb":Object.prototype.hasOwnProperty.call(a,"w")?"hwb":Object.prototype.hasOwnProperty.call(a,"v")?"hsv":"hsl"}(n),color:n};if(xu(n))return{format:"hex",color:n};if(!n.includes("(")){const l=document.createElement("canvas").getContext("2d");l.fillStyle=n;const a=l.fillStyle;return a==="#000000"&&n!=="black"?null:{format:"hex",color:a}}const[e,t]=n.split("("),s=e.substring(0,3),i=t.replace(/[,/)]/g," ").replace(/\s+/g," ").trim().split(" ");i.length===3&&i.push("1");const r=(s+"a").split(""),o=Object.fromEntries(r.map((l,a)=>[l,Ao[s][l].from(i[a])]));return{format:s,color:o}}const ro=["hex","hsl","hwb","rgb"],kd=["show","hide"],Ad={class:"vacp-range-input-group"},Ed=["for"],Sd={class:"vacp-range-input-label-text vacp-range-input-label-text--hue uip-hidden"},Td=["id","value"],Nd=["for"],Cd={class:"vacp-range-input-label-text vacp-range-input-label-text--alpha uip-hidden"},Od=["id","value"],Ld=m("span",{class:"vacp-visually-hidden"},"Copy color",-1),Id=m("svg",{class:"vacp-icon",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 32 32"},[m("path",{d:"M25.313 28v-18.688h-14.625v18.688h14.625zM25.313 6.688c1.438 0 2.688 1.188 2.688 2.625v18.688c0 1.438-1.25 2.688-2.688 2.688h-14.625c-1.438 0-2.688-1.25-2.688-2.688v-18.688c0-1.438 1.25-2.625 2.688-2.625h14.625zM21.313 1.313v2.688h-16v18.688h-2.625v-18.688c0-1.438 1.188-2.688 2.625-2.688h16z",fill:"currentColor"})],-1),qd={class:"vacp-color-inputs"},Rd={class:"vacp-color-input-group uip-hidden"},Dd=["for"],Pd=m("span",{class:"vacp-color-input-label-text"}," Hex ",-1),Md=["id","value"],Bd=["id","for","onInput"],$d={class:"vacp-color-input-label-text"},jd=["id","value","onInput"],Ud=m("span",{class:"vacp-visually-hidden"},"Switch format",-1),Vd=m("svg",{class:"vacp-icon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15"},[m("path",{d:"M8 15l5-5-1-1-4 2-4-2-1 1zm4-9l1-1-5-5-5 5 1 1 4-2z",fill:"currentColor"})],-1);var Jo={__name:"ColorPicker",props:{color:{type:[String,Object],default:"#ffffffff"},id:{type:String,default:"color-picker"},visibleFormats:{type:Array,default:()=>ro,validator:n=>n.length>0&&n.every(e=>ro.includes(e))},defaultFormat:{type:String,default:"hsl",validator:n=>ro.includes(n)},alphaChannel:{type:String,default:"show",validator:n=>kd.includes(n)}},emits:["color-change"],setup(n,{emit:e}){const t=n,s=Ls(null),i=Ls(null),r=Ls(null);let o=!1;const l=Ls(t.visibleFormats.includes(t.defaultFormat)?t.defaultFormat:t.visibleFormats[0]),a=iu({hex:"#ffffffff",hsl:{h:0,s:0,l:1,a:1},hsv:{h:0,s:0,v:1,a:1},hwb:{h:0,w:1,b:0,a:1},rgb:{r:1,g:1,b:1,a:1}}),c=Ge(function(){const $=Object.keys(a[l.value]);return l.value!=="hex"&&t.alphaChannel==="hide"?$.slice(0,3):$}),p=Ge(function(){return t.alphaChannel==="hide"&&[5,9].includes(a.hex.length)?a.hex.substring(0,a.hex.length-(a.hex.length-1)/4):a.hex});function f(){const $=(t.visibleFormats.findIndex(V=>V===l.value)+1)%t.visibleFormats.length;l.value=t.visibleFormats[$]}function d($){o=!0,y($)}function g($){o=!0,x($)}function v(){o=!1}function y($){$.buttons===1&&o!==!1&&i.value instanceof HTMLElement&&w(i.value,$.clientX,$.clientY)}function x($){if(o===!1||!(i.value instanceof HTMLElement))return;$.preventDefault();const V=$.touches[0];w(i.value,V.clientX,V.clientY)}function w($,V,G){const ee=function(Ee,Ze,rt){const Qe=Ee.getBoundingClientRect(),te=Ze-Qe.left,Kt=rt-Qe.top;return{x:Qe.width===0?0:vn(te/Qe.width,0,1),y:Qe.height===0?0:vn(1-Kt/Qe.height,0,1)}}($,V,G),ae=Ei(a.hsv);ae.s=ee.x,ae.v=ee.y,K("hsv",ae)}function A($){if(!["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes($.key))return;$.preventDefault();const V=["ArrowLeft","ArrowDown"].includes($.key)?-1:1,G=["ArrowLeft","ArrowRight"].includes($.key)?"s":"v",ee=$.shiftKey?10:1,ae=a.hsv[G]+V*ee*.01,Ee=Ei(a.hsv);Ee[G]=vn(ae,0,1),K("hsv",Ee)}function S($){const V=wd($);V!==null&&K(V.format,V.color)}function I($,V){const G=$.currentTarget,ee=Ei(a.hsv);ee[V]=parseInt(G.value)/parseInt(G.max),K("hsv",ee)}function L($){const V=$.target;xu(V.value)&&K("hex",V.value)}function U($,V){const G=$.target,ee=Ei(a[l.value]),ae=Ao[l.value][V].from(G.value);Number.isNaN(ae)||ae===void 0||(ee[V]=ae,K(l.value,ee))}function K($,V){let G=V;if(t.alphaChannel==="hide")if(typeof V!="string")V.a=1,G=V;else if([5,9].includes(V.length)){const ee=(V.length-1)/4;G=V.substring(0,V.length-ee)+"f".repeat(ee)}else[4,7].includes(V.length)&&(G=V+"f".repeat((V.length-1)/3));if(!function(ee,ae){if(typeof ee=="string"||typeof ae=="string")return ee===ae;for(const Ee in ee)if(ee[Ee]!==ae[Ee])return!1;return!0}(a[$],G)){(function(ae,Ee){a[ae]=Ee;for(const[Ze,rt]of xd[ae])a[Ze]=rt(a[ae])})($,G);const ee=function(){const ae=t.alphaChannel==="hide",Ee=Wl(a[l.value],l.value,ae);return{colors:a,cssColor:Ee}}();e("color-change",ee)}(function(){s.value instanceof HTMLElement&&i.value instanceof HTMLElement&&r.value instanceof HTMLElement&&(s.value.style.setProperty("--vacp-hsl-h",String(a.hsl.h)),s.value.style.setProperty("--vacp-hsl-s",String(a.hsl.s)),s.value.style.setProperty("--vacp-hsl-l",String(a.hsl.l)),s.value.style.setProperty("--vacp-hsl-a",String(a.hsl.a)),i.value.style.position="relative",i.value.style.backgroundColor="hsl(calc(var(--vacp-hsl-h) * 360) 100% 50%)",i.value.style.backgroundImage="linear-gradient(to top, #000, transparent), linear-gradient(to right, #fff, transparent)",r.value.style.boxSizing="border-box",r.value.style.position="absolute",r.value.style.left=100*a.hsv.s+"%",r.value.style.bottom=100*a.hsv.v+"%")})()}async function pe(){const $=a[l.value],V=t.alphaChannel==="hide",G=Wl($,l.value,V);await window.navigator.clipboard.writeText(G)}function Pe($,V){return Ao[$][V].to(a[$][V])}function Ue($){if(!["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes($.key)||!$.shiftKey)return;const V=$.currentTarget,G=parseFloat(V.step),ee=["ArrowLeft","ArrowDown"].includes($.key)?-1:1,ae=vn(parseFloat(V.value)+ee*G*10,parseInt(V.min),parseInt(V.max));V.value=String(ae-ee*G)}return ou(()=>t.color,S),Hc(function(){document.addEventListener("mousemove",y,{passive:!1}),document.addEventListener("touchmove",x,{passive:!1}),document.addEventListener("mouseup",v),document.addEventListener("touchend",v),S(t.color)}),Fc(function(){document.removeEventListener("mousemove",y),document.removeEventListener("touchmove",x),document.removeEventListener("mouseup",v),document.removeEventListener("touchend",v)}),($,V)=>(_(),k("div",{ref_key:"colorPicker",ref:s,class:"vacp-color-picker uip-flex uip-flex-column uip-row-gap-xs"},[m("div",{ref_key:"colorSpace",ref:i,class:"vacp-color-space uip-border-rounder uip-h-130 uip-w-100p",onMousedown:d,onTouchstart:g},[m("div",{ref_key:"thumb",ref:r,class:"vacp-color-space-thumb",tabindex:"0","aria-label":"Color space thumb",onKeydown:A},null,544)],544),m("div",Ad,[m("label",{class:"vacp-range-input-label vacp-range-input-label--hue",for:`${n.id}-hue-slider`},[m("span",Sd,[bn($.$slots,"hue-range-input-label",{},()=>[rn("Hue")])]),m("input",{id:`${n.id}-hue-slider`,class:"vacp-range-input vacp-range-input--hue",value:360*a.hsv.h,type:"range",min:"0",max:"360",step:"1",onKeydownPassive:Ue,onInput:V[0]||(V[0]=G=>I(G,"h"))},null,40,Td)],8,Ed),n.alphaChannel==="show"?(_(),k("label",{key:0,class:"vacp-range-input-label vacp-range-input-label--alpha",for:`${n.id}-alpha-slider`},[m("span",Cd,[bn($.$slots,"alpha-range-input-label",{},()=>[rn("Alpha")])]),m("input",{id:`${n.id}-alpha-slider`,class:"vacp-range-input vacp-range-input--alpha",value:100*a.hsv.a,type:"range",min:"0",max:"100",step:"1",onKeydownPassive:Ue,onInput:V[1]||(V[1]=G=>I(G,"a"))},null,40,Od)],8,Nd)):z("v-if",!0)]),m("button",{class:"vacp-copy-button uip-hidden",type:"button",onClick:pe},[bn($.$slots,"copy-button",{},()=>[Ld,Id])]),m("div",qd,[m("div",Rd,[l.value==="hex"?(_(),k("label",{key:0,class:"vacp-color-input-label",for:`${n.id}-color-hex`},[Pd,m("input",{id:`${n.id}-color-hex`,class:"vacp-color-input",type:"text",value:p.value,onInput:L},null,40,Md)],8,Dd)):(_(!0),k(le,{key:1},be(c.value,G=>(_(),k("label",{id:`${n.id}-color-${l.value}-${G}-label`,key:`${n.id}-color-${l.value}-${G}-label`,class:"vacp-color-input-label",for:`${n.id}-color-${l.value}-${G}`,onInput:ee=>U(ee,G)},[m("span",$d,C(G.toUpperCase()),1),m("input",{id:`${n.id}-color-${l.value}-${G}`,class:"vacp-color-input",type:"text",value:Pe(l.value,G),onInput:ee=>U(ee,G)},null,40,jd)],40,Bd))),128))]),n.visibleFormats.length>1?(_(),k("button",{key:0,class:"vacp-format-switch-button uip-hidden",type:"button",onClick:f},[bn($.$slots,"format-switch-button",{},()=>[Ud,Vd])])):z("v-if",!0)])],512))}};(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}})(".vacp-color-picker{--vacp-color:hsl(calc(var(--vacp-hsl-h)*360) calc(var(--vacp-hsl-s)*100%) calc(var(--vacp-hsl-l)*100%)/var(--vacp-hsl-a));--vacp-focus-color:#19f;--vacp-focus-outline:2px solid var(--vacp-focus-color);--vacp-border-width:1px;--vacp-border-color:#000;--vacp-border:var(--vacp-border-width) solid var(--vacp-border-color);--vacp-color-space-width:300px;--vacp-spacing:6px;grid-gap:var(--vacp-spacing);background-color:transparent;display:grid;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:.8em;max-width:var(--vacp-color-space-width)}.vacp-color-picker *,.vacp-color-picker :after,.vacp-color-picker :before{box-sizing:border-box}.vacp-color-picker button::-moz-focus-inner{border:none;padding:0}.vacp-color-picker :focus{outline:var(--vacp-focus-outline)}.vacp-color-space{grid-column:1/-1;height:calc(var(--vacp-color-space-width)*.6);overflow:hidden}.vacp-color-space-thumb{--vacp-thumb-size:calc(var(--vacp-spacing)*4);border:3px solid #fff;border-radius:50%;box-shadow:0 0 0 var(--vacp-border-width) var(--vacp-border-color);height:var(--vacp-thumb-size);margin-bottom:calc(var(--vacp-thumb-size)*-1/2);margin-left:calc(var(--vacp-thumb-size)*-1/2);transform:rotate(0);width:var(--vacp-thumb-size)}.vacp-color-space-thumb:focus{box-shadow:0 0 0 var(--vacp-border-width) var(--vacp-border-color),0 0 0 3px var(--vacp-focus-color);outline-color:transparent}.vacp-range-input-label{--vacp-slider-track-width:100%;--vacp-slider-track-height:calc(var(--vacp-spacing)*3);display:block}.vacp-range-input-group{display:flex;flex-direction:column;justify-content:center}.vacp-range-input-group>:not(:first-child){margin-top:var(--vacp-spacing)}.vacp-range-input,.vacp-range-input::-webkit-slider-thumb{-webkit-appearance:none}.vacp-range-input{background:none;border:none;display:block;height:var(--vacp-slider-track-height);margin-bottom:calc(var(--vacp-spacing)/2 + 1px);margin-left:0;margin-right:0;margin-top:calc(var(--vacp-spacing)/2 + 1px);padding:0;width:var(--vacp-slider-track-width)}.vacp-range-input:focus{outline:none}.vacp-range-input::-moz-focus-outer{border:none}.vacp-range-input--alpha{background-color:#fff;background-image:linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0,#eee),linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0,#eee);background-position:0 0,var(--vacp-spacing) var(--vacp-spacing);background-size:calc(var(--vacp-spacing)*2) calc(var(--vacp-spacing)*2)}.vacp-range-input::-moz-range-track{border:var(--vacp-border);box-sizing:content-box;height:var(--vacp-slider-track-height);width:var(--vacp-slider-track-width)}.vacp-range-input::-webkit-slider-runnable-track{border:var(--vacp-border);box-sizing:content-box;height:var(--vacp-slider-track-height);width:var(--vacp-slider-track-width)}.vacp-range-input::-ms-track{border:var(--vacp-border);box-sizing:content-box;height:var(--vacp-slider-track-height);width:var(--vacp-slider-track-width)}.vacp-range-input:focus::-moz-range-track{outline:var(--vacp-focus-outline)}.vacp-range-input:focus::-webkit-slider-runnable-track{outline:var(--vacp-focus-outline)}.vacp-range-input:focus::-ms-track{outline:var(--vacp-focus-outline)}.vacp-range-input--alpha::-moz-range-track{background-image:linear-gradient(to right,transparent,var(--vacp-color))}.vacp-range-input--alpha::-webkit-slider-runnable-track{background-image:linear-gradient(to right,transparent,var(--vacp-color))}.vacp-range-input--alpha::-ms-track{background-image:linear-gradient(to right,transparent,var(--vacp-color))}.vacp-range-input--hue::-moz-range-track{background-image:linear-gradient(90deg,red 0,#ff0 16.66667%,#0f0 33.33333%,#0ff 50%,#00f 66.66667%,#f0f 83.33333%,red 100%)}.vacp-range-input--hue::-webkit-slider-runnable-track{background-image:linear-gradient(90deg,red 0,#ff0 16.66667%,#0f0 33.33333%,#0ff 50%,#00f 66.66667%,#f0f 83.33333%,red 100%)}.vacp-range-input--hue::-ms-track{background-image:linear-gradient(90deg,red 0,#ff0 16.66667%,#0f0 33.33333%,#0ff 50%,#00f 66.66667%,#f0f 83.33333%,red 100%)}.vacp-range-input::-moz-range-thumb{background-color:transparent;border:3px solid #fff;border-radius:50%;box-shadow:0 0 0 var(--vacp-border-width) var(--vacp-border-color);box-sizing:content-box;height:var(--vacp-slider-track-height);isolation:isolate;width:var(--vacp-slider-track-height)}.vacp-range-input::-webkit-slider-thumb{background-color:transparent;border:3px solid #fff;border-radius:50%;box-shadow:0 0 0 var(--vacp-border-width) var(--vacp-border-color);box-sizing:content-box;height:var(--vacp-slider-track-height);isolation:isolate;margin-top:calc((var(--vacp-spacing)/2)*-1);width:var(--vacp-slider-track-height)}.vacp-range-input::-ms-thumb{background-color:transparent;border:3px solid #fff;border-radius:50%;box-shadow:0 0 0 var(--vacp-border-width) var(--vacp-border-color);box-sizing:content-box;height:var(--vacp-slider-track-height);isolation:isolate;margin-top:calc((var(--vacp-spacing)/2)*-1);width:var(--vacp-slider-track-height)}.vacp-copy-button{align-items:center;align-self:center;background-color:#fff;border:var(--vacp-border-width) solid transparent;border-radius:50%;display:flex;height:calc(var(--vacp-spacing)*6);justify-content:center;justify-self:center;overflow:hidden;position:relative;width:calc(var(--vacp-spacing)*6)}.vacp-copy-button:enabled:focus{border-color:var(--vacp-border-color);box-shadow:0 0 0 2px var(--vacp-focus-color);outline:none}.vacp-copy-button:enabled:hover{background-color:#0002}.vacp-color-inputs{align-items:center;display:flex;grid-column:1/-1}.vacp-color-inputs>:not(:first-child){margin-left:var(--vacp-spacing)}.vacp-color-input-group{column-gap:var(--vacp-spacing);display:grid;flex-grow:1;grid-auto-flow:column}.vacp-color-input-label{text-align:center}.vacp-color-input{border:var(--vacp-border);margin:0;margin-top:calc(var(--vacp-spacing)/2);text-align:center;width:100%}.vacp-color-input,.vacp-format-switch-button{background-color:#fff;color:inherit;font:inherit;padding:var(--vacp-spacing)}.vacp-format-switch-button{align-items:center;border:var(--vacp-border-width) solid transparent;border-radius:50%;display:flex;justify-content:center;margin:0}.vacp-format-switch-button:enabled:focus{border-color:var(--vacp-border-color)}.vacp-format-switch-button:enabled:hover{background-color:#0002}.vacp-visually-hidden{clip:rect(0 0 0 0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.vacp-range-input-label{margin:0!important}.vacp-range-input{border-radius:var(--uip-border-radius-large);height:8px}.vacp-range-input::-webkit-slider-runnable-track{border:none!important;border-radius:var(--uip-border-radius-large);height:8px}.vacp-range-input--alpha{background:repeating-conic-gradient(#cccccd 0 25%,transparent 0 50%) 50%/8px 10px}.vacp-range-input::-webkit-slider-thumb{width:8px;height:8px;outline:grey 1px;box-shadow:0 0 0 1px var(--uip-border-color)}.vacp-color-space-thumb{--vacp-thumb-size:calc(var(--vacp-spacing)*2);border:2px solid #fff;border-radius:50%;box-shadow:0 0 0 1px var(--uip-border-color);height:12px;width:12px}"),Jo.__file="src/ColorPicker.vue";const{__:ct}=wp.i18n,Hd={components:{colorSelect:Jo},props:{currentColor:String,returnData:Function,actualValue:String},data(){return{contextIndex:!1,scrollBottom:!1,showSearch:!1,search:"",strings:{styles:ct("Styles","uipress-lite"),create:ct("Create","uipress-lite"),delete:ct("Delete","uipress-lite"),duplicate:ct("Duplicate","uipress-lite"),edit:ct("Edit","uipress-lite"),createShades:ct("Create shades","uipress-lite"),copyVariable:ct("Copy variable","uipress-lite"),searchStyles:ct("Search styles","uipress-lite")}}},watch:{"uipApp.data.themeStyles":{handler(){this.saveStyles()},deep:!0}},computed:{returnActiveMode(){if(!this.uipApp.data.userPrefs.darkTheme)return"value";if(this.uipApp.data.userPrefs.darkTheme)return"darkValue"},activeStyle(){if(this.actualValue&&this.actualValue.includes("--"))return this.actualValue},returnUserStyles(){this.uipApp.data.themeStyles||(this.uipApp.data.themeStyles={});let e=this.search.toLowerCase();return Object.entries(this.uipApp.data.themeStyles).filter(([t,s])=>(s.name=t,(s.type==="color"||!("name"in s))&&this.maybeToLowerCase(s.name).includes(e))).map(([t,s])=>(s.type="color",s))},canDeleteVar(){return this.contextIndex===!1?!0:!(!this.uipApp.data.themeStyles[this.contextIndex]||this.uipApp.data.themeStyles[this.contextIndex].user)}},methods:{maybeToLowerCase(n){return n?n.toLowerCase():""},async saveStyles(){let n=JSON.stringify(this.uipApp.data.themeStyles),e=new FormData;e.append("action","uip_save_user_styles"),e.append("security",uip_ajax.security),e.append("styles",n);const t=await this.sendServerRequest(uip_ajax.ajax_url,e);return t.error&&this.uipApp.notifications.notify(t.message,"uipress-lite","","error",!0),!0},addNewStyle(){const n={name:"",type:"color",value:this.currentColor,darkValue:this.currentColor,user:!0};let e={component:"colourStyleEditor",label:ct("New color style","uipress-lite"),value:n,returnData:t=>{this.uipApp.data.themeStyles[t.name]=t,this.$emit("go-back")}};this.$emit("request-screen",e)},editColor(){const n=this.uipApp.data.themeStyles[this.contextIndex];let e={component:"colourStyleEditor",label:ct("Edit color style","uipress-lite"),value:n,returnData:!1};this.$refs.colorcontext.close(),this.$emit("request-screen",e)},duplicateColor(){const n=this.uipApp.data.themeStyles[this.contextIndex];let e=JSON.parse(JSON.stringify(n));e.name+="-copy";let t={component:"colourStyleEditor",label:ct("New color style","uipress-lite"),value:e,returnData:s=>{this.seqlData.options.app_data.styles.push(s),this.$emit("go-back")}};this.$refs.colorcontext.close(),this.$emit("request-screen",t)},setColor(n){this.returnData(n)},checkForBottomScroll(n){const e=n.target;e.scrollTop+e.clientHeight>=e.scrollHeight-16?this.scrollBottom=!0:this.scrollBottom=!1},maybeHideSearch(){(this.search.length===0||!this.search)&&(this.showSearch=!1)},returnStyleBackground(n){const e=this.returnActiveMode;return n[e]?n[e].includes("--")?`var(${n[e]})`:n[e]:`var(${n.name})`}}},Fd={class:"uip-flex uip-flex-column uip-row-gap-xs uip-position-relative"},zd={class:"uip-flex uip-flex-between uip-flex-center"},Kd=["placeholder"],Gd=["onContextmenu","onClick"],Wd={class:"uip-w-16 uip-border-circle uip-ratio-1-1 uip-background-checkered"},Xd={class:""},Yd={key:0,class:"uip-fade-in uip-position-absolute uip-bottom-0 uip-w-100p",style:{"pointer-events":"none"}},Zd={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},Qd={class:""},Jd={class:""},ef={class:""};function tf(n,e,t,s,i,r){const o=P("AppIcon"),l=P("contextmenu");return _(),k("div",Fd,[m("div",zd,[(_(),he(ss("style"),{scoped:""},{default:Y(()=>e[9]||(e[9]=[rn(" .searchfade-enter-active, .searchfade-leave-active { transition: all 0.2s ease; } .searchfade-enter-from, .searchfade-leave-to { opacity: 0; transform: translateX(30px); } ")])),_:1})),O(Mi,{name:"searchfade",mode:"out-in"},{default:Y(()=>[i.showSearch?(_(),k("div",{key:"search",onMouseleave:e[3]||(e[3]=(...a)=>r.maybeHideSearch&&r.maybeHideSearch(...a)),class:"uip-flex uip-gap-xs uip-flex-center"},[O(o,{icon:"search",class:"uip-icon"}),Z(m("input",{class:"uip-input uip-blank-input uip-text-s",type:"text",onBlur:e[1]||(e[1]=(...a)=>r.maybeHideSearch&&r.maybeHideSearch(...a)),"onUpdate:modelValue":e[2]||(e[2]=a=>i.search=a),placeholder:i.strings.searchStyles,autofocus:""},null,40,Kd),[[ne,i.search]])],32)):(_(),k("div",{key:"title",class:"uip-text-bold uip-text-emphasis",onMouseenter:e[0]||(e[0]=a=>i.showSearch=!0)},C(i.strings.styles),33))]),_:1}),m("div",{onClick:e[4]||(e[4]=(...a)=>r.addNewStyle&&r.addNewStyle(...a)),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-default hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"add",class:"uip-icon"})])]),m("div",{class:"uip-flex uip-flex-column uip-max-h-160",onScroll:e[5]||(e[5]=(...a)=>r.checkForBottomScroll&&r.checkForBottomScroll(...a)),style:{overflow:"auto"}},[(_(!0),k(le,null,be(r.returnUserStyles,(a,c)=>(_(),k("div",{onContextmenu:We(p=>{i.contextIndex=a.name,n.$refs.colorcontext.show(p)},["prevent","stop"]),onClick:p=>r.setColor(a),class:Ke([{"uip-background-muted":r.activeStyle==a.name,"hover:uip-background-muted":r.activeStyle!=a.name},"uip-flex uip-gap-s uip-flex-center uip-padding-xxs uip-padding-left-xs uip-link-default uip-border-rounder"])},[m("div",Wd,[m("div",{class:"uip-w-16 uip-border-circle uip-ratio-1-1 uip-border",style:Qn({background:r.returnStyleBackground(a)})},null,4)]),m("div",Xd,C(a.name),1)],42,Gd))),256))],32),!i.scrollBottom&&i.search==""?(_(),k("div",Yd,e[10]||(e[10]=[m("div",{style:{position:"absolute",top:"0px","background-image":"linear-gradient(to top, var(--uip-color-base-0), transparent)",transform:"translateY(-100%)",height:"60px",width:"100%","z-index":"9"}},null,-1)]))):z("",!0),O(l,{ref:"colorcontext",disableTeleport:!0},{default:Y(()=>[m("div",Zd,[m("a",{class:"uip-link-default uip-flex uip-gap-m uip-flex-between uip-flex-center hover:uip-background-muted uip-border-round uip-padding-xxs",onClick:e[6]||(e[6]=We((...a)=>r.editColor&&r.editColor(...a),["prevent"]))},[m("span",Qd,C(i.strings.edit),1),O(o,{icon:"edit",class:"uip-icon"})]),m("a",{class:"uip-link-default uip-flex uip-gap-m uip-flex-between uip-flex-center hover:uip-background-muted uip-border-round uip-padding-xxs",onClick:e[7]||(e[7]=We((...a)=>r.duplicateColor&&r.duplicateColor(...a),["prevent"]))},[m("span",Jd,C(i.strings.duplicate),1),O(o,{icon:"content_copy",class:"uip-icon"})]),e[11]||(e[11]=m("div",{class:"uip-border-top uip-margin-top-xs uip-margin-bottom-xs"},null,-1)),m("a",{class:Ke(["uip-link-danger uip-flex uip-gap-m uip-flex-between uip-flex-center hover:uip-background-muted uip-border-round uip-padding-xxs",{"uip-link-disabled":r.canDeleteVar}]),onClick:e[8]||(e[8]=We(a=>{delete this.uipApp.data.themeStyles[i.contextIndex],n.$refs.colorcontext.close()},["prevent"]))},[m("span",ef,C(i.strings.delete),1),O(o,{icon:"delete",class:"uip-icon"})],2)])]),_:1},512)])}const nf=J(Hd,[["render",tf]]),sf={components:{colorSelect:Jo,styleManager:nf},props:{value:String,returnData:Function,args:Object},data(){return{color:this.value,opacity:100,dragging:!1,dontProcessVars:!1}},watch:{opacity:{handler(n,e){n||(this.opacity=0),n>100&&(this.opacity=100),n<0&&(this.opacity=0),this.updateOpacity()},deep:!0},value:{handler(){this.color=this.value}}},computed:{hasStyleManager(){return!this.args||!this.isObject(this.args)||!("hasStyleManager"in this.args)?!0:this.args.hasStyleManager},returnColor(){return!this.color||this.color.includes("gradient")?"#b500ff":this.color.includes("--")?this.colorFromVar:this.color},colorFromVar(){if(this.dontProcessVars)return this.color;const n=this.uipApp.data.themeStyles,e=this.color.trim();if(e in n){const i=this.returnActiveMode,r=n[e][i];if(r)return r}const s=getComputedStyle(document.documentElement).getPropertyValue(e).trim();return s||"#b500ff"},returnActiveMode(){if(!this.uipApp.data.userPrefs.darkTheme)return"value";if(this.uipApp.data.userPrefs.darkTheme)return"darkValue"},hasEyeDropper(){return!!window.EyeDropper}},methods:{preventOverDrag(n){this.dragging=!0},allowColorReturn(n){this.dragging=!1,this.returnData(this.color)},setBackgroundColor(n){this.color=n.cssColor,this.setOpacity()},setOpacity(){if(!this.$refs.colorpicker)return"100";let n=this.$refs.colorpicker.querySelector("#color-picker-alpha-slider");if(n){let e=n.value;this.opacity=e}},updateOpacity(){if(!this.$refs.colorpicker||!this.opacity)return;let n=this.$refs.colorpicker.querySelector("#color-picker-alpha-slider");n&&(n.value=this.opacity,n.dispatchEvent(new Event("input",{bubbles:!0})))},startColorPicker(){new EyeDropper().open().then(e=>{this.color=e.sRGBHex})},processScreen(n){this.$emit("request-screen",n)},setColorFromVar(n){this.color=n.value,this.returnData(n.name)}},template:`
	  
		 
			`},rf={class:"",ref:"colorpicker"},of={class:"uip-flex uip-gap-xs"},lf={class:"uip-flex uip-flex-center uip-background-muted uip-border-rounder uip-padding-xxs"},af={key:1,class:"uip-border-top uip-margin-top-s uip-margin-bottom-s"};function uf(n,e,t,s,i,r){const o=P("colorSelect"),l=P("AppIcon"),a=P("styleManager");return _(),k("div",rf,[i.dragging?(_(),k("div",{key:0,onClick:e[0]||(e[0]=We(c=>i.dragging=!1,["stop","prevent"])),onMouseup:e[1]||(e[1]=We(c=>i.dragging=!1,["stop","prevent"])),style:{position:"fixed",left:"0",right:"0",top:"0",bottom:"0"}},null,32)):z("",!0),O(o,{color:r.returnColor,"default-format":"hex",onMouseup:r.allowColorReturn,onMousedown:r.preventOverDrag,onClick:e[2]||(e[2]=c=>i.dragging=!1),onColorChange:r.setBackgroundColor},null,8,["color","onMouseup","onMousedown","onColorChange"]),m("div",of,[Z(m("input",{onInput:e[3]||(e[3]=c=>t.returnData(i.color)),class:"uip-input uip-flex-grow",type:"text",onFocus:e[4]||(e[4]=c=>i.dontProcessVars=!0),onBlur:e[5]||(e[5]=c=>i.dontProcessVars=!1),"onUpdate:modelValue":e[6]||(e[6]=c=>i.color=c),placeholder:"#4776cd"},null,544),[[ne,i.color]]),m("div",lf,[Z(m("input",{class:"uip-text-s uip-blank-input uip-w-30 uip-remove-steps",type:"number",min:"0",max:"100",step:"1","onUpdate:modelValue":e[7]||(e[7]=c=>i.opacity=c)},null,512),[[ne,i.opacity]]),e[11]||(e[11]=m("span",{class:"uip-text-s"},"%",-1))]),r.hasEyeDropper?(_(),k("button",{key:0,onClick:e[8]||(e[8]=(...c)=>r.startColorPicker&&r.startColorPicker(...c)),class:"uip-button-default uip-flex uip-flex-center uip-padding-xxs"},[O(l,{icon:"colorize",class:"uip-icon"})])):z("",!0)]),r.hasStyleManager?(_(),k("div",af)):z("",!0),r.hasStyleManager?(_(),he(a,{key:2,currentColor:i.color,actualValue:t.value,onRequestScreen:e[9]||(e[9]=c=>{r.processScreen(c)}),onGoBack:e[10]||(e[10]=c=>n.$emit("go-back")),returnData:r.setColorFromVar},null,8,["currentColor","actualValue","returnData"])):z("",!0)],512)}const _u=J(sf,[["render",uf]]),{__:Si}=wp.i18n,cf={components:{colorPicker:_u},props:{value:Object,returnData:[Function,Boolean]},data(){return{mode:"value",strings:{styleName:Si("Style name","uipress-lite"),create:Si("Create","uipress-lite")},color:{},updating:!1,colorModes:{value:{value:"value",icon:"light_mode",tip:Si("Light mode","uipress-lite")},darkValue:{value:"darkValue",icon:"dark_mode",tip:Si("Dark mode","uipress-lite")}}}},watch:{value:{handler(){this.updating||this.injectProp()},immediate:!0,deep:!0},"color.name":{handler(){this.color.name=this.cleanKeyName(this.color.name)}},"uipApp.data.userPrefs.darkTheme":{handler(){this.updateDefaultColorState()},deep:!0}},mounted(){this.updateDefaultColorState()},computed:{returnColor(){if(!this.color.value&&!this.color.darkValue){const e=getComputedStyle(document.documentElement).getPropertyValue(this.color.name).trim();return e||"#b500ff"}return this.color[this.mode]?this.color[this.mode]:"#b500ff"}},methods:{async injectProp(){this.updating=!0,this.color=this.isObject(this.value)?this.value:{},await this.$nextTick(),this.updating=!1},updateDefaultColorState(){this.uipApp.data.userPrefs.darkTheme||(this.mode="value"),this.uipApp.data.userPrefs.darkTheme&&(this.mode="darkValue")},cleanKeyName(n){return n=n.replace(" ","-"),n=n.replace(",",""),n=n.replace(".",""),n=n.replace(/[`~!@#$%^&*()|+\=?;:'",.<>\{\}\[\]\\\/]/gi,""),n=n.toLowerCase(),n=this.ensureDoubleDashPrefix(n),n},ensureDoubleDashPrefix(n){return n?n.startsWith("--")?n:n.startsWith("-")?"--"+n.slice(1):"--"+n:"--"},setColorStyle(){this.returnData(this.color)}}},pf={class:"uip-flex uip-flex-column uip-row-gap-s",ref:"colorpicker"},hf=["disabled","placeholder"],df=["disabled"];function ff(n,e,t,s,i,r){const o=P("toggle-switch"),l=P("colorPicker");return _(),k("div",pf,[Z(m("input",{disabled:!i.color.user,class:"uip-input uip-flex-grow",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>i.color.name=a),placeholder:i.strings.styleName,autofocus:""},null,8,hf),[[ne,i.color.name]]),O(o,{activeValue:i.mode,options:i.colorModes,returnValue:a=>{i.mode=a}},null,8,["activeValue","options","returnValue"]),O(l,{value:r.returnColor,returnData:a=>{i.color[i.mode]=a},args:{hasStyleManager:!1}},null,8,["value","returnData"]),t.returnData?(_(),k("button",{key:0,onClick:e[1]||(e[1]=(...a)=>r.setColorStyle&&r.setColorStyle(...a)),class:"uip-button-primary",disabled:!i.color.name},C(i.strings.create),9,df)):z("",!0)],512)}const gf=J(cf,[["render",ff]]),{__:mf}=wp.i18n,bf={components:{colorBox:yu,screenControl:yd,colorPicker:_u,colourStyleEditor:gf},props:{returnData:Function,value:Object,args:Object},data(){return{updating:!1,colour:this.returnDefaultValue,strings:{colorPicker:mf("Colour picker","uipress-lite")}}},watch:{colour:{handler(){this.updating||this.returnData(this.colour)},deep:!0},value:{handler(n,e){this.updating||this.formatValue()},deep:!0,immediate:!0}},computed:{returnDefaultValue(){return{value:"",type:"solid"}},returnFillStyle(){if(!("value"in this.colour)||!this.colour.value)return;const n=this.colour.value;return n.includes("--")?`background:var(${n})`:`background:${n}`},colourPickerScreen(){return{component:"colorPicker",value:this.colour.value,label:this.strings.colorPicker,args:this.args,returnData:n=>{this.colour.value=n}}},returnDropPos(){return this.hasNestedPath(this.args,"dropPosition")?this.args.dropPosition:"left center"}},methods:{async formatValue(){this.updating=!0,this.colour=this.returnDefaultValue,this.colour=this.isObject(this.value)?{...this.value}:this.returnDefaultValue,await this.$nextTick(),this.updating=!1}}},vf={class:"uip-padding-s uip-w-240"};function yf(n,e,t,s,i,r){const o=P("colorBox"),l=P("screenControl"),a=P("dropdown");return _(),he(a,{pos:r.returnDropPos,snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"],ref:"fillDrop",class:"uip-w-100p"},{trigger:Y(()=>[O(o,{backgroundStyle:r.returnFillStyle,text:this.colour.value,remove:()=>{this.colour.value=""}},null,8,["backgroundStyle","text","remove"])]),content:Y(()=>[m("div",vf,[O(l,{startScreen:r.colourPickerScreen,homeScreen:r.colourPickerScreen.component,closer:n.$refs.fillDrop.close,showNavigation:!0},{componenthandler:Y(({processScreen:c,currentScreen:p,goBack:f})=>[(_(),he(zc,null,[(_(),he(ss(p.component),{onRequestScreen:d=>{c(d)},onGoBack:d=>f(),returnData:p.returnData,value:p.value,args:p.args},null,40,["onRequestScreen","onGoBack","returnData","value","args"]))],1024))]),_:1},8,["startScreen","homeScreen","closer"])])]),_:1},8,["pos"])}const xf=J(bf,[["render",yf]]),_f={props:{returnData:Function,value:String,placeHolder:String,args:Object,size:String},data(){return{option:"",password:!1,updating:!1}},watch:{value:{handler(n,e){this.updating||this.injectProp()},immediate:!0},option:{handler(n,e){this.updating||(this.returnData(this.option),this.maybeFormatForMeta())}}},mounted(){this.initialiseInput()},computed:{returnType(){return this.password?"password":"text"}},methods:{maybeFormatForMeta(){if(!this.args||!this.args.metaKey||!this.option)return;let n=this.option;n=n.replace(" ","_"),n=n.replace(/[&/#,+()$~%.'":*?<>{}]/g,""),n=n.toLowerCase(),this.option=n},initialiseInput(){this.args&&this.args.password&&(this.password=!0)},async injectProp(){this.updating=!0,this.option=this.value,await Fi(),this.updating=!1}}},wf=["type","placeholder"];function kf(n,e,t,s,i,r){return Z((_(),k("input",{type:r.returnType,class:Ke(["uip-input-small uip-w-100p",{"uip-w-100":t.size=="xsmall"}]),"onUpdate:modelValue":e[0]||(e[0]=o=>i.option=o),placeholder:t.placeHolder},null,10,wf)),[[Kc,i.option]])}const Af=J(_f,[["render",kf]]),Ef={props:{returnData:Function,value:String,placeHolder:String},data(){return{option:null}},watch:{option:{handler(n,e){this.returnData(this.option)},deep:!0}},mounted(){this.injectProp()},methods:{injectProp(){this.value&&(this.option=this.value)}}},Sf=["placeholder"];function Tf(n,e,t,s,i,r){return Z((_(),k("textarea",{class:"uip-input uip-w-100p","onUpdate:modelValue":e[0]||(e[0]=o=>i.option=o),placeholder:t.placeHolder},null,8,Sf)),[[ne,i.option]])}const Nf=J(Ef,[["render",Tf]]),Cf={props:{returnData:Function,value:[String,Number],placeHolder:String,customStep:[String,Number]},data(){return{option:"",step:1}},watch:{option:{handler(n,e){this.returnData(this.option)},deep:!0}},mounted(){this.initialiseNumber()},methods:{initialiseNumber(){typeof this.value<"u"&&(this.option=this.value),this.customStep&&(this.step=this.customStep)},stepUpNumber(){const n=parseFloat(this.option||0),e=parseFloat(this.step),t=n+e;this.option=t,Number.isInteger(this.option)||(this.option=this.option.toFixed(2))},stepDownNumber(){const n=parseFloat(this.option||0),e=parseFloat(this.step),t=n-e;this.option=t,Number.isInteger(this.option)||(this.option=this.option.toFixed(2))}}},Of={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},Lf=["placeholder"],If={class:"uip-padding-xxxs uip-border-rounder uip-background-muted uip-flex uip-gap-xxs uip-no-text-select"};function qf(n,e,t,s,i,r){const o=P("AppIcon");return _(),k("div",Of,[Z(m("input",{type:"number",class:"uip-input-small uip-w-100p uip-flex-grow","onUpdate:modelValue":e[0]||(e[0]=l=>i.option=l),placeholder:t.placeHolder},null,8,Lf),[[ne,i.option]]),m("div",If,[O(o,{icon:"remove",class:"uip-link-muted uip-icon uip-text-l",onClick:e[1]||(e[1]=l=>r.stepDownNumber())}),e[3]||(e[3]=m("div",{class:"uip-border-right"},null,-1)),O(o,{icon:"add",class:"uip-link-muted uip-icon uip-text-l",onClick:e[2]||(e[2]=l=>r.stepUpNumber())})])])}const Rf=J(Cf,[["render",qf]]),{__:Xl}=wp.i18n,Df={props:{returnData:Function,value:Array,placeHolder:String},data(){return{strings:{placeHolder:Xl("Select post types","uipress-lite"),searchPlaceHolder:Xl("Seach post types","uipress-lite")}}}};function Pf(n,e,t,s,i,r){const o=P("post-type-select");return _(),he(o,{selected:t.value,placeHolder:i.strings.placeHolder,searchPlaceHolder:i.strings.searchPlaceHolder,single:!1,updateSelected:t.returnData},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"])}const Mf=J(Df,[["render",Pf]]);var wu=typeof global=="object"&&global&&global.Object===Object&&global,Bf=typeof self=="object"&&self&&self.Object===Object&&self,It=wu||Bf||Function("return this")(),on=It.Symbol,ku=Object.prototype,$f=ku.hasOwnProperty,jf=ku.toString,Cs=on?on.toStringTag:void 0;function Uf(n){var e=$f.call(n,Cs),t=n[Cs];try{n[Cs]=void 0;var s=!0}catch{}var i=jf.call(n);return s&&(e?n[Cs]=t:delete n[Cs]),i}var Vf=Object.prototype,Hf=Vf.toString;function Ff(n){return Hf.call(n)}var zf="[object Null]",Kf="[object Undefined]",Yl=on?on.toStringTag:void 0;function ps(n){return n==null?n===void 0?Kf:zf:Yl&&Yl in Object(n)?Uf(n):Ff(n)}function jt(n){return n!=null&&typeof n=="object"}var xn=Array.isArray;function ln(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function Au(n){return n}var Gf="[object AsyncFunction]",Wf="[object Function]",Xf="[object GeneratorFunction]",Yf="[object Proxy]";function el(n){if(!ln(n))return!1;var e=ps(n);return e==Wf||e==Xf||e==Gf||e==Yf}var oo=It["__core-js_shared__"],Zl=function(){var n=/[^.]+$/.exec(oo&&oo.keys&&oo.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Zf(n){return!!Zl&&Zl in n}var Qf=Function.prototype,Jf=Qf.toString;function kn(n){if(n!=null){try{return Jf.call(n)}catch{}try{return n+""}catch{}}return""}var eg=/[\\^$.*+?()[\]{}|]/g,tg=/^\[object .+?Constructor\]$/,ng=Function.prototype,sg=Object.prototype,ig=ng.toString,rg=sg.hasOwnProperty,og=RegExp("^"+ig.call(rg).replace(eg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lg(n){if(!ln(n)||Zf(n))return!1;var e=el(n)?og:tg;return e.test(kn(n))}function ag(n,e){return n==null?void 0:n[e]}function An(n,e){var t=ag(n,e);return lg(t)?t:void 0}var Eo=An(It,"WeakMap"),Ql=Object.create,ug=function(){function n(){}return function(e){if(!ln(e))return{};if(Ql)return Ql(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function cg(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function Eu(n,e){var t=-1,s=n.length;for(e||(e=Array(s));++t<s;)e[t]=n[t];return e}var pg=800,hg=16,dg=Date.now;function fg(n){var e=0,t=0;return function(){var s=dg(),i=hg-(s-t);if(t=s,i>0){if(++e>=pg)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function gg(n){return function(){return n}}var Bi=function(){try{var n=An(Object,"defineProperty");return n({},"",{}),n}catch{}}(),mg=Bi?function(n,e){return Bi(n,"toString",{configurable:!0,enumerable:!1,value:gg(e),writable:!0})}:Au,bg=fg(mg);function vg(n,e){for(var t=-1,s=n==null?0:n.length;++t<s&&e(n[t],t,n)!==!1;);return n}var yg=9007199254740991,xg=/^(?:0|[1-9]\d*)$/;function Su(n,e){var t=typeof n;return e=e??yg,!!e&&(t=="number"||t!="symbol"&&xg.test(n))&&n>-1&&n%1==0&&n<e}function tl(n,e,t){e=="__proto__"&&Bi?Bi(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Ys(n,e){return n===e||n!==n&&e!==e}var _g=Object.prototype,wg=_g.hasOwnProperty;function Tu(n,e,t){var s=n[e];(!(wg.call(n,e)&&Ys(s,t))||t===void 0&&!(e in n))&&tl(n,e,t)}function Zs(n,e,t,s){var i=!t;t||(t={});for(var r=-1,o=e.length;++r<o;){var l=e[r],a=void 0;a===void 0&&(a=n[l]),i?tl(t,l,a):Tu(t,l,a)}return t}var Jl=Math.max;function kg(n,e,t){return e=Jl(e===void 0?n.length-1:e,0),function(){for(var s=arguments,i=-1,r=Jl(s.length-e,0),o=Array(r);++i<r;)o[i]=s[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=s[i];return l[e]=t(o),cg(n,this,l)}}function Ag(n,e){return bg(kg(n,e,Au),n+"")}var Eg=9007199254740991;function Nu(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Eg}function Gi(n){return n!=null&&Nu(n.length)&&!el(n)}function Sg(n,e,t){if(!ln(t))return!1;var s=typeof e;return(s=="number"?Gi(t)&&Su(e,t.length):s=="string"&&e in t)?Ys(t[e],n):!1}function Tg(n){return Ag(function(e,t){var s=-1,i=t.length,r=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(r=n.length>3&&typeof r=="function"?(i--,r):void 0,o&&Sg(t[0],t[1],o)&&(r=i<3?void 0:r,i=1),e=Object(e);++s<i;){var l=t[s];l&&n(e,l,s,r)}return e})}var Ng=Object.prototype;function nl(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Ng;return n===t}function Cg(n,e){for(var t=-1,s=Array(n);++t<n;)s[t]=e(t);return s}var Og="[object Arguments]";function ea(n){return jt(n)&&ps(n)==Og}var Cu=Object.prototype,Lg=Cu.hasOwnProperty,Ig=Cu.propertyIsEnumerable,So=ea(function(){return arguments}())?ea:function(n){return jt(n)&&Lg.call(n,"callee")&&!Ig.call(n,"callee")};function qg(){return!1}var Ou=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ta=Ou&&typeof module=="object"&&module&&!module.nodeType&&module,Rg=ta&&ta.exports===Ou,na=Rg?It.Buffer:void 0,Dg=na?na.isBuffer:void 0,Vs=Dg||qg,Pg="[object Arguments]",Mg="[object Array]",Bg="[object Boolean]",$g="[object Date]",jg="[object Error]",Ug="[object Function]",Vg="[object Map]",Hg="[object Number]",Fg="[object Object]",zg="[object RegExp]",Kg="[object Set]",Gg="[object String]",Wg="[object WeakMap]",Xg="[object ArrayBuffer]",Yg="[object DataView]",Zg="[object Float32Array]",Qg="[object Float64Array]",Jg="[object Int8Array]",em="[object Int16Array]",tm="[object Int32Array]",nm="[object Uint8Array]",sm="[object Uint8ClampedArray]",im="[object Uint16Array]",rm="[object Uint32Array]",ge={};ge[Zg]=ge[Qg]=ge[Jg]=ge[em]=ge[tm]=ge[nm]=ge[sm]=ge[im]=ge[rm]=!0;ge[Pg]=ge[Mg]=ge[Xg]=ge[Bg]=ge[Yg]=ge[$g]=ge[jg]=ge[Ug]=ge[Vg]=ge[Hg]=ge[Fg]=ge[zg]=ge[Kg]=ge[Gg]=ge[Wg]=!1;function om(n){return jt(n)&&Nu(n.length)&&!!ge[ps(n)]}function sl(n){return function(e){return n(e)}}var Lu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ps=Lu&&typeof module=="object"&&module&&!module.nodeType&&module,lm=Ps&&Ps.exports===Lu,lo=lm&&wu.process,os=function(){try{var n=Ps&&Ps.require&&Ps.require("util").types;return n||lo&&lo.binding&&lo.binding("util")}catch{}}(),sa=os&&os.isTypedArray,il=sa?sl(sa):om,am=Object.prototype,um=am.hasOwnProperty;function Iu(n,e){var t=xn(n),s=!t&&So(n),i=!t&&!s&&Vs(n),r=!t&&!s&&!i&&il(n),o=t||s||i||r,l=o?Cg(n.length,String):[],a=l.length;for(var c in n)(e||um.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Su(c,a)))&&l.push(c);return l}function qu(n,e){return function(t){return n(e(t))}}var cm=qu(Object.keys,Object),pm=Object.prototype,hm=pm.hasOwnProperty;function dm(n){if(!nl(n))return cm(n);var e=[];for(var t in Object(n))hm.call(n,t)&&t!="constructor"&&e.push(t);return e}function rl(n){return Gi(n)?Iu(n):dm(n)}function fm(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var gm=Object.prototype,mm=gm.hasOwnProperty;function bm(n){if(!ln(n))return fm(n);var e=nl(n),t=[];for(var s in n)s=="constructor"&&(e||!mm.call(n,s))||t.push(s);return t}function Qs(n){return Gi(n)?Iu(n,!0):bm(n)}var Hs=An(Object,"create");function vm(){this.__data__=Hs?Hs(null):{},this.size=0}function ym(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var xm="__lodash_hash_undefined__",_m=Object.prototype,wm=_m.hasOwnProperty;function km(n){var e=this.__data__;if(Hs){var t=e[n];return t===xm?void 0:t}return wm.call(e,n)?e[n]:void 0}var Am=Object.prototype,Em=Am.hasOwnProperty;function Sm(n){var e=this.__data__;return Hs?e[n]!==void 0:Em.call(e,n)}var Tm="__lodash_hash_undefined__";function Nm(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Hs&&e===void 0?Tm:e,this}function _n(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}_n.prototype.clear=vm;_n.prototype.delete=ym;_n.prototype.get=km;_n.prototype.has=Sm;_n.prototype.set=Nm;function Cm(){this.__data__=[],this.size=0}function Wi(n,e){for(var t=n.length;t--;)if(Ys(n[t][0],e))return t;return-1}var Om=Array.prototype,Lm=Om.splice;function Im(n){var e=this.__data__,t=Wi(e,n);if(t<0)return!1;var s=e.length-1;return t==s?e.pop():Lm.call(e,t,1),--this.size,!0}function qm(n){var e=this.__data__,t=Wi(e,n);return t<0?void 0:e[t][1]}function Rm(n){return Wi(this.__data__,n)>-1}function Dm(n,e){var t=this.__data__,s=Wi(t,n);return s<0?(++this.size,t.push([n,e])):t[s][1]=e,this}function Ht(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}Ht.prototype.clear=Cm;Ht.prototype.delete=Im;Ht.prototype.get=qm;Ht.prototype.has=Rm;Ht.prototype.set=Dm;var Fs=An(It,"Map");function Pm(){this.size=0,this.__data__={hash:new _n,map:new(Fs||Ht),string:new _n}}function Mm(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Xi(n,e){var t=n.__data__;return Mm(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Bm(n){var e=Xi(this,n).delete(n);return this.size-=e?1:0,e}function $m(n){return Xi(this,n).get(n)}function jm(n){return Xi(this,n).has(n)}function Um(n,e){var t=Xi(this,n),s=t.size;return t.set(n,e),this.size+=t.size==s?0:1,this}function En(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}En.prototype.clear=Pm;En.prototype.delete=Bm;En.prototype.get=$m;En.prototype.has=jm;En.prototype.set=Um;function Ru(n,e){for(var t=-1,s=e.length,i=n.length;++t<s;)n[i+t]=e[t];return n}var ol=qu(Object.getPrototypeOf,Object),Vm="[object Object]",Hm=Function.prototype,Fm=Object.prototype,Du=Hm.toString,zm=Fm.hasOwnProperty,Km=Du.call(Object);function Gm(n){if(!jt(n)||ps(n)!=Vm)return!1;var e=ol(n);if(e===null)return!0;var t=zm.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Du.call(t)==Km}function Wm(){this.__data__=new Ht,this.size=0}function Xm(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Ym(n){return this.__data__.get(n)}function Zm(n){return this.__data__.has(n)}var Qm=200;function Jm(n,e){var t=this.__data__;if(t instanceof Ht){var s=t.__data__;if(!Fs||s.length<Qm-1)return s.push([n,e]),this.size=++t.size,this;t=this.__data__=new En(s)}return t.set(n,e),this.size=t.size,this}function Nt(n){var e=this.__data__=new Ht(n);this.size=e.size}Nt.prototype.clear=Wm;Nt.prototype.delete=Xm;Nt.prototype.get=Ym;Nt.prototype.has=Zm;Nt.prototype.set=Jm;function e1(n,e){return n&&Zs(e,rl(e),n)}function t1(n,e){return n&&Zs(e,Qs(e),n)}var Pu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ia=Pu&&typeof module=="object"&&module&&!module.nodeType&&module,n1=ia&&ia.exports===Pu,ra=n1?It.Buffer:void 0,oa=ra?ra.allocUnsafe:void 0;function Mu(n,e){if(e)return n.slice();var t=n.length,s=oa?oa(t):new n.constructor(t);return n.copy(s),s}function s1(n,e){for(var t=-1,s=n==null?0:n.length,i=0,r=[];++t<s;){var o=n[t];e(o,t,n)&&(r[i++]=o)}return r}function Bu(){return[]}var i1=Object.prototype,r1=i1.propertyIsEnumerable,la=Object.getOwnPropertySymbols,ll=la?function(n){return n==null?[]:(n=Object(n),s1(la(n),function(e){return r1.call(n,e)}))}:Bu;function o1(n,e){return Zs(n,ll(n),e)}var l1=Object.getOwnPropertySymbols,$u=l1?function(n){for(var e=[];n;)Ru(e,ll(n)),n=ol(n);return e}:Bu;function a1(n,e){return Zs(n,$u(n),e)}function ju(n,e,t){var s=e(n);return xn(n)?s:Ru(s,t(n))}function To(n){return ju(n,rl,ll)}function u1(n){return ju(n,Qs,$u)}var No=An(It,"DataView"),Co=An(It,"Promise"),Oo=An(It,"Set"),aa="[object Map]",c1="[object Object]",ua="[object Promise]",ca="[object Set]",pa="[object WeakMap]",ha="[object DataView]",p1=kn(No),h1=kn(Fs),d1=kn(Co),f1=kn(Oo),g1=kn(Eo),dt=ps;(No&&dt(new No(new ArrayBuffer(1)))!=ha||Fs&&dt(new Fs)!=aa||Co&&dt(Co.resolve())!=ua||Oo&&dt(new Oo)!=ca||Eo&&dt(new Eo)!=pa)&&(dt=function(n){var e=ps(n),t=e==c1?n.constructor:void 0,s=t?kn(t):"";if(s)switch(s){case p1:return ha;case h1:return aa;case d1:return ua;case f1:return ca;case g1:return pa}return e});var m1=Object.prototype,b1=m1.hasOwnProperty;function v1(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&b1.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var $i=It.Uint8Array;function al(n){var e=new n.constructor(n.byteLength);return new $i(e).set(new $i(n)),e}function y1(n,e){var t=e?al(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var x1=/\w*$/;function _1(n){var e=new n.constructor(n.source,x1.exec(n));return e.lastIndex=n.lastIndex,e}var da=on?on.prototype:void 0,fa=da?da.valueOf:void 0;function w1(n){return fa?Object(fa.call(n)):{}}function Uu(n,e){var t=e?al(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var k1="[object Boolean]",A1="[object Date]",E1="[object Map]",S1="[object Number]",T1="[object RegExp]",N1="[object Set]",C1="[object String]",O1="[object Symbol]",L1="[object ArrayBuffer]",I1="[object DataView]",q1="[object Float32Array]",R1="[object Float64Array]",D1="[object Int8Array]",P1="[object Int16Array]",M1="[object Int32Array]",B1="[object Uint8Array]",$1="[object Uint8ClampedArray]",j1="[object Uint16Array]",U1="[object Uint32Array]";function V1(n,e,t){var s=n.constructor;switch(e){case L1:return al(n);case k1:case A1:return new s(+n);case I1:return y1(n,t);case q1:case R1:case D1:case P1:case M1:case B1:case $1:case j1:case U1:return Uu(n,t);case E1:return new s;case S1:case C1:return new s(n);case T1:return _1(n);case N1:return new s;case O1:return w1(n)}}function Vu(n){return typeof n.constructor=="function"&&!nl(n)?ug(ol(n)):{}}var H1="[object Map]";function F1(n){return jt(n)&&dt(n)==H1}var ga=os&&os.isMap,z1=ga?sl(ga):F1,K1="[object Set]";function G1(n){return jt(n)&&dt(n)==K1}var ma=os&&os.isSet,W1=ma?sl(ma):G1,X1=1,Y1=2,Z1=4,Hu="[object Arguments]",Q1="[object Array]",J1="[object Boolean]",eb="[object Date]",tb="[object Error]",Fu="[object Function]",nb="[object GeneratorFunction]",sb="[object Map]",ib="[object Number]",zu="[object Object]",rb="[object RegExp]",ob="[object Set]",lb="[object String]",ab="[object Symbol]",ub="[object WeakMap]",cb="[object ArrayBuffer]",pb="[object DataView]",hb="[object Float32Array]",db="[object Float64Array]",fb="[object Int8Array]",gb="[object Int16Array]",mb="[object Int32Array]",bb="[object Uint8Array]",vb="[object Uint8ClampedArray]",yb="[object Uint16Array]",xb="[object Uint32Array]",fe={};fe[Hu]=fe[Q1]=fe[cb]=fe[pb]=fe[J1]=fe[eb]=fe[hb]=fe[db]=fe[fb]=fe[gb]=fe[mb]=fe[sb]=fe[ib]=fe[zu]=fe[rb]=fe[ob]=fe[lb]=fe[ab]=fe[bb]=fe[vb]=fe[yb]=fe[xb]=!0;fe[tb]=fe[Fu]=fe[ub]=!1;function Ri(n,e,t,s,i,r){var o,l=e&X1,a=e&Y1,c=e&Z1;if(o!==void 0)return o;if(!ln(n))return n;var p=xn(n);if(p){if(o=v1(n),!l)return Eu(n,o)}else{var f=dt(n),d=f==Fu||f==nb;if(Vs(n))return Mu(n,l);if(f==zu||f==Hu||d&&!i){if(o=a||d?{}:Vu(n),!l)return a?a1(n,t1(o,n)):o1(n,e1(o,n))}else{if(!fe[f])return i?n:{};o=V1(n,f,l)}}r||(r=new Nt);var g=r.get(n);if(g)return g;r.set(n,o),W1(n)?n.forEach(function(x){o.add(Ri(x,e,t,x,n,r))}):z1(n)&&n.forEach(function(x,w){o.set(w,Ri(x,e,t,w,n,r))});var v=c?a?u1:To:a?Qs:rl,y=p?void 0:v(n);return vg(y||n,function(x,w){y&&(w=x,x=n[w]),Tu(o,w,Ri(x,e,t,w,n,r))}),o}var _b=1,wb=4;function es(n){return Ri(n,_b|wb)}var kb="__lodash_hash_undefined__";function Ab(n){return this.__data__.set(n,kb),this}function Eb(n){return this.__data__.has(n)}function ji(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new En;++e<t;)this.add(n[e])}ji.prototype.add=ji.prototype.push=Ab;ji.prototype.has=Eb;function Sb(n,e){for(var t=-1,s=n==null?0:n.length;++t<s;)if(e(n[t],t,n))return!0;return!1}function Tb(n,e){return n.has(e)}var Nb=1,Cb=2;function Ku(n,e,t,s,i,r){var o=t&Nb,l=n.length,a=e.length;if(l!=a&&!(o&&a>l))return!1;var c=r.get(n),p=r.get(e);if(c&&p)return c==e&&p==n;var f=-1,d=!0,g=t&Cb?new ji:void 0;for(r.set(n,e),r.set(e,n);++f<l;){var v=n[f],y=e[f];if(s)var x=o?s(y,v,f,e,n,r):s(v,y,f,n,e,r);if(x!==void 0){if(x)continue;d=!1;break}if(g){if(!Sb(e,function(w,A){if(!Tb(g,A)&&(v===w||i(v,w,t,s,r)))return g.push(A)})){d=!1;break}}else if(!(v===y||i(v,y,t,s,r))){d=!1;break}}return r.delete(n),r.delete(e),d}function Ob(n){var e=-1,t=Array(n.size);return n.forEach(function(s,i){t[++e]=[i,s]}),t}function Lb(n){var e=-1,t=Array(n.size);return n.forEach(function(s){t[++e]=s}),t}var Ib=1,qb=2,Rb="[object Boolean]",Db="[object Date]",Pb="[object Error]",Mb="[object Map]",Bb="[object Number]",$b="[object RegExp]",jb="[object Set]",Ub="[object String]",Vb="[object Symbol]",Hb="[object ArrayBuffer]",Fb="[object DataView]",ba=on?on.prototype:void 0,ao=ba?ba.valueOf:void 0;function zb(n,e,t,s,i,r,o){switch(t){case Fb:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Hb:return!(n.byteLength!=e.byteLength||!r(new $i(n),new $i(e)));case Rb:case Db:case Bb:return Ys(+n,+e);case Pb:return n.name==e.name&&n.message==e.message;case $b:case Ub:return n==e+"";case Mb:var l=Ob;case jb:var a=s&Ib;if(l||(l=Lb),n.size!=e.size&&!a)return!1;var c=o.get(n);if(c)return c==e;s|=qb,o.set(n,e);var p=Ku(l(n),l(e),s,i,r,o);return o.delete(n),p;case Vb:if(ao)return ao.call(n)==ao.call(e)}return!1}var Kb=1,Gb=Object.prototype,Wb=Gb.hasOwnProperty;function Xb(n,e,t,s,i,r){var o=t&Kb,l=To(n),a=l.length,c=To(e),p=c.length;if(a!=p&&!o)return!1;for(var f=a;f--;){var d=l[f];if(!(o?d in e:Wb.call(e,d)))return!1}var g=r.get(n),v=r.get(e);if(g&&v)return g==e&&v==n;var y=!0;r.set(n,e),r.set(e,n);for(var x=o;++f<a;){d=l[f];var w=n[d],A=e[d];if(s)var S=o?s(A,w,d,e,n,r):s(w,A,d,n,e,r);if(!(S===void 0?w===A||i(w,A,t,s,r):S)){y=!1;break}x||(x=d=="constructor")}if(y&&!x){var I=n.constructor,L=e.constructor;I!=L&&"constructor"in n&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof L=="function"&&L instanceof L)&&(y=!1)}return r.delete(n),r.delete(e),y}var Yb=1,va="[object Arguments]",ya="[object Array]",Ti="[object Object]",Zb=Object.prototype,xa=Zb.hasOwnProperty;function Qb(n,e,t,s,i,r){var o=xn(n),l=xn(e),a=o?ya:dt(n),c=l?ya:dt(e);a=a==va?Ti:a,c=c==va?Ti:c;var p=a==Ti,f=c==Ti,d=a==c;if(d&&Vs(n)){if(!Vs(e))return!1;o=!0,p=!1}if(d&&!p)return r||(r=new Nt),o||il(n)?Ku(n,e,t,s,i,r):zb(n,e,a,t,s,i,r);if(!(t&Yb)){var g=p&&xa.call(n,"__wrapped__"),v=f&&xa.call(e,"__wrapped__");if(g||v){var y=g?n.value():n,x=v?e.value():e;return r||(r=new Nt),i(y,x,t,s,r)}}return d?(r||(r=new Nt),Xb(n,e,t,s,i,r)):!1}function Gu(n,e,t,s,i){return n===e?!0:n==null||e==null||!jt(n)&&!jt(e)?n!==n&&e!==e:Qb(n,e,t,s,Gu,i)}function Jb(n){return function(e,t,s){for(var i=-1,r=Object(e),o=s(e),l=o.length;l--;){var a=o[++i];if(t(r[a],a,r)===!1)break}return e}}var ev=Jb();function Lo(n,e,t){(t!==void 0&&!Ys(n[e],t)||t===void 0&&!(e in n))&&tl(n,e,t)}function tv(n){return jt(n)&&Gi(n)}function Io(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function nv(n){return Zs(n,Qs(n))}function sv(n,e,t,s,i,r,o){var l=Io(n,t),a=Io(e,t),c=o.get(a);if(c){Lo(n,t,c);return}var p=r?r(l,a,t+"",n,e,o):void 0,f=p===void 0;if(f){var d=xn(a),g=!d&&Vs(a),v=!d&&!g&&il(a);p=a,d||g||v?xn(l)?p=l:tv(l)?p=Eu(l):g?(f=!1,p=Mu(a,!0)):v?(f=!1,p=Uu(a,!0)):p=[]:Gm(a)||So(a)?(p=l,So(l)?p=nv(l):(!ln(l)||el(l))&&(p=Vu(a))):f=!1}f&&(o.set(a,p),i(p,a,s,r,o),o.delete(a)),Lo(n,t,p)}function Wu(n,e,t,s,i){n!==e&&ev(e,function(r,o){if(i||(i=new Nt),ln(r))sv(n,e,o,t,Wu,s,i);else{var l=s?s(Io(n,o),r,o+"",n,e,i):void 0;l===void 0&&(l=r),Lo(n,o,l)}},Qs)}function ul(n,e){return Gu(n,e)}var sn=Tg(function(n,e,t){Wu(n,e,t)}),j=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(j||{});class Ot{constructor(e,t,s={}){this.attrName=e,this.keyName=t;const i=j.TYPE&j.ATTRIBUTE;this.scope=s.scope!=null?s.scope&j.LEVEL|i:j.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class ts extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const Xu=class qo{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,t)}return null}create(e,t,s){const i=this.query(t);if(i==null)throw new ts(`Unable to create ${t} blot`);const r=i,o=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(s),l=new r(e,o,s);return qo.blots.set(l.domNode,l),l}find(e,t=!1){return qo.find(e,t)}query(e,t=j.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&j.LEVEL&j.BLOCK?s=this.types.block:e&j.LEVEL&j.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(s=this.classes[i],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&t&j.LEVEL&s.scope&&t&j.TYPE&s.scope?s:null}register(...e){return e.map(t=>{const s="blotName"in t,i="attrName"in t;if(!s&&!i)throw new ts("Invalid definition");if(s&&t.blotName==="abstract")throw new ts("Cannot register abstract class");const r=s?t.blotName:i?t.attrName:void 0;return this.types[r]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):s&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(o=>o.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(o=>{(this.tags[o]==null||t.className==null)&&(this.tags[o]=t)}))),t})}};Xu.blots=new WeakMap;let ls=Xu;function _a(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class iv extends Ot{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){_a(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(_a(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const vt=iv;function uo(n){const e=n.split("-"),t=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+t}class rv extends Ot{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[uo(this.keyName)]=t,!0):!1}remove(e){e.style[uo(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[uo(this.keyName)];return this.canAdd(e,t)?t:""}}const an=rv;class ov{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=ls.find(this.domNode);if(e==null)return;const t=Ot.keys(this.domNode),s=vt.keys(this.domNode),i=an.keys(this.domNode);t.concat(s).concat(i).forEach(r=>{const o=e.scroll.query(r,j.ATTRIBUTE);o instanceof Ot&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(t=>{const s=this.attributes[t].value(this.domNode);e.format(t,s)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Yi=ov,Yu=class{constructor(e,t){this.scroll=e,this.domNode=t,ls.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new ts("Blot definition missing tagName");let t,s;return Array.isArray(this.tagName)?(typeof e=="string"?(s=e.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof e=="number"&&(s=e),typeof s=="number"?t=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?t=document.createElement(s):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),ls.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,s,i){const r=this.isolate(e,t);if(this.scroll.query(s,j.BLOT)!=null&&i)r.wrap(s,i);else if(this.scroll.query(s,j.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);r.wrap(o),o.format(s,i)}}insertAt(e,t,s){const i=s==null?this.scroll.create("text",t):this.scroll.create(t,s),r=this.split(e);this.parent.insertBefore(i,r||void 0)}isolate(e,t){const s=this.split(e);if(s==null)throw new Error("Attempt to isolate at end");return s.split(t),s}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new ts(`Cannot wrap ${e}`);return s.appendChild(this),s}};Yu.blotName="abstract";let Zu=Yu;const Qu=class extends Zu{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Qu.scope=j.INLINE_BLOT;let lv=Qu;const Re=lv;class av{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let s=t();for(;s&&e>0;)e-=1,s=t();return s}contains(e){const t=this.iterator();let s=t();for(;s;){if(s===e)return!0;s=t()}return!1}indexOf(e){const t=this.iterator();let s=t(),i=0;for(;s;){if(s===e)return i;i+=1,s=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,s=this.head;for(;s!=null;){if(s===e)return t;t+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const s=this.iterator();let i=s();for(;i;){const r=i.length();if(e<r||t&&e===r&&(i.next==null||i.next.length()!==0))return[i,e];e-=r,i=s()}return[null,0]}forEach(e){const t=this.iterator();let s=t();for(;s;)e(s),s=t()}forEachAt(e,t,s){if(t<=0)return;const[i,r]=this.find(e);let o=e-r;const l=this.iterator(i);let a=l();for(;a&&o<e+t;){const c=a.length();e>o?s(a,e-o,Math.min(t,o+c-e)):s(a,0,Math.min(c,e+t-o)),o+=c,a=l()}}map(e){return this.reduce((t,s)=>(t.push(e(s)),t),[])}reduce(e,t){const s=this.iterator();let i=s();for(;i;)t=e(t,i),i=s();return t}}function wa(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const s=e.create(j.INLINE);return Array.from(n.childNodes).forEach(i=>{s.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(s.domNode,n),s.attach(),s}}const Ju=class Qt extends Zu{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Qt.uiClass&&this.uiNode.classList.add(Qt.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new av,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=wa(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof ts)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(s,i,r)=>{s.deleteAt(i,r)})}descendant(e,t=0){const[s,i]=this.children.find(t);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,i]:s instanceof Qt?s.descendant(e,i):[null,-1]}descendants(e,t=0,s=Number.MAX_VALUE){let i=[],r=s;return this.children.forEachAt(t,s,(o,l,a)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&i.push(o),o instanceof Qt&&(i=i.concat(o.descendants(e,l,r))),r-=a}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(s=>t instanceof s)||(t.statics.scope===j.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof Qt?t.unwrap():t.remove())})}formatAt(e,t,s,i){this.children.forEachAt(e,t,(r,o,l)=>{r.formatAt(o,l,s,i)})}insertAt(e,t,s){const[i,r]=this.children.find(e);if(i)i.insertAt(r,t,s);else{const o=s==null?this.scroll.create("text",t):this.scroll.create(t,s);this.appendChild(o)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(s=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(s=>{e.insertBefore(s,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[s,i]=this.children.find(e,t),r=[[this,e]];return s instanceof Qt?r.concat(s.path(i,t)):(s!=null&&r.push([s,i]),r)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;return s instanceof Qt&&this.moveChildren(s),super.replaceWith(s)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(i,r,o)=>{const l=i.split(r,t);l!=null&&s.appendChild(l)}),s}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const s=[],i=[];e.forEach(r=>{r.target===this.domNode&&r.type==="childList"&&(s.push(...r.addedNodes),i.push(...r.removedNodes))}),i.forEach(r=>{if(r.parentNode!=null&&r.tagName!=="IFRAME"&&document.body.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(r);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),s.filter(r=>r.parentNode===this.domNode&&r!==this.uiNode).sort((r,o)=>r===o?0:r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(r=>{let o=null;r.nextSibling!=null&&(o=this.scroll.find(r.nextSibling));const l=wa(r,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};Ju.uiClass="";let uv=Ju;const gt=uv;function cv(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const zn=class Kn extends gt{static create(e){return super.create(e)}static formats(e,t){const s=t.query(Kn.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Yi(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(s=>{s instanceof Kn||(s=s.wrap(Kn.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(e,j.INLINE);if(s==null)return;s instanceof Ot?this.attributes.attribute(s,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,s,i){this.formats()[s]!=null||this.scroll.query(s,j.ATTRIBUTE)?this.isolate(e,t).format(s,i):super.formatAt(e,t,s,i)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const s=this.next;s instanceof Kn&&s.prev===this&&cv(t,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,t){const s=super.replaceWith(e,t);return this.attributes.copy(s),s}update(e,t){super.update(e,t),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,t){const s=super.wrap(e,t);return s instanceof Kn&&this.attributes.move(s),s}};zn.allowedChildren=[zn,Re],zn.blotName="inline",zn.scope=j.INLINE_BLOT,zn.tagName="SPAN";let pv=zn;const cl=pv,Gn=class Ro extends gt{static create(e){return super.create(e)}static formats(e,t){const s=t.query(Ro.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Yi(this.domNode)}format(e,t){const s=this.scroll.query(e,j.BLOCK);s!=null&&(s instanceof Ot?this.attributes.attribute(s,t):e===this.statics.blotName&&!t?this.replaceWith(Ro.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,s,i){this.scroll.query(s,j.BLOCK)!=null?this.format(s,i):super.formatAt(e,t,s,i)}insertAt(e,t,s){if(s==null||this.scroll.query(t,j.INLINE)!=null)super.insertAt(e,t,s);else{const i=this.split(e);if(i!=null){const r=this.scroll.create(t,s);i.parent.insertBefore(r,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const s=super.replaceWith(e,t);return this.attributes.copy(s),s}update(e,t){super.update(e,t),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};Gn.blotName="block",Gn.scope=j.BLOCK_BLOT,Gn.tagName="P",Gn.allowedChildren=[cl,Gn,Re];let hv=Gn;const zs=hv,Do=class extends gt{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,s,i){super.formatAt(e,t,s,i),this.enforceAllowedChildren()}insertAt(e,t,s){super.insertAt(e,t,s),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Do.blotName="container",Do.scope=j.BLOCK_BLOT;let dv=Do;const Zi=dv;class fv extends Re{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,s,i){e===0&&t===this.length()?this.format(s,i):super.formatAt(e,t,s,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Ye=fv,gv={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},mv=100,Wn=class extends gt{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,gv),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const s=this.registry.find(e,t);return s?s.scroll===this?s:t?this.find(s.scroll.domNode.parentNode,!0):null:null}query(e,t=j.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(e,t)}formatAt(e,t,s,i){this.update(),super.formatAt(e,t,s,i)}insertAt(e,t,s){this.update(),super.insertAt(e,t,s)}optimize(e=[],t={}){super.optimize(t);const s=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const r=(a,c=!0)=>{a==null||a===this||a.domNode.parentNode!=null&&(s.has(a.domNode)||s.set(a.domNode,[]),c&&r(a.parent))},o=a=>{s.has(a.domNode)&&(a instanceof gt&&a.children.forEach(o),s.delete(a.domNode),a.optimize(t))};let l=e;for(let a=0;l.length>0;a+=1){if(a>=mv)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(c=>{const p=this.find(c.target,!0);p!=null&&(p.domNode===c.target&&(c.type==="childList"?(r(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(f=>{const d=this.find(f,!1);r(d,!1),d instanceof gt&&d.children.forEach(g=>{r(g,!1)})})):c.type==="attributes"&&r(p.prev)),r(p))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const s=new WeakMap;e.map(i=>{const r=this.find(i.target,!0);return r==null?null:s.has(r.domNode)?(s.get(r.domNode).push(i),null):(s.set(r.domNode,[i]),r)}).forEach(i=>{i!=null&&i!==this&&s.has(i.domNode)&&i.update(s.get(i.domNode)||[],t)}),t.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),t),this.optimize(e,t)}};Wn.blotName="scroll",Wn.defaultChild=zs,Wn.allowedChildren=[zs,Zi],Wn.scope=j.BLOCK_BLOT,Wn.tagName="DIV";let bv=Wn;const pl=bv,Po=class ec extends Re{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,s){s==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof ec&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,t){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Po.blotName="text",Po.scope=j.INLINE_BLOT;let vv=Po;const Ui=vv,yv=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Ot,AttributorStore:Yi,BlockBlot:zs,ClassAttributor:vt,ContainerBlot:Zi,EmbedBlot:Ye,InlineBlot:cl,LeafBlot:Re,ParentBlot:gt,Registry:ls,Scope:j,ScrollBlot:pl,StyleAttributor:an,TextBlot:Ui},Symbol.toStringTag,{value:"Module"}));var en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mo={exports:{}},Xe=-1,je=1,Ae=0;function Ks(n,e,t,s,i){if(n===e)return n?[[Ae,n]]:[];if(t!=null){var r=Nv(n,e,t);if(r)return r}var o=hl(n,e),l=n.substring(0,o);n=n.substring(o),e=e.substring(o),o=Qi(n,e);var a=n.substring(n.length-o);n=n.substring(0,n.length-o),e=e.substring(0,e.length-o);var c=xv(n,e);return l&&c.unshift([Ae,l]),a&&c.push([Ae,a]),dl(c,i),s&&kv(c),c}function xv(n,e){var t;if(!n)return[[je,e]];if(!e)return[[Xe,n]];var s=n.length>e.length?n:e,i=n.length>e.length?e:n,r=s.indexOf(i);if(r!==-1)return t=[[je,s.substring(0,r)],[Ae,i],[je,s.substring(r+i.length)]],n.length>e.length&&(t[0][0]=t[2][0]=Xe),t;if(i.length===1)return[[Xe,n],[je,e]];var o=wv(n,e);if(o){var l=o[0],a=o[1],c=o[2],p=o[3],f=o[4],d=Ks(l,c),g=Ks(a,p);return d.concat([[Ae,f]],g)}return _v(n,e)}function _v(n,e){for(var t=n.length,s=e.length,i=Math.ceil((t+s)/2),r=i,o=2*i,l=new Array(o),a=new Array(o),c=0;c<o;c++)l[c]=-1,a[c]=-1;l[r+1]=0,a[r+1]=0;for(var p=t-s,f=p%2!==0,d=0,g=0,v=0,y=0,x=0;x<i;x++){for(var w=-x+d;w<=x-g;w+=2){var A=r+w,S;w===-x||w!==x&&l[A-1]<l[A+1]?S=l[A+1]:S=l[A-1]+1;for(var I=S-w;S<t&&I<s&&n.charAt(S)===e.charAt(I);)S++,I++;if(l[A]=S,S>t)g+=2;else if(I>s)d+=2;else if(f){var L=r+p-w;if(L>=0&&L<o&&a[L]!==-1){var U=t-a[L];if(S>=U)return ka(n,e,S,I)}}}for(var K=-x+v;K<=x-y;K+=2){var L=r+K,U;K===-x||K!==x&&a[L-1]<a[L+1]?U=a[L+1]:U=a[L-1]+1;for(var pe=U-K;U<t&&pe<s&&n.charAt(t-U-1)===e.charAt(s-pe-1);)U++,pe++;if(a[L]=U,U>t)y+=2;else if(pe>s)v+=2;else if(!f){var A=r+p-K;if(A>=0&&A<o&&l[A]!==-1){var S=l[A],I=r+S-A;if(U=t-U,S>=U)return ka(n,e,S,I)}}}}return[[Xe,n],[je,e]]}function ka(n,e,t,s){var i=n.substring(0,t),r=e.substring(0,s),o=n.substring(t),l=e.substring(s),a=Ks(i,r),c=Ks(o,l);return a.concat(c)}function hl(n,e){if(!n||!e||n.charAt(0)!==e.charAt(0))return 0;for(var t=0,s=Math.min(n.length,e.length),i=s,r=0;t<i;)n.substring(r,i)==e.substring(r,i)?(t=i,r=t):s=i,i=Math.floor((s-t)/2+t);return nc(n.charCodeAt(i-1))&&i--,i}function Aa(n,e){var t=n.length,s=e.length;if(t==0||s==0)return 0;t>s?n=n.substring(t-s):t<s&&(e=e.substring(0,t));var i=Math.min(t,s);if(n==e)return i;for(var r=0,o=1;;){var l=n.substring(i-o),a=e.indexOf(l);if(a==-1)return r;o+=a,(a==0||n.substring(i-o)==e.substring(0,o))&&(r=o,o++)}}function Qi(n,e){if(!n||!e||n.slice(-1)!==e.slice(-1))return 0;for(var t=0,s=Math.min(n.length,e.length),i=s,r=0;t<i;)n.substring(n.length-i,n.length-r)==e.substring(e.length-i,e.length-r)?(t=i,r=t):s=i,i=Math.floor((s-t)/2+t);return sc(n.charCodeAt(n.length-i))&&i--,i}function wv(n,e){var t=n.length>e.length?n:e,s=n.length>e.length?e:n;if(t.length<4||s.length*2<t.length)return null;function i(g,v,y){for(var x=g.substring(y,y+Math.floor(g.length/4)),w=-1,A="",S,I,L,U;(w=v.indexOf(x,w+1))!==-1;){var K=hl(g.substring(y),v.substring(w)),pe=Qi(g.substring(0,y),v.substring(0,w));A.length<pe+K&&(A=v.substring(w-pe,w)+v.substring(w,w+K),S=g.substring(0,y-pe),I=g.substring(y+K),L=v.substring(0,w-pe),U=v.substring(w+K))}return A.length*2>=g.length?[S,I,L,U,A]:null}var r=i(t,s,Math.ceil(t.length/4)),o=i(t,s,Math.ceil(t.length/2)),l;if(!r&&!o)return null;o?r?l=r[4].length>o[4].length?r:o:l=o:l=r;var a,c,p,f;n.length>e.length?(a=l[0],c=l[1],p=l[2],f=l[3]):(p=l[0],f=l[1],a=l[2],c=l[3]);var d=l[4];return[a,c,p,f,d]}function kv(n){for(var e=!1,t=[],s=0,i=null,r=0,o=0,l=0,a=0,c=0;r<n.length;)n[r][0]==Ae?(t[s++]=r,o=a,l=c,a=0,c=0,i=n[r][1]):(n[r][0]==je?a+=n[r][1].length:c+=n[r][1].length,i&&i.length<=Math.max(o,l)&&i.length<=Math.max(a,c)&&(n.splice(t[s-1],0,[Xe,i]),n[t[s-1]+1][0]=je,s--,s--,r=s>0?t[s-1]:-1,o=0,l=0,a=0,c=0,i=null,e=!0)),r++;for(e&&dl(n),Sv(n),r=1;r<n.length;){if(n[r-1][0]==Xe&&n[r][0]==je){var p=n[r-1][1],f=n[r][1],d=Aa(p,f),g=Aa(f,p);d>=g?(d>=p.length/2||d>=f.length/2)&&(n.splice(r,0,[Ae,f.substring(0,d)]),n[r-1][1]=p.substring(0,p.length-d),n[r+1][1]=f.substring(d),r++):(g>=p.length/2||g>=f.length/2)&&(n.splice(r,0,[Ae,p.substring(0,g)]),n[r-1][0]=je,n[r-1][1]=f.substring(0,f.length-g),n[r+1][0]=Xe,n[r+1][1]=p.substring(g),r++),r++}r++}}var Ea=/[^a-zA-Z0-9]/,Sa=/\s/,Ta=/[\r\n]/,Av=/\n\r?\n$/,Ev=/^\r?\n\r?\n/;function Sv(n){function e(g,v){if(!g||!v)return 6;var y=g.charAt(g.length-1),x=v.charAt(0),w=y.match(Ea),A=x.match(Ea),S=w&&y.match(Sa),I=A&&x.match(Sa),L=S&&y.match(Ta),U=I&&x.match(Ta),K=L&&g.match(Av),pe=U&&v.match(Ev);return K||pe?5:L||U?4:w&&!S&&I?3:S||I?2:w||A?1:0}for(var t=1;t<n.length-1;){if(n[t-1][0]==Ae&&n[t+1][0]==Ae){var s=n[t-1][1],i=n[t][1],r=n[t+1][1],o=Qi(s,i);if(o){var l=i.substring(i.length-o);s=s.substring(0,s.length-o),i=l+i.substring(0,i.length-o),r=l+r}for(var a=s,c=i,p=r,f=e(s,i)+e(i,r);i.charAt(0)===r.charAt(0);){s+=i.charAt(0),i=i.substring(1)+r.charAt(0),r=r.substring(1);var d=e(s,i)+e(i,r);d>=f&&(f=d,a=s,c=i,p=r)}n[t-1][1]!=a&&(a?n[t-1][1]=a:(n.splice(t-1,1),t--),n[t][1]=c,p?n[t+1][1]=p:(n.splice(t+1,1),t--))}t++}}function dl(n,e){n.push([Ae,""]);for(var t=0,s=0,i=0,r="",o="",l;t<n.length;){if(t<n.length-1&&!n[t][1]){n.splice(t,1);continue}switch(n[t][0]){case je:i++,o+=n[t][1],t++;break;case Xe:s++,r+=n[t][1],t++;break;case Ae:var a=t-i-s-1;if(e){if(a>=0&&rc(n[a][1])){var c=n[a][1].slice(-1);if(n[a][1]=n[a][1].slice(0,-1),r=c+r,o=c+o,!n[a][1]){n.splice(a,1),t--;var p=a-1;n[p]&&n[p][0]===je&&(i++,o=n[p][1]+o,p--),n[p]&&n[p][0]===Xe&&(s++,r=n[p][1]+r,p--),a=p}}if(ic(n[t][1])){var c=n[t][1].charAt(0);n[t][1]=n[t][1].slice(1),r+=c,o+=c}}if(t<n.length-1&&!n[t][1]){n.splice(t,1);break}if(r.length>0||o.length>0){r.length>0&&o.length>0&&(l=hl(o,r),l!==0&&(a>=0?n[a][1]+=o.substring(0,l):(n.splice(0,0,[Ae,o.substring(0,l)]),t++),o=o.substring(l),r=r.substring(l)),l=Qi(o,r),l!==0&&(n[t][1]=o.substring(o.length-l)+n[t][1],o=o.substring(0,o.length-l),r=r.substring(0,r.length-l)));var f=i+s;r.length===0&&o.length===0?(n.splice(t-f,f),t=t-f):r.length===0?(n.splice(t-f,f,[je,o]),t=t-f+1):o.length===0?(n.splice(t-f,f,[Xe,r]),t=t-f+1):(n.splice(t-f,f,[Xe,r],[je,o]),t=t-f+2)}t!==0&&n[t-1][0]===Ae?(n[t-1][1]+=n[t][1],n.splice(t,1)):t++,i=0,s=0,r="",o="";break}}n[n.length-1][1]===""&&n.pop();var d=!1;for(t=1;t<n.length-1;)n[t-1][0]===Ae&&n[t+1][0]===Ae&&(n[t][1].substring(n[t][1].length-n[t-1][1].length)===n[t-1][1]?(n[t][1]=n[t-1][1]+n[t][1].substring(0,n[t][1].length-n[t-1][1].length),n[t+1][1]=n[t-1][1]+n[t+1][1],n.splice(t-1,1),d=!0):n[t][1].substring(0,n[t+1][1].length)==n[t+1][1]&&(n[t-1][1]+=n[t+1][1],n[t][1]=n[t][1].substring(n[t+1][1].length)+n[t+1][1],n.splice(t+1,1),d=!0)),t++;d&&dl(n,e)}function nc(n){return n>=55296&&n<=56319}function sc(n){return n>=56320&&n<=57343}function ic(n){return sc(n.charCodeAt(0))}function rc(n){return nc(n.charCodeAt(n.length-1))}function Tv(n){for(var e=[],t=0;t<n.length;t++)n[t][1].length>0&&e.push(n[t]);return e}function co(n,e,t,s){return rc(n)||ic(s)?null:Tv([[Ae,n],[Xe,e],[je,t],[Ae,s]])}function Nv(n,e,t){var s=typeof t=="number"?{index:t,length:0}:t.oldRange,i=typeof t=="number"?null:t.newRange,r=n.length,o=e.length;if(s.length===0&&(i===null||i.length===0)){var l=s.index,a=n.slice(0,l),c=n.slice(l),p=i?i.index:null;e:{var f=l+o-r;if(p!==null&&p!==f||f<0||f>o)break e;var d=e.slice(0,f),g=e.slice(f);if(g!==c)break e;var v=Math.min(l,f),y=a.slice(0,v),x=d.slice(0,v);if(y!==x)break e;var w=a.slice(v),A=d.slice(v);return co(y,w,A,c)}e:{if(p!==null&&p!==l)break e;var S=l,d=e.slice(0,S),g=e.slice(S);if(d!==a)break e;var I=Math.min(r-S,o-S),L=c.slice(c.length-I),U=g.slice(g.length-I);if(L!==U)break e;var w=c.slice(0,c.length-I),A=g.slice(0,g.length-I);return co(a,w,A,L)}}if(s.length>0&&i&&i.length===0)e:{var y=n.slice(0,s.index),L=n.slice(s.index+s.length),v=y.length,I=L.length;if(o<v+I)break e;var x=e.slice(0,v),U=e.slice(o-I);if(y!==x||L!==U)break e;var w=n.slice(v,r-I),A=e.slice(v,o-I);return co(y,w,A,L)}return null}function Ji(n,e,t,s){return Ks(n,e,t,s,!0)}Ji.INSERT=je;Ji.DELETE=Xe;Ji.EQUAL=Ae;var Cv=Ji,Vi={exports:{}};Vi.exports;(function(n,e){var t=200,s="__lodash_hash_undefined__",i=9007199254740991,r="[object Arguments]",o="[object Array]",l="[object Boolean]",a="[object Date]",c="[object Error]",p="[object Function]",f="[object GeneratorFunction]",d="[object Map]",g="[object Number]",v="[object Object]",y="[object Promise]",x="[object RegExp]",w="[object Set]",A="[object String]",S="[object Symbol]",I="[object WeakMap]",L="[object ArrayBuffer]",U="[object DataView]",K="[object Float32Array]",pe="[object Float64Array]",Pe="[object Int8Array]",Ue="[object Int16Array]",$="[object Int32Array]",V="[object Uint8Array]",G="[object Uint8ClampedArray]",ee="[object Uint16Array]",ae="[object Uint32Array]",Ee=/[\\^$.*+?()[\]{}|]/g,Ze=/\w*$/,rt=/^\[object .+?Constructor\]$/,Qe=/^(?:0|[1-9]\d*)$/,te={};te[r]=te[o]=te[L]=te[U]=te[l]=te[a]=te[K]=te[pe]=te[Pe]=te[Ue]=te[$]=te[d]=te[g]=te[v]=te[x]=te[w]=te[A]=te[S]=te[V]=te[G]=te[ee]=te[ae]=!0,te[c]=te[p]=te[I]=!1;var Kt=typeof en=="object"&&en&&en.Object===Object&&en,un=typeof self=="object"&&self&&self.Object===Object&&self,Me=Kt||un||Function("return this")(),qt=e&&!e.nodeType&&e,oe=qt&&!0&&n&&!n.nodeType&&n,ot=oe&&oe.exports===qt;function N(u,h){return u.set(h[0],h[1]),u}function q(u,h){return u.add(h),u}function R(u,h){for(var b=-1,E=u?u.length:0;++b<E&&h(u[b],b,u)!==!1;);return u}function H(u,h){for(var b=-1,E=h.length,X=u.length;++b<E;)u[X+b]=h[b];return u}function ie(u,h,b,E){for(var X=-1,F=u?u.length:0;++X<F;)b=h(b,u[X],X,u);return b}function de(u,h){for(var b=-1,E=Array(u);++b<u;)E[b]=h(b);return E}function Q(u,h){return u==null?void 0:u[h]}function W(u){var h=!1;if(u!=null&&typeof u.toString!="function")try{h=!!(u+"")}catch{}return h}function me(u){var h=-1,b=Array(u.size);return u.forEach(function(E,X){b[++h]=[X,E]}),b}function lt(u,h){return function(b){return u(h(b))}}function ye(u){var h=-1,b=Array(u.size);return u.forEach(function(E){b[++h]=E}),b}var ir=Array.prototype,rr=Function.prototype,Cn=Object.prototype,hs=Me["__core-js_shared__"],si=function(){var u=/[^.]+$/.exec(hs&&hs.keys&&hs.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),ii=rr.toString,_t=Cn.hasOwnProperty,On=Cn.toString,or=RegExp("^"+ii.call(_t).replace(Ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cn=ot?Me.Buffer:void 0,Ln=Me.Symbol,ds=Me.Uint8Array,Je=lt(Object.getPrototypeOf,Object),ri=Object.create,oi=Cn.propertyIsEnumerable,lr=ir.splice,fs=Object.getOwnPropertySymbols,In=cn?cn.isBuffer:void 0,li=lt(Object.keys,Object),qn=ut(Me,"DataView"),pn=ut(Me,"Map"),at=ut(Me,"Promise"),Rn=ut(Me,"Set"),gs=ut(Me,"WeakMap"),hn=ut(Object,"create"),ms=Be(qn),dn=Be(pn),bs=Be(at),vs=Be(Rn),ys=Be(gs),Gt=Ln?Ln.prototype:void 0,ai=Gt?Gt.valueOf:void 0;function Rt(u){var h=-1,b=u?u.length:0;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function ar(){this.__data__=hn?hn(null):{}}function ur(u){return this.has(u)&&delete this.__data__[u]}function cr(u){var h=this.__data__;if(hn){var b=h[u];return b===s?void 0:b}return _t.call(h,u)?h[u]:void 0}function ui(u){var h=this.__data__;return hn?h[u]!==void 0:_t.call(h,u)}function xs(u,h){var b=this.__data__;return b[u]=hn&&h===void 0?s:h,this}Rt.prototype.clear=ar,Rt.prototype.delete=ur,Rt.prototype.get=cr,Rt.prototype.has=ui,Rt.prototype.set=xs;function Te(u){var h=-1,b=u?u.length:0;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function pr(){this.__data__=[]}function hr(u){var h=this.__data__,b=Pn(h,u);if(b<0)return!1;var E=h.length-1;return b==E?h.pop():lr.call(h,b,1),!0}function dr(u){var h=this.__data__,b=Pn(h,u);return b<0?void 0:h[b][1]}function fr(u){return Pn(this.__data__,u)>-1}function gr(u,h){var b=this.__data__,E=Pn(b,u);return E<0?b.push([u,h]):b[E][1]=h,this}Te.prototype.clear=pr,Te.prototype.delete=hr,Te.prototype.get=dr,Te.prototype.has=fr,Te.prototype.set=gr;function Oe(u){var h=-1,b=u?u.length:0;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function mr(){this.__data__={hash:new Rt,map:new(pn||Te),string:new Rt}}function br(u){return gn(this,u).delete(u)}function vr(u){return gn(this,u).get(u)}function yr(u){return gn(this,u).has(u)}function xr(u,h){return gn(this,u).set(u,h),this}Oe.prototype.clear=mr,Oe.prototype.delete=br,Oe.prototype.get=vr,Oe.prototype.has=yr,Oe.prototype.set=xr;function Ve(u){this.__data__=new Te(u)}function _r(){this.__data__=new Te}function wr(u){return this.__data__.delete(u)}function kr(u){return this.__data__.get(u)}function Ar(u){return this.__data__.has(u)}function Er(u,h){var b=this.__data__;if(b instanceof Te){var E=b.__data__;if(!pn||E.length<t-1)return E.push([u,h]),this;b=this.__data__=new Oe(E)}return b.set(u,h),this}Ve.prototype.clear=_r,Ve.prototype.delete=wr,Ve.prototype.get=kr,Ve.prototype.has=Ar,Ve.prototype.set=Er;function Dn(u,h){var b=As(u)||Bn(u)?de(u.length,String):[],E=b.length,X=!!E;for(var F in u)_t.call(u,F)&&!(X&&(F=="length"||$r(F,E)))&&b.push(F);return b}function ci(u,h,b){var E=u[h];(!(_t.call(u,h)&&gi(E,b))||b===void 0&&!(h in u))&&(u[h]=b)}function Pn(u,h){for(var b=u.length;b--;)if(gi(u[b][0],h))return b;return-1}function wt(u,h){return u&&ks(h,Ss(h),u)}function _s(u,h,b,E,X,F,re){var se;if(E&&(se=F?E(u,X,F,re):E(u)),se!==void 0)return se;if(!At(u))return u;var ve=As(u);if(ve){if(se=Mr(u),!h)return Rr(u,se)}else{var ue=Pt(u),Le=ue==p||ue==f;if(mi(u))return Mn(u,h);if(ue==v||ue==r||Le&&!F){if(W(u))return F?u:{};if(se=kt(Le?{}:u),!h)return Dr(u,wt(se,u))}else{if(!te[ue])return F?u:{};se=Br(u,ue,_s,h)}}re||(re=new Ve);var He=re.get(u);if(He)return He;if(re.set(u,se),!ve)var xe=b?Pr(u):Ss(u);return R(xe||u,function(Ie,Ne){xe&&(Ne=Ie,Ie=u[Ne]),ci(se,Ne,_s(Ie,h,b,E,Ne,u,re))}),se}function Sr(u){return At(u)?ri(u):{}}function Tr(u,h,b){var E=h(u);return As(u)?E:H(E,b(u))}function Nr(u){return On.call(u)}function Cr(u){if(!At(u)||Ur(u))return!1;var h=Es(u)||W(u)?or:rt;return h.test(Be(u))}function Or(u){if(!di(u))return li(u);var h=[];for(var b in Object(u))_t.call(u,b)&&b!="constructor"&&h.push(b);return h}function Mn(u,h){if(h)return u.slice();var b=new u.constructor(u.length);return u.copy(b),b}function ws(u){var h=new u.constructor(u.byteLength);return new ds(h).set(new ds(u)),h}function fn(u,h){var b=h?ws(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function pi(u,h,b){var E=h?b(me(u),!0):me(u);return ie(E,N,new u.constructor)}function hi(u){var h=new u.constructor(u.source,Ze.exec(u));return h.lastIndex=u.lastIndex,h}function Lr(u,h,b){var E=h?b(ye(u),!0):ye(u);return ie(E,q,new u.constructor)}function Ir(u){return ai?Object(ai.call(u)):{}}function qr(u,h){var b=h?ws(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function Rr(u,h){var b=-1,E=u.length;for(h||(h=Array(E));++b<E;)h[b]=u[b];return h}function ks(u,h,b,E){b||(b={});for(var X=-1,F=h.length;++X<F;){var re=h[X],se=void 0;ci(b,re,se===void 0?u[re]:se)}return b}function Dr(u,h){return ks(u,Dt(u),h)}function Pr(u){return Tr(u,Ss,Dt)}function gn(u,h){var b=u.__data__;return jr(h)?b[typeof h=="string"?"string":"hash"]:b.map}function ut(u,h){var b=Q(u,h);return Cr(b)?b:void 0}var Dt=fs?lt(fs,Object):Hr,Pt=Nr;(qn&&Pt(new qn(new ArrayBuffer(1)))!=U||pn&&Pt(new pn)!=d||at&&Pt(at.resolve())!=y||Rn&&Pt(new Rn)!=w||gs&&Pt(new gs)!=I)&&(Pt=function(u){var h=On.call(u),b=h==v?u.constructor:void 0,E=b?Be(b):void 0;if(E)switch(E){case ms:return U;case dn:return d;case bs:return y;case vs:return w;case ys:return I}return h});function Mr(u){var h=u.length,b=u.constructor(h);return h&&typeof u[0]=="string"&&_t.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function kt(u){return typeof u.constructor=="function"&&!di(u)?Sr(Je(u)):{}}function Br(u,h,b,E){var X=u.constructor;switch(h){case L:return ws(u);case l:case a:return new X(+u);case U:return fn(u,E);case K:case pe:case Pe:case Ue:case $:case V:case G:case ee:case ae:return qr(u,E);case d:return pi(u,E,b);case g:case A:return new X(u);case x:return hi(u);case w:return Lr(u,E,b);case S:return Ir(u)}}function $r(u,h){return h=h??i,!!h&&(typeof u=="number"||Qe.test(u))&&u>-1&&u%1==0&&u<h}function jr(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function Ur(u){return!!si&&si in u}function di(u){var h=u&&u.constructor,b=typeof h=="function"&&h.prototype||Cn;return u===b}function Be(u){if(u!=null){try{return ii.call(u)}catch{}try{return u+""}catch{}}return""}function fi(u){return _s(u,!0,!0)}function gi(u,h){return u===h||u!==u&&h!==h}function Bn(u){return Vr(u)&&_t.call(u,"callee")&&(!oi.call(u,"callee")||On.call(u)==r)}var As=Array.isArray;function $n(u){return u!=null&&bi(u.length)&&!Es(u)}function Vr(u){return vi(u)&&$n(u)}var mi=In||Fr;function Es(u){var h=At(u)?On.call(u):"";return h==p||h==f}function bi(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=i}function At(u){var h=typeof u;return!!u&&(h=="object"||h=="function")}function vi(u){return!!u&&typeof u=="object"}function Ss(u){return $n(u)?Dn(u):Or(u)}function Hr(){return[]}function Fr(){return!1}n.exports=fi})(Vi,Vi.exports);var oc=Vi.exports,Hi={exports:{}};Hi.exports;(function(n,e){var t=200,s="__lodash_hash_undefined__",i=1,r=2,o=9007199254740991,l="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",p="[object Boolean]",f="[object Date]",d="[object Error]",g="[object Function]",v="[object GeneratorFunction]",y="[object Map]",x="[object Number]",w="[object Null]",A="[object Object]",S="[object Promise]",I="[object Proxy]",L="[object RegExp]",U="[object Set]",K="[object String]",pe="[object Symbol]",Pe="[object Undefined]",Ue="[object WeakMap]",$="[object ArrayBuffer]",V="[object DataView]",G="[object Float32Array]",ee="[object Float64Array]",ae="[object Int8Array]",Ee="[object Int16Array]",Ze="[object Int32Array]",rt="[object Uint8Array]",Qe="[object Uint8ClampedArray]",te="[object Uint16Array]",Kt="[object Uint32Array]",un=/[\\^$.*+?()[\]{}|]/g,Me=/^\[object .+?Constructor\]$/,qt=/^(?:0|[1-9]\d*)$/,oe={};oe[G]=oe[ee]=oe[ae]=oe[Ee]=oe[Ze]=oe[rt]=oe[Qe]=oe[te]=oe[Kt]=!0,oe[l]=oe[a]=oe[$]=oe[p]=oe[V]=oe[f]=oe[d]=oe[g]=oe[y]=oe[x]=oe[A]=oe[L]=oe[U]=oe[K]=oe[Ue]=!1;var ot=typeof en=="object"&&en&&en.Object===Object&&en,N=typeof self=="object"&&self&&self.Object===Object&&self,q=ot||N||Function("return this")(),R=e&&!e.nodeType&&e,H=R&&!0&&n&&!n.nodeType&&n,ie=H&&H.exports===R,de=ie&&ot.process,Q=function(){try{return de&&de.binding&&de.binding("util")}catch{}}(),W=Q&&Q.isTypedArray;function me(u,h){for(var b=-1,E=u==null?0:u.length,X=0,F=[];++b<E;){var re=u[b];h(re,b,u)&&(F[X++]=re)}return F}function lt(u,h){for(var b=-1,E=h.length,X=u.length;++b<E;)u[X+b]=h[b];return u}function ye(u,h){for(var b=-1,E=u==null?0:u.length;++b<E;)if(h(u[b],b,u))return!0;return!1}function ir(u,h){for(var b=-1,E=Array(u);++b<u;)E[b]=h(b);return E}function rr(u){return function(h){return u(h)}}function Cn(u,h){return u.has(h)}function hs(u,h){return u==null?void 0:u[h]}function si(u){var h=-1,b=Array(u.size);return u.forEach(function(E,X){b[++h]=[X,E]}),b}function ii(u,h){return function(b){return u(h(b))}}function _t(u){var h=-1,b=Array(u.size);return u.forEach(function(E){b[++h]=E}),b}var On=Array.prototype,or=Function.prototype,cn=Object.prototype,Ln=q["__core-js_shared__"],ds=or.toString,Je=cn.hasOwnProperty,ri=function(){var u=/[^.]+$/.exec(Ln&&Ln.keys&&Ln.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),oi=cn.toString,lr=RegExp("^"+ds.call(Je).replace(un,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fs=ie?q.Buffer:void 0,In=q.Symbol,li=q.Uint8Array,qn=cn.propertyIsEnumerable,pn=On.splice,at=In?In.toStringTag:void 0,Rn=Object.getOwnPropertySymbols,gs=fs?fs.isBuffer:void 0,hn=ii(Object.keys,Object),ms=Dt(q,"DataView"),dn=Dt(q,"Map"),bs=Dt(q,"Promise"),vs=Dt(q,"Set"),ys=Dt(q,"WeakMap"),Gt=Dt(Object,"create"),ai=Be(ms),Rt=Be(dn),ar=Be(bs),ur=Be(vs),cr=Be(ys),ui=In?In.prototype:void 0,xs=ui?ui.valueOf:void 0;function Te(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function pr(){this.__data__=Gt?Gt(null):{},this.size=0}function hr(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h}function dr(u){var h=this.__data__;if(Gt){var b=h[u];return b===s?void 0:b}return Je.call(h,u)?h[u]:void 0}function fr(u){var h=this.__data__;return Gt?h[u]!==void 0:Je.call(h,u)}function gr(u,h){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=Gt&&h===void 0?s:h,this}Te.prototype.clear=pr,Te.prototype.delete=hr,Te.prototype.get=dr,Te.prototype.has=fr,Te.prototype.set=gr;function Oe(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function mr(){this.__data__=[],this.size=0}function br(u){var h=this.__data__,b=Mn(h,u);if(b<0)return!1;var E=h.length-1;return b==E?h.pop():pn.call(h,b,1),--this.size,!0}function vr(u){var h=this.__data__,b=Mn(h,u);return b<0?void 0:h[b][1]}function yr(u){return Mn(this.__data__,u)>-1}function xr(u,h){var b=this.__data__,E=Mn(b,u);return E<0?(++this.size,b.push([u,h])):b[E][1]=h,this}Oe.prototype.clear=mr,Oe.prototype.delete=br,Oe.prototype.get=vr,Oe.prototype.has=yr,Oe.prototype.set=xr;function Ve(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function _r(){this.size=0,this.__data__={hash:new Te,map:new(dn||Oe),string:new Te}}function wr(u){var h=ut(this,u).delete(u);return this.size-=h?1:0,h}function kr(u){return ut(this,u).get(u)}function Ar(u){return ut(this,u).has(u)}function Er(u,h){var b=ut(this,u),E=b.size;return b.set(u,h),this.size+=b.size==E?0:1,this}Ve.prototype.clear=_r,Ve.prototype.delete=wr,Ve.prototype.get=kr,Ve.prototype.has=Ar,Ve.prototype.set=Er;function Dn(u){var h=-1,b=u==null?0:u.length;for(this.__data__=new Ve;++h<b;)this.add(u[h])}function ci(u){return this.__data__.set(u,s),this}function Pn(u){return this.__data__.has(u)}Dn.prototype.add=Dn.prototype.push=ci,Dn.prototype.has=Pn;function wt(u){var h=this.__data__=new Oe(u);this.size=h.size}function _s(){this.__data__=new Oe,this.size=0}function Sr(u){var h=this.__data__,b=h.delete(u);return this.size=h.size,b}function Tr(u){return this.__data__.get(u)}function Nr(u){return this.__data__.has(u)}function Cr(u,h){var b=this.__data__;if(b instanceof Oe){var E=b.__data__;if(!dn||E.length<t-1)return E.push([u,h]),this.size=++b.size,this;b=this.__data__=new Ve(E)}return b.set(u,h),this.size=b.size,this}wt.prototype.clear=_s,wt.prototype.delete=Sr,wt.prototype.get=Tr,wt.prototype.has=Nr,wt.prototype.set=Cr;function Or(u,h){var b=Bn(u),E=!b&&gi(u),X=!b&&!E&&$n(u),F=!b&&!E&&!X&&vi(u),re=b||E||X||F,se=re?ir(u.length,String):[],ve=se.length;for(var ue in u)Je.call(u,ue)&&!(re&&(ue=="length"||X&&(ue=="offset"||ue=="parent")||F&&(ue=="buffer"||ue=="byteLength"||ue=="byteOffset")||Br(ue,ve)))&&se.push(ue);return se}function Mn(u,h){for(var b=u.length;b--;)if(fi(u[b][0],h))return b;return-1}function ws(u,h,b){var E=h(u);return Bn(u)?E:lt(E,b(u))}function fn(u){return u==null?u===void 0?Pe:w:at&&at in Object(u)?Pt(u):di(u)}function pi(u){return At(u)&&fn(u)==l}function hi(u,h,b,E,X){return u===h?!0:u==null||h==null||!At(u)&&!At(h)?u!==u&&h!==h:Lr(u,h,b,E,hi,X)}function Lr(u,h,b,E,X,F){var re=Bn(u),se=Bn(h),ve=re?a:kt(u),ue=se?a:kt(h);ve=ve==l?A:ve,ue=ue==l?A:ue;var Le=ve==A,He=ue==A,xe=ve==ue;if(xe&&$n(u)){if(!$n(h))return!1;re=!0,Le=!1}if(xe&&!Le)return F||(F=new wt),re||vi(u)?ks(u,h,b,E,X,F):Dr(u,h,ve,b,E,X,F);if(!(b&i)){var Ie=Le&&Je.call(u,"__wrapped__"),Ne=He&&Je.call(h,"__wrapped__");if(Ie||Ne){var Wt=Ie?u.value():u,Mt=Ne?h.value():h;return F||(F=new wt),X(Wt,Mt,b,E,F)}}return xe?(F||(F=new wt),Pr(u,h,b,E,X,F)):!1}function Ir(u){if(!bi(u)||jr(u))return!1;var h=mi(u)?lr:Me;return h.test(Be(u))}function qr(u){return At(u)&&Es(u.length)&&!!oe[fn(u)]}function Rr(u){if(!Ur(u))return hn(u);var h=[];for(var b in Object(u))Je.call(u,b)&&b!="constructor"&&h.push(b);return h}function ks(u,h,b,E,X,F){var re=b&i,se=u.length,ve=h.length;if(se!=ve&&!(re&&ve>se))return!1;var ue=F.get(u);if(ue&&F.get(h))return ue==h;var Le=-1,He=!0,xe=b&r?new Dn:void 0;for(F.set(u,h),F.set(h,u);++Le<se;){var Ie=u[Le],Ne=h[Le];if(E)var Wt=re?E(Ne,Ie,Le,h,u,F):E(Ie,Ne,Le,u,h,F);if(Wt!==void 0){if(Wt)continue;He=!1;break}if(xe){if(!ye(h,function(Mt,mn){if(!Cn(xe,mn)&&(Ie===Mt||X(Ie,Mt,b,E,F)))return xe.push(mn)})){He=!1;break}}else if(!(Ie===Ne||X(Ie,Ne,b,E,F))){He=!1;break}}return F.delete(u),F.delete(h),He}function Dr(u,h,b,E,X,F,re){switch(b){case V:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case $:return!(u.byteLength!=h.byteLength||!F(new li(u),new li(h)));case p:case f:case x:return fi(+u,+h);case d:return u.name==h.name&&u.message==h.message;case L:case K:return u==h+"";case y:var se=si;case U:var ve=E&i;if(se||(se=_t),u.size!=h.size&&!ve)return!1;var ue=re.get(u);if(ue)return ue==h;E|=r,re.set(u,h);var Le=ks(se(u),se(h),E,X,F,re);return re.delete(u),Le;case pe:if(xs)return xs.call(u)==xs.call(h)}return!1}function Pr(u,h,b,E,X,F){var re=b&i,se=gn(u),ve=se.length,ue=gn(h),Le=ue.length;if(ve!=Le&&!re)return!1;for(var He=ve;He--;){var xe=se[He];if(!(re?xe in h:Je.call(h,xe)))return!1}var Ie=F.get(u);if(Ie&&F.get(h))return Ie==h;var Ne=!0;F.set(u,h),F.set(h,u);for(var Wt=re;++He<ve;){xe=se[He];var Mt=u[xe],mn=h[xe];if(E)var Sl=re?E(mn,Mt,xe,h,u,F):E(Mt,mn,xe,u,h,F);if(!(Sl===void 0?Mt===mn||X(Mt,mn,b,E,F):Sl)){Ne=!1;break}Wt||(Wt=xe=="constructor")}if(Ne&&!Wt){var yi=u.constructor,xi=h.constructor;yi!=xi&&"constructor"in u&&"constructor"in h&&!(typeof yi=="function"&&yi instanceof yi&&typeof xi=="function"&&xi instanceof xi)&&(Ne=!1)}return F.delete(u),F.delete(h),Ne}function gn(u){return ws(u,Ss,Mr)}function ut(u,h){var b=u.__data__;return $r(h)?b[typeof h=="string"?"string":"hash"]:b.map}function Dt(u,h){var b=hs(u,h);return Ir(b)?b:void 0}function Pt(u){var h=Je.call(u,at),b=u[at];try{u[at]=void 0;var E=!0}catch{}var X=oi.call(u);return E&&(h?u[at]=b:delete u[at]),X}var Mr=Rn?function(u){return u==null?[]:(u=Object(u),me(Rn(u),function(h){return qn.call(u,h)}))}:Hr,kt=fn;(ms&&kt(new ms(new ArrayBuffer(1)))!=V||dn&&kt(new dn)!=y||bs&&kt(bs.resolve())!=S||vs&&kt(new vs)!=U||ys&&kt(new ys)!=Ue)&&(kt=function(u){var h=fn(u),b=h==A?u.constructor:void 0,E=b?Be(b):"";if(E)switch(E){case ai:return V;case Rt:return y;case ar:return S;case ur:return U;case cr:return Ue}return h});function Br(u,h){return h=h??o,!!h&&(typeof u=="number"||qt.test(u))&&u>-1&&u%1==0&&u<h}function $r(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function jr(u){return!!ri&&ri in u}function Ur(u){var h=u&&u.constructor,b=typeof h=="function"&&h.prototype||cn;return u===b}function di(u){return oi.call(u)}function Be(u){if(u!=null){try{return ds.call(u)}catch{}try{return u+""}catch{}}return""}function fi(u,h){return u===h||u!==u&&h!==h}var gi=pi(function(){return arguments}())?pi:function(u){return At(u)&&Je.call(u,"callee")&&!qn.call(u,"callee")},Bn=Array.isArray;function As(u){return u!=null&&Es(u.length)&&!mi(u)}var $n=gs||Fr;function Vr(u,h){return hi(u,h)}function mi(u){if(!bi(u))return!1;var h=fn(u);return h==g||h==v||h==c||h==I}function Es(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=o}function bi(u){var h=typeof u;return u!=null&&(h=="object"||h=="function")}function At(u){return u!=null&&typeof u=="object"}var vi=W?rr(W):qr;function Ss(u){return As(u)?Or(u):Rr(u)}function Hr(){return[]}function Fr(){return!1}n.exports=Vr})(Hi,Hi.exports);var lc=Hi.exports,fl={};Object.defineProperty(fl,"__esModule",{value:!0});const Ov=oc,Lv=lc;var Bo;(function(n){function e(r={},o={},l=!1){typeof r!="object"&&(r={}),typeof o!="object"&&(o={});let a=Ov(o);l||(a=Object.keys(a).reduce((c,p)=>(a[p]!=null&&(c[p]=a[p]),c),{}));for(const c in r)r[c]!==void 0&&o[c]===void 0&&(a[c]=r[c]);return Object.keys(a).length>0?a:void 0}n.compose=e;function t(r={},o={}){typeof r!="object"&&(r={}),typeof o!="object"&&(o={});const l=Object.keys(r).concat(Object.keys(o)).reduce((a,c)=>(Lv(r[c],o[c])||(a[c]=o[c]===void 0?null:o[c]),a),{});return Object.keys(l).length>0?l:void 0}n.diff=t;function s(r={},o={}){r=r||{};const l=Object.keys(o).reduce((a,c)=>(o[c]!==r[c]&&r[c]!==void 0&&(a[c]=o[c]),a),{});return Object.keys(r).reduce((a,c)=>(r[c]!==o[c]&&o[c]===void 0&&(a[c]=null),a),l)}n.invert=s;function i(r,o,l=!1){if(typeof r!="object")return o;if(typeof o!="object")return;if(!l)return o;const a=Object.keys(o).reduce((c,p)=>(r[p]===void 0&&(c[p]=o[p]),c),{});return Object.keys(a).length>0?a:void 0}n.transform=i})(Bo||(Bo={}));fl.default=Bo;var er={};Object.defineProperty(er,"__esModule",{value:!0});var $o;(function(n){function e(t){return typeof t.delete=="number"?t.delete:typeof t.retain=="number"?t.retain:typeof t.retain=="object"&&t.retain!==null?1:typeof t.insert=="string"?t.insert.length:1}n.length=e})($o||($o={}));er.default=$o;var gl={};Object.defineProperty(gl,"__esModule",{value:!0});const Na=er;class Iv{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const t=this.ops[this.index];if(t){const s=this.offset,i=Na.default.length(t);if(e>=i-s?(e=i-s,this.index+=1,this.offset=0):this.offset+=e,typeof t.delete=="number")return{delete:e};{const r={};return t.attributes&&(r.attributes=t.attributes),typeof t.retain=="number"?r.retain=e:typeof t.retain=="object"&&t.retain!==null?r.retain=t.retain:typeof t.insert=="string"?r.insert=t.insert.substr(s,e):r.insert=t.insert,r}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Na.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?typeof e.delete=="number"?"delete":typeof e.retain=="number"||typeof e.retain=="object"&&e.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const e=this.offset,t=this.index,s=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[s].concat(i)}}else return[]}}gl.default=Iv;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=Cv,s=oc,i=lc,r=fl;e.AttributeMap=r.default;const o=er;e.Op=o.default;const l=gl;e.OpIterator=l.default;const a="\0",c=(f,d)=>{if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);const g=Object.keys(f)[0];if(!g||g!==Object.keys(d)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(d)[0]}`);return[g,f[g],d[g]]};class p{constructor(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]}static registerEmbed(d,g){this.handlers[d]=g}static unregisterEmbed(d){delete this.handlers[d]}static getHandler(d){const g=this.handlers[d];if(!g)throw new Error(`no handlers for embed type "${d}"`);return g}insert(d,g){const v={};return typeof d=="string"&&d.length===0?this:(v.insert=d,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(v.attributes=g),this.push(v))}delete(d){return d<=0?this:this.push({delete:d})}retain(d,g){if(typeof d=="number"&&d<=0)return this;const v={retain:d};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(v.attributes=g),this.push(v)}push(d){let g=this.ops.length,v=this.ops[g-1];if(d=s(d),typeof v=="object"){if(typeof d.delete=="number"&&typeof v.delete=="number")return this.ops[g-1]={delete:v.delete+d.delete},this;if(typeof v.delete=="number"&&d.insert!=null&&(g-=1,v=this.ops[g-1],typeof v!="object"))return this.ops.unshift(d),this;if(i(d.attributes,v.attributes)){if(typeof d.insert=="string"&&typeof v.insert=="string")return this.ops[g-1]={insert:v.insert+d.insert},typeof d.attributes=="object"&&(this.ops[g-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof v.retain=="number")return this.ops[g-1]={retain:v.retain+d.retain},typeof d.attributes=="object"&&(this.ops[g-1].attributes=d.attributes),this}}return g===this.ops.length?this.ops.push(d):this.ops.splice(g,0,d),this}chop(){const d=this.ops[this.ops.length-1];return d&&typeof d.retain=="number"&&!d.attributes&&this.ops.pop(),this}filter(d){return this.ops.filter(d)}forEach(d){this.ops.forEach(d)}map(d){return this.ops.map(d)}partition(d){const g=[],v=[];return this.forEach(y=>{(d(y)?g:v).push(y)}),[g,v]}reduce(d,g){return this.ops.reduce(d,g)}changeLength(){return this.reduce((d,g)=>g.insert?d+o.default.length(g):g.delete?d-g.delete:d,0)}length(){return this.reduce((d,g)=>d+o.default.length(g),0)}slice(d=0,g=1/0){const v=[],y=new l.default(this.ops);let x=0;for(;x<g&&y.hasNext();){let w;x<d?w=y.next(d-x):(w=y.next(g-x),v.push(w)),x+=o.default.length(w)}return new p(v)}compose(d){const g=new l.default(this.ops),v=new l.default(d.ops),y=[],x=v.peek();if(x!=null&&typeof x.retain=="number"&&x.attributes==null){let A=x.retain;for(;g.peekType()==="insert"&&g.peekLength()<=A;)A-=g.peekLength(),y.push(g.next());x.retain-A>0&&v.next(x.retain-A)}const w=new p(y);for(;g.hasNext()||v.hasNext();)if(v.peekType()==="insert")w.push(v.next());else if(g.peekType()==="delete")w.push(g.next());else{const A=Math.min(g.peekLength(),v.peekLength()),S=g.next(A),I=v.next(A);if(I.retain){const L={};if(typeof S.retain=="number")L.retain=typeof I.retain=="number"?A:I.retain;else if(typeof I.retain=="number")S.retain==null?L.insert=S.insert:L.retain=S.retain;else{const K=S.retain==null?"insert":"retain",[pe,Pe,Ue]=c(S[K],I.retain),$=p.getHandler(pe);L[K]={[pe]:$.compose(Pe,Ue,K==="retain")}}const U=r.default.compose(S.attributes,I.attributes,typeof S.retain=="number");if(U&&(L.attributes=U),w.push(L),!v.hasNext()&&i(w.ops[w.ops.length-1],L)){const K=new p(g.rest());return w.concat(K).chop()}}else typeof I.delete=="number"&&(typeof S.retain=="number"||typeof S.retain=="object"&&S.retain!==null)&&w.push(I)}return w.chop()}concat(d){const g=new p(this.ops.slice());return d.ops.length>0&&(g.push(d.ops[0]),g.ops=g.ops.concat(d.ops.slice(1))),g}diff(d,g){if(this.ops===d.ops)return new p;const v=[this,d].map(S=>S.map(I=>{if(I.insert!=null)return typeof I.insert=="string"?I.insert:a;const L=S===d?"on":"with";throw new Error("diff() called "+L+" non-document")}).join("")),y=new p,x=t(v[0],v[1],g,!0),w=new l.default(this.ops),A=new l.default(d.ops);return x.forEach(S=>{let I=S[1].length;for(;I>0;){let L=0;switch(S[0]){case t.INSERT:L=Math.min(A.peekLength(),I),y.push(A.next(L));break;case t.DELETE:L=Math.min(I,w.peekLength()),w.next(L),y.delete(L);break;case t.EQUAL:L=Math.min(w.peekLength(),A.peekLength(),I);const U=w.next(L),K=A.next(L);i(U.insert,K.insert)?y.retain(L,r.default.diff(U.attributes,K.attributes)):y.push(K).delete(L);break}I-=L}}),y.chop()}eachLine(d,g=`
`){const v=new l.default(this.ops);let y=new p,x=0;for(;v.hasNext();){if(v.peekType()!=="insert")return;const w=v.peek(),A=o.default.length(w)-v.peekLength(),S=typeof w.insert=="string"?w.insert.indexOf(g,A)-A:-1;if(S<0)y.push(v.next());else if(S>0)y.push(v.next(S));else{if(d(y,v.next(1).attributes||{},x)===!1)return;x+=1,y=new p}}y.length()>0&&d(y,{},x)}invert(d){const g=new p;return this.reduce((v,y)=>{if(y.insert)g.delete(o.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return g.retain(y.retain),v+y.retain;if(y.delete||typeof y.retain=="number"){const x=y.delete||y.retain;return d.slice(v,v+x).forEach(A=>{y.delete?g.push(A):y.retain&&y.attributes&&g.retain(o.default.length(A),r.default.invert(y.attributes,A.attributes))}),v+x}else if(typeof y.retain=="object"&&y.retain!==null){const x=d.slice(v,v+1),w=new l.default(x.ops).next(),[A,S,I]=c(y.retain,w.insert),L=p.getHandler(A);return g.retain({[A]:L.invert(S,I)},r.default.invert(y.attributes,w.attributes)),v+1}}return v},0),g.chop()}transform(d,g=!1){if(g=!!g,typeof d=="number")return this.transformPosition(d,g);const v=d,y=new l.default(this.ops),x=new l.default(v.ops),w=new p;for(;y.hasNext()||x.hasNext();)if(y.peekType()==="insert"&&(g||x.peekType()!=="insert"))w.retain(o.default.length(y.next()));else if(x.peekType()==="insert")w.push(x.next());else{const A=Math.min(y.peekLength(),x.peekLength()),S=y.next(A),I=x.next(A);if(S.delete)continue;if(I.delete)w.push(I);else{const L=S.retain,U=I.retain;let K=typeof U=="object"&&U!==null?U:A;if(typeof L=="object"&&L!==null&&typeof U=="object"&&U!==null){const pe=Object.keys(L)[0];if(pe===Object.keys(U)[0]){const Pe=p.getHandler(pe);Pe&&(K={[pe]:Pe.transform(L[pe],U[pe],g)})}}w.retain(K,r.default.transform(S.attributes,I.attributes,g))}}return w.chop()}transformPosition(d,g=!1){g=!!g;const v=new l.default(this.ops);let y=0;for(;v.hasNext()&&y<=d;){const x=v.peekLength(),w=v.peekType();if(v.next(),w==="delete"){d-=Math.min(x,d-y);continue}else w==="insert"&&(y<d||!g)&&(d+=x);y+=x}return d}}p.Op=o.default,p.OpIterator=l.default,p.AttributeMap=r.default,p.handlers={},e.default=p,n.exports=p,n.exports.default=p})(Mo,Mo.exports);var it=Mo.exports;const B=tc(it);class yt extends Ye{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}yt.blotName="break";yt.tagName="BR";let bt=class extends Ui{};const qv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tr(n){return n.replace(/[&<>"']/g,e=>qv[e])}const Tt=class Tt extends cl{static compare(e,t){const s=Tt.order.indexOf(e),i=Tt.order.indexOf(t);return s>=0||i>=0?s-i:e===t?0:e<t?-1:1}formatAt(e,t,s,i){if(Tt.compare(this.statics.blotName,s)<0&&this.scroll.query(s,j.BLOT)){const r=this.isolate(e,t);i&&r.wrap(s,i)}else super.formatAt(e,t,s,i)}optimize(e){if(super.optimize(e),this.parent instanceof Tt&&Tt.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};D(Tt,"allowedChildren",[Tt,yt,Ye,bt]),D(Tt,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Lt=Tt;const Ca=1;class Ce extends zs{constructor(){super(...arguments);D(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=ac(this)),this.cache.delta}deleteAt(t,s){super.deleteAt(t,s),this.cache={}}formatAt(t,s,i,r){s<=0||(this.scroll.query(i,j.BLOCK)?t+s===this.length()&&this.format(i,r):super.formatAt(t,Math.min(s,this.length()-t-1),i,r),this.cache={})}insertAt(t,s,i){if(i!=null){super.insertAt(t,s,i),this.cache={};return}if(s.length===0)return;const r=s.split(`
`),o=r.shift();o.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;r.reduce((a,c)=>(l=l.split(a,!0),l.insertAt(0,c),c.length),t+o.length)}insertBefore(t,s){const{head:i}=this.children;super.insertBefore(t,s),i instanceof yt&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Ca),this.cache.length}moveChildren(t,s){super.moveChildren(t,s),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s&&(t===0||t>=this.length()-Ca)){const r=this.clone();return t===0?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}const i=super.split(t,s);return this.cache={},i}}Ce.blotName="block";Ce.tagName="P";Ce.defaultChild=yt;Ce.allowedChildren=[yt,Lt,Ye,bt];class st extends Ye{attach(){super.attach(),this.attributes=new Yi(this.domNode)}delta(){return new B().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const s=this.scroll.query(e,j.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,t)}formatAt(e,t,s,i){this.format(s,i)}insertAt(e,t,s){if(s!=null){super.insertAt(e,t,s);return}const i=t.split(`
`),r=i.pop(),o=i.map(a=>{const c=this.scroll.create(Ce.blotName);return c.insertAt(0,a),c}),l=this.split(e);o.forEach(a=>{this.parent.insertBefore(a,l)}),r&&this.parent.insertBefore(this.scroll.create("text",r),l)}}st.scope=j.BLOCK_BLOT;function ac(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(Re).reduce((t,s)=>s.length()===0?t:t.insert(s.value(),tt(s,{},e)),new B).insert(`
`,tt(n))}function tt(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:tt(n.parent,e,t)}const et=class et extends Ye{static value(){}constructor(e,t,s){super(e,t),this.selection=s,this.textNode=document.createTextNode(et.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let s=this,i=0;for(;s!=null&&s.statics.scope!==j.BLOCK_BLOT;)i+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=et.CONTENTS.length,s.optimize(),s.formatAt(i,et.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof bt?this.prev:null,s=t?t.length():0,i=this.next instanceof bt?this.next:null,r=i?i.text:"",{textNode:o}=this,l=o.data.split(et.CONTENTS).join("");o.data=et.CONTENTS;let a;if(t)a=t,(l||i)&&(t.insertAt(t.length(),l+r),i&&i.remove());else if(i)a=i,i.insertAt(0,l);else{const c=document.createTextNode(l);a=this.scroll.create(c),this.parent.insertBefore(a,this)}if(this.remove(),e){const c=(d,g)=>t&&d===t.domNode?g:d===o?s+g-1:i&&d===i.domNode?s+l.length+g:null,p=c(e.start.node,e.start.offset),f=c(e.end.node,e.end.offset);if(p!==null&&f!==null)return{startNode:a.domNode,startOffset:p,endNode:a.domNode,endOffset:f}}return null}update(e,t){if(e.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(t.range=s)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=et.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};D(et,"blotName","cursor"),D(et,"className","ql-cursor"),D(et,"tagName","span"),D(et,"CONTENTS","\uFEFF");let as=et;var uc={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function i(a,c,p){this.fn=a,this.context=c,this.once=p||!1}function r(a,c,p,f,d){if(typeof p!="function")throw new TypeError("The listener must be a function");var g=new i(p,f||a,d),v=t?t+c:c;return a._events[v]?a._events[v].fn?a._events[v]=[a._events[v],g]:a._events[v].push(g):(a._events[v]=g,a._eventsCount++),a}function o(a,c){--a._eventsCount===0?a._events=new s:delete a._events[c]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],p,f;if(this._eventsCount===0)return c;for(f in p=this._events)e.call(p,f)&&c.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(p)):c},l.prototype.listeners=function(c){var p=t?t+c:c,f=this._events[p];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,g=f.length,v=new Array(g);d<g;d++)v[d]=f[d].fn;return v},l.prototype.listenerCount=function(c){var p=t?t+c:c,f=this._events[p];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,p,f,d,g,v){var y=t?t+c:c;if(!this._events[y])return!1;var x=this._events[y],w=arguments.length,A,S;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,f),!0;case 4:return x.fn.call(x.context,p,f,d),!0;case 5:return x.fn.call(x.context,p,f,d,g),!0;case 6:return x.fn.call(x.context,p,f,d,g,v),!0}for(S=1,A=new Array(w-1);S<w;S++)A[S-1]=arguments[S];x.fn.apply(x.context,A)}else{var I=x.length,L;for(S=0;S<I;S++)switch(x[S].once&&this.removeListener(c,x[S].fn,void 0,!0),w){case 1:x[S].fn.call(x[S].context);break;case 2:x[S].fn.call(x[S].context,p);break;case 3:x[S].fn.call(x[S].context,p,f);break;case 4:x[S].fn.call(x[S].context,p,f,d);break;default:if(!A)for(L=1,A=new Array(w-1);L<w;L++)A[L-1]=arguments[L];x[S].fn.apply(x[S].context,A)}}return!0},l.prototype.on=function(c,p,f){return r(this,c,p,f,!1)},l.prototype.once=function(c,p,f){return r(this,c,p,f,!0)},l.prototype.removeListener=function(c,p,f,d){var g=t?t+c:c;if(!this._events[g])return this;if(!p)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===p&&(!d||v.once)&&(!f||v.context===f)&&o(this,g);else{for(var y=0,x=[],w=v.length;y<w;y++)(v[y].fn!==p||d&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[g]=x.length===1?x[0]:x:o(this,g)}return this},l.prototype.removeAllListeners=function(c){var p;return c?(p=t?t+c:c,this._events[p]&&o(this,p)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,n.exports=l})(uc);var Rv=uc.exports;const Dv=tc(Rv),jo=new WeakMap,Uo=["error","warn","log","info"];let Vo="warn";function cc(n){if(Vo&&Uo.indexOf(n)<=Uo.indexOf(Vo)){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];console[n](...t)}}function Ft(n){return Uo.reduce((e,t)=>(e[t]=cc.bind(console,t,n),e),{})}Ft.level=n=>{Vo=n};cc.level=Ft.level;const po=Ft("quill:events"),Pv=["selectionchange","mousedown","mouseup","click"];Pv.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const r=jo.get(i);r&&r.emitter&&r.emitter.handleDOM(...t)})})});class M extends Dv{constructor(){super(),this.domListeners={},this.on("error",po.error)}emit(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return po.log.call(po,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(r=>{let{node:o,handler:l}=r;(e.target===o||o.contains(e.target))&&l(e,...s)})}listenDOM(e,t,s){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:s})}}D(M,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),D(M,"sources",{API:"api",SILENT:"silent",USER:"user"});const ho=Ft("quill:selection");class wn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class Mv{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new wn(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,M.sources.USER),1)}),this.emitter.on(M.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(M.events.SCROLL_UPDATE,(i,r)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const o=r.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?M.sources.SILENT:i)}catch{}})}),this.emitter.on(M.events.SCROLL_OPTIMIZE,(s,i)=>{if(i.range){const{startNode:r,startOffset:o,endNode:l,endOffset:a}=i.range;this.setNativeRange(r,o,l,a),this.update(M.sources.SILENT)}}),this.update(M.sources.SILENT)}handleComposition(){this.emitter.on(M.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(M.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(M.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(e,j.BLOCK))){if(s.start.node!==this.cursor.textNode){const i=this.scroll.find(s.start.node,!1);if(i==null)return;if(i instanceof Re){const r=i.split(s.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();e=Math.min(e,s-1),t=Math.min(e+t,s-1)-e;let i,[r,o]=this.scroll.leaf(e);if(r==null)return null;if(t>0&&o===r.length()){const[p]=this.scroll.leaf(e+1);if(p){const[f]=this.scroll.line(e),[d]=this.scroll.line(e+1);f===d&&(r=p,o=0)}}[i,o]=r.position(o,!0);const l=document.createRange();if(t>0)return l.setStart(i,o),[r,o]=this.scroll.leaf(e+t),r==null?null:([i,o]=r.position(o,!0),l.setEnd(i,o),l.getBoundingClientRect());let a="left",c;if(i instanceof Text){if(!i.data.length)return null;o<i.data.length?(l.setStart(i,o),l.setEnd(i,o+1)):(l.setStart(i,o-1),l.setEnd(i,o),a="right"),c=l.getBoundingClientRect()}else{if(!(r.domNode instanceof Element))return null;c=r.domNode.getBoundingClientRect(),o>0&&(a="right")}return{bottom:c.top+c.height,height:c.height,left:c[a],right:c[a],top:c.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const s=this.normalizeNative(t);return ho.info("getNativeRange",s),s}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&fo(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const s=t.map(o=>{const[l,a]=o,c=this.scroll.find(l,!0),p=c.offset(this.scroll);return a===0?p:c instanceof Re?p+c.index(l,a):p+c.length()}),i=Math.min(Math.max(...s),this.scroll.length()-1),r=Math.min(i,...s);return new wn(r,i-r)}normalizeNative(e){if(!fo(this.root,e.startContainer)||!e.collapsed&&!fo(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(s=>{let{node:i,offset:r}=s;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>r)i=i.childNodes[r],r=0;else if(i.childNodes.length===r)i=i.lastChild,i instanceof Text?r=i.data.length:i.childNodes.length>0?r=i.childNodes.length:r=i.childNodes.length+1;else break;s.node=i,s.offset=r}),t}rangeToNative(e){const t=this.scroll.length(),s=(i,r)=>{i=Math.min(t-1,i);const[o,l]=this.scroll.leaf(i);return o?o.position(l,r):[null,-1]};return[...s(e.index,!1),...s(e.index+e.length,!0)]}setNativeRange(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ho.info("setNativeRange",e,t,s,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||s.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||r||e!==l.startContainer||t!==l.startOffset||s!==l.endContainer||i!==l.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),s instanceof Element&&s.tagName==="BR"&&(i=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const a=document.createRange();a.setStart(e,t),a.setEnd(s,i),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.sources.API;if(typeof t=="string"&&(s=t,t=!1),ho.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(s)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.sources.USER;const t=this.lastRange,[s,i]=this.getRange();if(this.lastRange=s,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!ul(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const r=[M.events.SELECTION_CHANGE,es(this.lastRange),es(t),e];this.emitter.emit(M.events.EDITOR_CHANGE,...r),e!==M.sources.SILENT&&this.emitter.emit(...r)}}}function fo(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const Bv=/^[ -~]*$/;class $v{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const s=Oa(e),i=new B;return Uv(s.ops.slice()).reduce((o,l)=>{const a=it.Op.length(l);let c=l.attributes||{},p=!1,f=!1;if(l.insert!=null){if(i.retain(a),typeof l.insert=="string"){const v=l.insert;f=!v.endsWith(`
`)&&(t<=o||!!this.scroll.descendant(st,o)[0]),this.scroll.insertAt(o,v);const[y,x]=this.scroll.line(o);let w=sn({},tt(y));if(y instanceof Ce){const[A]=y.descendant(Re,x);A&&(w=sn(w,tt(A)))}c=it.AttributeMap.diff(w,c)||{}}else if(typeof l.insert=="object"){const v=Object.keys(l.insert)[0];if(v==null)return o;const y=this.scroll.query(v,j.INLINE)!=null;if(y)(t<=o||this.scroll.descendant(st,o)[0])&&(f=!0);else if(o>0){const[x,w]=this.scroll.descendant(Re,o-1);x instanceof bt?x.value()[w]!==`
`&&(p=!0):x instanceof Ye&&x.statics.scope===j.INLINE_BLOT&&(p=!0)}if(this.scroll.insertAt(o,v,l.insert[v]),y){const[x]=this.scroll.descendant(Re,o);if(x){const w=sn({},tt(x));c=it.AttributeMap.diff(w,c)||{}}}}t+=a}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const v=Object.keys(l.retain)[0];if(v==null)return o;this.scroll.updateEmbedAt(o,v,l.retain[v])}Object.keys(c).forEach(v=>{this.scroll.formatAt(o,a,v,c[v])});const d=p?1:0,g=f?1:0;return t+=d+g,i.retain(d),i.delete(g),o+a+d+g},0),i.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+it.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new B().retain(e).delete(t))}formatLine(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(r=>{this.scroll.lines(e,Math.max(t,1)).forEach(o=>{o.format(r,s[r])})}),this.scroll.optimize();const i=new B().retain(e).retain(t,es(s));return this.update(i)}formatText(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(r=>{this.scroll.formatAt(e,t,r,s[r])});const i=new B().retain(e).retain(t,es(s));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new B)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],i=[];t===0?this.scroll.path(e).forEach(l=>{const[a]=l;a instanceof Ce?s.push(a):a instanceof Re&&i.push(a)}):(s=this.scroll.lines(e,t),i=this.scroll.descendants(Re,e,t));const[r,o]=[s,i].map(l=>{const a=l.shift();if(a==null)return{};let c=tt(a);for(;Object.keys(c).length>0;){const p=l.shift();if(p==null)return c;c=jv(tt(p),c)}return c});return{...r,...o}}getHTML(e,t){const[s,i]=this.scroll.line(e);if(s){const r=s.length();return s.length()>=i+t&&!(i===0&&t===r)?Gs(s,i,t,!0):Gs(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(e,t){const s=Oa(t),i=new B().retain(e).concat(s);return this.scroll.insertContents(e,s),this.update(i)}insertEmbed(e,t,s){return this.scroll.insertAt(e,t,s),this.update(new B().retain(e).insert({[t]:s}))}insertText(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(s).forEach(i=>{this.scroll.formatAt(e,t.length,i,s[i])}),this.update(new B().retain(e).insert(t,es(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==Ce.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof yt}removeFormat(e,t){const s=this.getText(e,t),[i,r]=this.scroll.line(e+t);let o=0,l=new B;i!=null&&(o=i.length()-r,l=i.delta().slice(r,r+o-1).insert(`
`));const c=this.getContents(e,t+o).diff(new B().insert(s).concat(l)),p=new B().retain(e).concat(c);return this.applyDelta(p)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(Bv)&&this.scroll.find(t[0].target)){const r=this.scroll.find(t[0].target),o=tt(r),l=r.offset(this.scroll),a=t[0].oldValue.replace(as.CONTENTS,""),c=new B().insert(a),p=new B().insert(r.value()),f=s&&{oldRange:La(s.oldRange,-l),newRange:La(s.newRange,-l)};e=new B().retain(l).concat(c.diff(p,f)).reduce((g,v)=>v.insert?g.insert(v.insert,o):g.push(v),new B),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!ul(i.compose(e),this.delta))&&(e=i.diff(this.delta,s));return e}}function Xn(n,e,t){if(n.length===0){const[g]=go(t.pop());return e<=0?`</li></${g}>`:`</li></${g}>${Xn([],e-1,t)}`}const[{child:s,offset:i,length:r,indent:o,type:l},...a]=n,[c,p]=go(l);if(o>e)return t.push(l),o===e+1?`<${c}><li${p}>${Gs(s,i,r)}${Xn(a,o,t)}`:`<${c}><li>${Xn(n,e+1,t)}`;const f=t[t.length-1];if(o===e&&l===f)return`</li><li${p}>${Gs(s,i,r)}${Xn(a,o,t)}`;const[d]=go(t.pop());return`</li></${d}>${Xn(n,e-1,t)}`}function Gs(n,e,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof bt)return tr(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof gt){if(n.statics.blotName==="list-container"){const c=[];return n.children.forEachAt(e,t,(p,f,d)=>{const g="formats"in p&&typeof p.formats=="function"?p.formats():{};c.push({child:p,offset:f,length:d,indent:g.indent||0,type:g.list})}),Xn(c,-1,[])}const i=[];if(n.children.forEachAt(e,t,(c,p,f)=>{i.push(Gs(c,p,f))}),s||n.statics.blotName==="list")return i.join("");const{outerHTML:r,innerHTML:o}=n.domNode,[l,a]=r.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${a}`:`${l}>${i.join("")}<${a}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function jv(n,e){return Object.keys(e).reduce((t,s)=>{if(n[s]==null)return t;const i=e[s];return i===n[s]?t[s]=i:Array.isArray(i)?i.indexOf(n[s])<0?t[s]=i.concat([n[s]]):t[s]=i:t[s]=[i,n[s]],t},{})}function go(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function Oa(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const s=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(s,t.attributes)}return e.push(t)},new B)}function La(n,e){let{index:t,length:s}=n;return new wn(t+e,s)}function Uv(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,r)=>{r&&e.push({insert:`
`,attributes:t.attributes}),i&&e.push({insert:i,attributes:t.attributes})}):e.push(t)}),e}class xt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}D(xt,"DEFAULTS",{});const Ni="\uFEFF";class ml extends Ye{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(Ni),this.rightGuard=document.createTextNode(Ni),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,s;const i=e.data.split(Ni).join("");if(e===this.leftGuard)if(this.prev instanceof bt){const r=this.prev.length();this.prev.insertAt(r,i),t={startNode:this.prev.domNode,startOffset:r+i.length}}else s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this),t={startNode:s,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof bt?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this.next),t={startNode:s,startOffset:i.length}));return e.data=Ni,t}update(e,t){e.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const i=this.restore(s.target);i&&(t.range=i)}})}}class Vv{constructor(e,t){D(this,"isComposing",!1);this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof ml)&&(this.emitter.emit(M.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(M.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(M.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(M.events.COMPOSITION_END,e),this.isComposing=!1}}const Bs=class Bs{constructor(e,t){D(this,"modules",{});this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};D(Bs,"DEFAULTS",{modules:{}}),D(Bs,"themes",{default:Bs});let us=Bs;const Hv=n=>n.parentElement||n.getRootNode().host||null,Fv=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,s="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*s,left:e.left}},Ci=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},Ia=(n,e,t,s,i,r)=>n<t&&e>s?0:n<t?-(t-n+i):e>s?e-n>s-t?n+i-t:e-s+r:0,zv=(n,e)=>{var r,o,l;const t=n.ownerDocument;let s=e,i=n;for(;i;){const a=i===t.body,c=a?{top:0,right:((r=window.visualViewport)==null?void 0:r.width)??t.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??t.documentElement.clientHeight,left:0}:Fv(i),p=getComputedStyle(i),f=Ia(s.left,s.right,c.left,c.right,Ci(p.scrollPaddingLeft),Ci(p.scrollPaddingRight)),d=Ia(s.top,s.bottom,c.top,c.bottom,Ci(p.scrollPaddingTop),Ci(p.scrollPaddingBottom));if(f||d)if(a)(l=t.defaultView)==null||l.scrollBy(f,d);else{const{scrollLeft:g,scrollTop:v}=i;d&&(i.scrollTop+=d),f&&(i.scrollLeft+=f);const y=i.scrollLeft-g,x=i.scrollTop-v;s={left:s.left-y,top:s.top-x,right:s.right-y,bottom:s.bottom-x}}i=a||p.position==="fixed"?null:Hv(i)}},Kv=100,Gv=["block","break","cursor","inline","scroll","text"],Wv=(n,e,t)=>{const s=new ls;return Gv.forEach(i=>{const r=e.query(i);r&&s.register(r)}),n.forEach(i=>{let r=e.query(i);r||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;r;)if(s.register(r),r="blotName"in r?r.requiredContainer??null:null,o+=1,o>Kv){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),s},ns=Ft("quill"),Oi=new ls;gt.uiClass="ql-ui";const ht=class ht{static debug(e){e===!0&&(e="log"),Ft.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return jo.get(e)||Oi.find(e,t)}static import(e){return this.imports[e]==null&&ns.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in e?e.attrName:e.blotName;typeof s=="string"?this.register(`formats/${s}`,e,t):Object.keys(e).forEach(i=>{this.register(i,e[i],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!s&&ns.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Oi.register(t),typeof t.register=="function"&&t.register(Oi)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=Xv(e,t),this.container=this.options.container,this.container==null){ns.error("Invalid Quill container",e);return}this.options.debug&&ht.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",jo.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new M;const i=pl.blotName,r=this.options.registry.query(i);if(!r||!("blotName"in r))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new r(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new $v(this.scroll),this.selection=new Mv(this.scroll,this.emitter),this.composition=new Vv(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(M.events.EDITOR_CHANGE,o=>{o===M.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(M.events.SCROLL_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),p=a&&c?{oldRange:a,newRange:c}:void 0;pt.call(this,()=>this.editor.update(null,l,p),o)}),this.emitter.on(M.events.SCROLL_EMBED_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),p=a&&c?{oldRange:a,newRange:c}:void 0;pt.call(this,()=>{const f=new B().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(f,[],p)},ht.sources.USER)}),s){const o=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const s=e;e=document.createElement("div"),e.classList.add(s)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,s){return[e,t,,s]=$t(e,t,s),pt.call(this,()=>this.editor.deleteText(e,t),s,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.sources.API;return pt.call(this,()=>{const i=this.getSelection(!0);let r=new B;if(i==null)return r;if(this.scroll.query(e,j.BLOCK))r=this.editor.formatLine(i.index,i.length,{[e]:t});else{if(i.length===0)return this.selection.format(e,t),r;r=this.editor.formatText(i.index,i.length,{[e]:t})}return this.setSelection(i,M.sources.SILENT),r},s)}formatLine(e,t,s,i,r){let o;return[e,t,o,r]=$t(e,t,s,i,r),pt.call(this,()=>this.editor.formatLine(e,t,o),r,e,0)}formatText(e,t,s,i,r){let o;return[e,t,o,r]=$t(e,t,s,i,r),pt.call(this,()=>this.editor.formatText(e,t,o),r,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof e=="number"?s=this.selection.getBounds(e,t):s=this.selection.getBounds(e.index,e.length),!s)return null;const i=this.container.getBoundingClientRect();return{bottom:s.bottom-i.top,height:s.height,left:s.left-i.left,right:s.right-i.left,top:s.top-i.top,width:s.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=$t(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=$t(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=$t(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,s){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ht.sources.API;return pt.call(this,()=>this.editor.insertEmbed(e,t,s),i,e)}insertText(e,t,s,i,r){let o;return[e,,o,r]=$t(e,0,s,i,r),pt.call(this,()=>this.editor.insertText(e,t,o),r,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,s){return[e,t,,s]=$t(e,t,s),pt.call(this,()=>this.editor.removeFormat(e,t),s,e)}scrollRectIntoView(e){zv(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.sources.API;return pt.call(this,()=>{e=new B(e);const s=this.getLength(),i=this.editor.deleteText(0,s),r=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return i.compose(r).compose(o)},t)}setSelection(e,t,s){e==null?this.selection.setRange(null,t||ht.sources.API):([e,t,,s]=$t(e,t,s),this.selection.setRange(new wn(Math.max(0,e),t),s),s!==M.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.sources.API;const s=new B().insert(e);return this.setContents(s,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.sources.API;return pt.call(this,()=>(e=new B(e),this.editor.applyDelta(e)),t,!0)}};D(ht,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Oi,theme:"default"}),D(ht,"events",M.events),D(ht,"sources",M.sources),D(ht,"version","2.0.3"),D(ht,"imports",{delta:B,parchment:yv,"core/module":xt,"core/theme":us});let T=ht;function qa(n){return typeof n=="string"?document.querySelector(n):n}function mo(n){return Object.entries(n??{}).reduce((e,t)=>{let[s,i]=t;return{...e,[s]:i===!0?{}:i}},{})}function Ra(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function Xv(n,e){const t=qa(n);if(!t)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===T.DEFAULTS.theme?us:T.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:r,...o}=T.DEFAULTS,{modules:l,...a}=i.DEFAULTS;let c=mo(e.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const p=sn({},mo(r),mo(l),c),f={...o,...Ra(a),...Ra(e)};let d=e.registry;return d?e.formats&&ns.warn('Ignoring "formats" option because "registry" is specified'):d=e.formats?Wv(e.formats,f.registry,ns):f.registry,{...f,registry:d,container:t,theme:i,modules:Object.entries(p).reduce((g,v)=>{let[y,x]=v;if(!x)return g;const w=T.import(`modules/${y}`);return w==null?(ns.error(`Cannot load ${y} module. Are you sure you registered it?`),g):{...g,[y]:sn({},w.DEFAULTS||{},x)}},{}),bounds:qa(f.bounds)}}function pt(n,e,t,s){if(!this.isEnabled()&&e===M.sources.USER&&!this.allowReadOnlyEdits)return new B;let i=t==null?null:this.getSelection();const r=this.editor.delta,o=n();if(i!=null&&(t===!0&&(t=i.index),s==null?i=Da(i,o,e):s!==0&&(i=Da(i,t,s,e)),this.setSelection(i,M.sources.SILENT)),o.length()>0){const l=[M.events.TEXT_CHANGE,o,r,e];this.emitter.emit(M.events.EDITOR_CHANGE,...l),e!==M.sources.SILENT&&this.emitter.emit(...l)}return o}function $t(n,e,t,s,i){let r={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(i=s,s=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(i=s,s=t,t=e,e=0),typeof t=="object"?(r=t,i=s):typeof t=="string"&&(s!=null?r[t]=s:i=t),i=i||M.sources.API,[n,e,r,i]}function Da(n,e,t,s){const i=typeof t=="number"?t:0;if(n==null)return null;let r,o;return e&&typeof e.transformPosition=="function"?[r,o]=[n.index,n.index+n.length].map(l=>e.transformPosition(l,s!==M.sources.USER)):[r,o]=[n.index,n.index+n.length].map(l=>l<e||l===e&&s===M.sources.USER?l:i>=0?l+i:Math.max(e,l+i)),new wn(r,o-r)}class Sn extends Zi{}function Pa(n){return n instanceof Ce||n instanceof st}function Ma(n){return typeof n.updateContent=="function"}class Yn extends pl{constructor(e,t,s){let{emitter:i}=s;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",r=>this.handleDragStart(r))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(M.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(M.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(M.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[s,i]=this.line(e),[r]=this.line(e+t);if(super.deleteAt(e,t),r!=null&&s!==r&&i>0){if(s instanceof st||r instanceof st){this.optimize();return}const o=r.children.head instanceof yt?null:r.children.head;s.moveChildren(r,o),s.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,s,i){super.formatAt(e,t,s,i),this.optimize()}insertAt(e,t,s){if(e>=this.length())if(s==null||this.scroll.query(t,j.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),s==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),s):i.insertAt(0,t,s)}else{const i=this.scroll.create(t,s);this.appendChild(i)}else super.insertAt(e,t,s);this.optimize()}insertBefore(e,t){if(e.statics.scope===j.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(e),super.insertBefore(s,t)}else super.insertBefore(e,t)}insertContents(e,t){const s=this.deltaToRenderBlocks(t.concat(new B().insert(`
`))),i=s.pop();if(i==null)return;this.batchStart();const r=s.shift();if(r){const a=r.type==="block"&&(r.delta.length()===0||!this.descendant(st,e)[0]&&e<this.length()),c=r.type==="block"?r.delta:new B().insert({[r.key]:r.value});bo(this,e,c);const p=r.type==="block"?1:0,f=e+c.length()+p;a&&this.insertAt(f-1,`
`);const d=tt(this.line(e)[0]),g=it.AttributeMap.diff(d,r.attributes)||{};Object.keys(g).forEach(v=>{this.formatAt(f-1,1,v,g[v])}),e=f}let[o,l]=this.children.find(e);if(s.length&&(o&&(o=o.split(l),l=0),s.forEach(a=>{if(a.type==="block"){const c=this.createBlock(a.attributes,o||void 0);bo(c,0,a.delta)}else{const c=this.create(a.key,a.value);this.insertBefore(c,o||void 0),Object.keys(a.attributes).forEach(p=>{c.format(p,a.attributes[p])})}})),i.type==="block"&&i.delta.length()){const a=o?o.offset(o.scroll)+l:this.length();bo(this,a,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[s,i]=t;return s instanceof Re?[s,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Pa,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(i,r,o)=>{let l=[],a=o;return i.children.forEachAt(r,o,(c,p,f)=>{Pa(c)?l.push(c):c instanceof Zi&&(l=l.concat(s(c,p,a))),a-=f}),l};return s(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(M.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=M.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(s=>{let{target:i}=s;const r=this.find(i,!0);return r&&!Ma(r)}),e.length>0&&this.emitter.emit(M.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(M.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,s){const[i]=this.descendant(r=>r instanceof st,e);i&&i.statics.blotName===t&&Ma(i)&&i.updateContent(s)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let s=new B;return e.forEach(i=>{const r=i==null?void 0:i.insert;if(r)if(typeof r=="string"){const o=r.split(`
`);o.slice(0,-1).forEach(a=>{s.insert(a,i.attributes),t.push({type:"block",delta:s,attributes:i.attributes??{}}),s=new B});const l=o[o.length-1];l&&s.insert(l,i.attributes)}else{const o=Object.keys(r)[0];if(!o)return;this.query(o,j.INLINE)?s.push(i):(s.length()&&t.push({type:"block",delta:s,attributes:{}}),s=new B,t.push({type:"blockEmbed",key:o,value:r[o],attributes:i.attributes??{}}))}}),s.length()&&t.push({type:"block",delta:s,attributes:{}}),t}createBlock(e,t){let s;const i={};Object.entries(e).forEach(l=>{let[a,c]=l;this.query(a,j.BLOCK&j.BLOT)!=null?s=a:i[a]=c});const r=this.create(s||this.statics.defaultChild.blotName,s?e[s]:void 0);this.insertBefore(r,t||void 0);const o=r.length();return Object.entries(i).forEach(l=>{let[a,c]=l;r.formatAt(0,o,a,c)}),r}}D(Yn,"blotName","scroll"),D(Yn,"className","ql-editor"),D(Yn,"tagName","DIV"),D(Yn,"defaultChild",Ce),D(Yn,"allowedChildren",[Ce,st,Sn]);function bo(n,e,t){t.reduce((s,i)=>{const r=it.Op.length(i);let o=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;n.insertAt(s,l);const[a]=n.descendant(Re,s),c=tt(a);o=it.AttributeMap.diff(c,o)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return s;if(n.insertAt(s,l,i.insert[l]),n.scroll.query(l,j.INLINE)!=null){const[c]=n.descendant(Re,s),p=tt(c);o=it.AttributeMap.diff(p,o)||{}}}}return Object.keys(o).forEach(l=>{n.formatAt(s,r,l,o[l])}),s+r},e)}const bl={scope:j.BLOCK,whitelist:["right","center","justify"]},Yv=new Ot("align","align",bl),pc=new vt("align","ql-align",bl),hc=new an("align","text-align",bl);class dc extends an{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const Zv=new vt("color","ql-color",{scope:j.INLINE}),vl=new dc("color","color",{scope:j.INLINE}),Qv=new vt("background","ql-bg",{scope:j.INLINE}),yl=new dc("background","background-color",{scope:j.INLINE});class Tn extends Sn{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${tr(this.code(e,t))}
</pre>`}}class De extends Ce{static register(){T.register(Tn)}}D(De,"TAB","  ");class xl extends Lt{}xl.blotName="code";xl.tagName="CODE";De.blotName="code-block";De.className="ql-code-block";De.tagName="DIV";Tn.blotName="code-block-container";Tn.className="ql-code-block-container";Tn.tagName="DIV";Tn.allowedChildren=[De];De.allowedChildren=[bt,yt,as];De.requiredContainer=Tn;const _l={scope:j.BLOCK,whitelist:["rtl"]},fc=new Ot("direction","dir",_l),gc=new vt("direction","ql-direction",_l),mc=new an("direction","direction",_l),bc={scope:j.INLINE,whitelist:["serif","monospace"]},vc=new vt("font","ql-font",bc);class Jv extends an{value(e){return super.value(e).replace(/["']/g,"")}}const yc=new Jv("font","font-family",bc),xc=new vt("size","ql-size",{scope:j.INLINE,whitelist:["small","large","huge"]}),_c=new an("size","font-size",{scope:j.INLINE,whitelist:["10px","18px","32px"]}),e0=Ft("quill:keyboard"),t0=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class nr extends xt{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!t[s]!==e[s]&&t[s]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=s0(e);if(i==null){e0.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof s=="function"&&(s={handler:s}),(Array.isArray(i.key)?i.key:[i.key]).forEach(o=>{const l={...i,key:o,...t,...s};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(w=>nr.match(e,w));if(i.length===0)return;const r=T.find(e.target,!0);if(r&&r.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,a]=this.quill.getLine(o.index),[c,p]=this.quill.getLeaf(o.index),[f,d]=o.length===0?[c,p]:this.quill.getLeaf(o.index+o.length),g=c instanceof Ui?c.value().slice(0,p):"",v=f instanceof Ui?f.value().slice(d):"",y={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:a,prefix:g,suffix:v,event:e};i.some(w=>{if(w.collapsed!=null&&w.collapsed!==y.collapsed||w.empty!=null&&w.empty!==y.empty||w.offset!=null&&w.offset!==y.offset)return!1;if(Array.isArray(w.format)){if(w.format.every(A=>y.format[A]==null))return!1}else if(typeof w.format=="object"&&!Object.keys(w.format).every(A=>w.format[A]===!0?y.format[A]!=null:w.format[A]===!1?y.format[A]==null:ul(w.format[A],y.format[A])))return!1;return w.prefix!=null&&!w.prefix.test(y.prefix)||w.suffix!=null&&!w.suffix.test(y.suffix)?!1:w.handler.call(this,o,y,w)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[r]=this.quill.getLine(e.index);let o=new B().retain(e.index-s).delete(s);if(t.offset===0){const[l]=this.quill.getLine(e.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const c=r.formats(),p=this.quill.getFormat(e.index-1,1);if(i=it.AttributeMap.diff(c,p)||{},Object.keys(i).length>0){const f=new B().retain(e.index+r.length()-2).retain(1,i);o=o.compose(f)}}}this.quill.updateContents(o,T.sources.USER),this.quill.focus()}handleDelete(e,t){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-s)return;let i={};const[r]=this.quill.getLine(e.index);let o=new B().retain(e.index).delete(s);if(t.offset>=r.length()-1){const[l]=this.quill.getLine(e.index+1);if(l){const a=r.formats(),c=this.quill.getFormat(e.index,1);i=it.AttributeMap.diff(a,c)||{},Object.keys(i).length>0&&(o=o.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(o,T.sources.USER),this.quill.focus()}handleDeleteRange(e){wl({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const s=Object.keys(t.format).reduce((r,o)=>(this.quill.scroll.query(o,j.BLOCK)&&!Array.isArray(t.format[o])&&(r[o]=t.format[o]),r),{}),i=new B().retain(e.index).delete(e.length).insert(`
`,s);this.quill.updateContents(i,T.sources.USER),this.quill.setSelection(e.index+1,T.sources.SILENT),this.quill.focus()}}const n0={bindings:{bold:vo("bold"),italic:vo("italic"),underline:vo("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",T.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",T.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",T.sources.USER):e.format.list!=null&&this.quill.format("list",!1,T.sources.USER)}},"indent code-block":Ba(!0),"outdent code-block":Ba(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,T.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new B().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,T.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,T.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,T.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,T.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),s={...e.formats(),list:"checked"},i=new B().retain(n.index).insert(`
`,s).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,T.sources.USER),this.quill.setSelection(n.index+1,T.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,s]=this.quill.getLine(n.index),i=new B().retain(n.index).insert(`
`,e.format).retain(t.length()-s-1).retain(1,{header:null});this.quill.updateContents(i,T.sources.USER),this.quill.setSelection(n.index+1,T.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,s,i,r]=e.getTable(n),o=i0(t,s,i,r);if(o==null)return;let l=t.offset();if(o<0){const a=new B().retain(l).insert(`
`);this.quill.updateContents(a,T.sources.USER),this.quill.setSelection(n.index+1,n.length,T.sources.SILENT)}else if(o>0){l+=t.length();const a=new B().retain(l).insert(`
`);this.quill.updateContents(a,T.sources.USER),this.quill.setSelection(l,T.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:s}=e,i=s.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,T.sources.USER):this.quill.setSelection(i+s.length(),T.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[s,i]=this.quill.getLine(n.index);if(i>t)return!0;let r;switch(e.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r="ordered"}this.quill.insertText(n.index," ",T.sources.USER),this.quill.history.cutoff();const o=new B().retain(n.index-i).delete(t+1).retain(s.length()-2-i).retain(1,{list:r});return this.quill.updateContents(o,T.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,T.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let s=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,s-=1,s<=0){const r=new B().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(r,T.sources.USER),this.quill.setSelection(n.index-1,T.sources.SILENT),!1}return!0}},"embed left":Li("ArrowLeft",!1),"embed left shift":Li("ArrowLeft",!0),"embed right":Li("ArrowRight",!1),"embed right shift":Li("ArrowRight",!0),"table down":$a(!1),"table up":$a(!0)}};nr.DEFAULTS=n0;function Ba(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:s}=t;const i=this.quill.scroll.query("code-block"),{TAB:r}=i;if(e.length===0&&!s.shiftKey){this.quill.insertText(e.index,r,T.sources.USER),this.quill.setSelection(e.index+r.length,T.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:a}=e;o.forEach((c,p)=>{n?(c.insertAt(0,r),p===0?l+=r.length:a+=r.length):c.domNode.textContent.startsWith(r)&&(c.deleteAt(0,r.length),p===0?l-=r.length:a-=r.length)}),this.quill.update(T.sources.USER),this.quill.setSelection(l,a,T.sources.SILENT)}}}function Li(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:i}=s;n==="ArrowRight"&&(i+=s.length+1);const[r]=this.quill.getLeaf(i);return r instanceof Ye?(n==="ArrowLeft"?e?this.quill.setSelection(s.index-1,s.length+1,T.sources.USER):this.quill.setSelection(s.index-1,T.sources.USER):e?this.quill.setSelection(s.index,s.length+1,T.sources.USER):this.quill.setSelection(s.index+s.length+1,T.sources.USER),!1):!0}}}function vo(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],T.sources.USER)}}}function $a(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const s=n?"prev":"next",i=t.line,r=i.parent[s];if(r!=null){if(r.statics.blotName==="table-row"){let o=r.children.head,l=i;for(;l.prev!=null;)l=l.prev,o=o.next;const a=o.offset(this.quill.scroll)+Math.min(t.offset,o.length()-1);this.quill.setSelection(a,0,T.sources.USER)}}else{const o=i.table()[s];o!=null&&(n?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,T.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,T.sources.USER))}return!1}}}function s0(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=es(n);else return null;return n.shortKey&&(n[t0]=n.shortKey,delete n.shortKey),n}function wl(n){let{quill:e,range:t}=n;const s=e.getLines(t);let i={};if(s.length>1){const r=s[0].formats(),o=s[s.length-1].formats();i=it.AttributeMap.diff(o,r)||{}}e.deleteText(t,T.sources.USER),Object.keys(i).length>0&&e.formatLine(t.index,1,i,T.sources.USER),e.setSelection(t.index,T.sources.SILENT)}function i0(n,e,t,s){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?s===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const r0=/font-weight:\s*normal/,o0=["P","OL","UL"],ja=n=>n&&o0.includes(n.tagName),l0=n=>{Array.from(n.querySelectorAll("br")).filter(e=>ja(e.previousElementSibling)&&ja(e.nextElementSibling)).forEach(e=>{var t;(t=e.parentNode)==null||t.removeChild(e)})},a0=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var t;return(t=e.getAttribute("style"))==null?void 0:t.match(r0)}).forEach(e=>{var s;const t=n.createDocumentFragment();t.append(...e.childNodes),(s=e.parentNode)==null||s.replaceChild(t,e)})};function u0(n){n.querySelector('[id^="docs-internal-guid-"]')&&(a0(n),l0(n))}const c0=/\bmso-list:[^;]*ignore/i,p0=/\bmso-list:[^;]*\bl(\d+)/i,h0=/\bmso-list:[^;]*\blevel(\d+)/i,d0=(n,e)=>{const t=n.getAttribute("style"),s=t==null?void 0:t.match(p0);if(!s)return null;const i=Number(s[1]),r=t==null?void 0:t.match(h0),o=r?Number(r[1]):1,l=new RegExp(`@list l${i}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=e.match(l),c=a&&a[1]==="bullet"?"bullet":"ordered";return{id:i,indent:o,type:c,element:n}},f0=n=>{var o,l;const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],s=[];e.forEach(a=>{(a.getAttribute("style")||"").match(c0)?t.push(a):s.push(a)}),t.forEach(a=>{var c;return(c=a.parentNode)==null?void 0:c.removeChild(a)});const i=n.documentElement.innerHTML,r=s.map(a=>d0(a,i)).filter(a=>a);for(;r.length;){const a=[];let c=r.shift();for(;c;)a.push(c),c=r.length&&((o=r[0])==null?void 0:o.element)===c.element.nextElementSibling&&r[0].id===c.id?r.shift():null;const p=document.createElement("ul");a.forEach(g=>{const v=document.createElement("li");v.setAttribute("data-list",g.type),g.indent>1&&v.setAttribute("class",`ql-indent-${g.indent-1}`),v.innerHTML=g.element.innerHTML,p.appendChild(v)});const f=(l=a[0])==null?void 0:l.element,{parentNode:d}=f??{};f&&(d==null||d.replaceChild(p,f)),a.slice(1).forEach(g=>{let{element:v}=g;d==null||d.removeChild(v)})}};function g0(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&f0(n)}const m0=[g0,u0],b0=n=>{n.documentElement&&m0.forEach(e=>{e(n)})},v0=Ft("quill:clipboard"),y0=[[Node.TEXT_NODE,L0],[Node.TEXT_NODE,Va],["br",A0],[Node.ELEMENT_NODE,Va],[Node.ELEMENT_NODE,k0],[Node.ELEMENT_NODE,w0],[Node.ELEMENT_NODE,C0],["li",T0],["ol, ul",N0],["pre",E0],["tr",O0],["b",yo("bold")],["i",yo("italic")],["strike",yo("strike")],["style",S0]],x0=[Yv,fc].reduce((n,e)=>(n[e.keyName]=e,n),{}),Ua=[hc,yl,vl,mc,yc,_c].reduce((n,e)=>(n[e.keyName]=e,n),{});class wc extends xt{constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],y0.concat(this.options.matchers??[]).forEach(s=>{let[i,r]=s;this.addMatcher(i,r)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:s}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[De.blotName])return new B().insert(s||"",{[De.blotName]:i[De.blotName]});if(!t)return new B().insert(s||"",i);const r=this.convertHTML(t);return Js(r,`
`)&&(r.ops[r.ops.length-1].attributes==null||i.table)?r.compose(new B().retain(r.length()-1).delete(1)):r}normalizeHTML(e){b0(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const s=t.body,i=new WeakMap,[r,o]=this.prepareMatching(s,i);return kl(this.quill.scroll,s,r,o,i)}dangerouslyPasteHTML(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,T.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new B().retain(e).concat(i),s),this.quill.setSelection(e+i.length(),T.sources.SILENT)}}onCaptureCopy(e){var o,l;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:i,text:r}=this.onCopy(s,t);(o=e.clipboardData)==null||o.setData("text/plain",r),(l=e.clipboardData)==null||l.setData("text/html",i),t&&wl({range:s,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){var o,l,a,c,p;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const s=(o=e.clipboardData)==null?void 0:o.getData("text/html");let i=(l=e.clipboardData)==null?void 0:l.getData("text/plain");if(!s&&!i){const f=(a=e.clipboardData)==null?void 0:a.getData("text/uri-list");f&&(i=this.normalizeURIList(f))}const r=Array.from(((c=e.clipboardData)==null?void 0:c.files)||[]);if(!s&&r.length>0){this.quill.uploader.upload(t,r);return}if(s&&r.length>0){const f=new DOMParser().parseFromString(s,"text/html");if(f.body.childElementCount===1&&((p=f.body.firstElementChild)==null?void 0:p.tagName)==="IMG"){this.quill.uploader.upload(t,r);return}}this.onPaste(t,{html:s,text:i})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:s,html:i}=t;const r=this.quill.getFormat(e.index),o=this.convert({text:s,html:i},r);v0.log("onPaste",o,{text:s,html:i});const l=new B().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(l,T.sources.USER),this.quill.setSelection(l.length()-e.length,T.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const s=[],i=[];return this.matchers.forEach(r=>{const[o,l]=r;switch(o){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:s.push(l);break;default:Array.from(e.querySelectorAll(o)).forEach(a=>{if(t.has(a)){const c=t.get(a);c==null||c.push(l)}else t.set(a,[l])});break}}),[s,i]}}D(wc,"DEFAULTS",{matchers:[]});function Nn(n,e,t,s){return s.query(e)?n.reduce((i,r)=>{if(!r.insert)return i;if(r.attributes&&r.attributes[e])return i.push(r);const o=t?{[e]:t}:{};return i.insert(r.insert,{...o,...r.attributes})},new B):n}function Js(n,e){let t="";for(let s=n.ops.length-1;s>=0&&t.length<e.length;--s){const i=n.ops[s];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*e.length)===e}function tn(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof Ye?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function _0(n,e){return n.previousElementSibling&&n.nextElementSibling&&!tn(n.previousElementSibling,e)&&!tn(n.nextElementSibling,e)}const Ii=new WeakMap;function kc(n){return n==null?!1:(Ii.has(n)||(n.tagName==="PRE"?Ii.set(n,!0):Ii.set(n,kc(n.parentNode))),Ii.get(n))}function kl(n,e,t,s,i){return e.nodeType===e.TEXT_NODE?s.reduce((r,o)=>o(e,r,n),new B):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((r,o)=>{let l=kl(n,o,t,s,i);return o.nodeType===e.ELEMENT_NODE&&(l=t.reduce((a,c)=>c(o,a,n),l),l=(i.get(o)||[]).reduce((a,c)=>c(o,a,n),l)),r.concat(l)},new B):new B}function yo(n){return(e,t,s)=>Nn(t,n,!0,s)}function w0(n,e,t){const s=Ot.keys(n),i=vt.keys(n),r=an.keys(n),o={};return s.concat(i).concat(r).forEach(l=>{let a=t.query(l,j.ATTRIBUTE);a!=null&&(o[a.attrName]=a.value(n),o[a.attrName])||(a=x0[l],a!=null&&(a.attrName===l||a.keyName===l)&&(o[a.attrName]=a.value(n)||void 0),a=Ua[l],a!=null&&(a.attrName===l||a.keyName===l)&&(a=Ua[l],o[a.attrName]=a.value(n)||void 0))}),Object.entries(o).reduce((l,a)=>{let[c,p]=a;return Nn(l,c,p,t)},e)}function k0(n,e,t){const s=t.query(n);if(s==null)return e;if(s.prototype instanceof Ye){const i={},r=s.value(n);if(r!=null)return i[s.blotName]=r,new B().insert(i,s.formats(n,t))}else if(s.prototype instanceof zs&&!Js(e,`
`)&&e.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return Nn(e,s.blotName,s.formats(n,t),t);return e}function A0(n,e){return Js(e,`
`)||e.insert(`
`),e}function E0(n,e,t){const s=t.query("code-block"),i=s&&"formats"in s&&typeof s.formats=="function"?s.formats(n,t):!0;return Nn(e,"code-block",i,t)}function S0(){return new B}function T0(n,e,t){const s=t.query(n);if(s==null||s.blotName!=="list"||!Js(e,`
`))return e;let i=-1,r=n.parentNode;for(;r!=null;)["OL","UL"].includes(r.tagName)&&(i+=1),r=r.parentNode;return i<=0?e:e.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:i,...l.attributes||{}}):o,new B)}function N0(n,e,t){const s=n;let i=s.tagName==="OL"?"ordered":"bullet";const r=s.getAttribute("data-checked");return r&&(i=r==="true"?"checked":"unchecked"),Nn(e,"list",i,t)}function Va(n,e,t){if(!Js(e,`
`)){if(tn(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let s=n.nextSibling;for(;s!=null;){if(tn(s,t))return e.insert(`
`);const i=t.query(s);if(i&&i.prototype instanceof st)return e.insert(`
`);s=s.firstChild}}}return e}function C0(n,e,t){var r;const s={},i=n.style||{};return i.fontStyle==="italic"&&(s.italic=!0),i.textDecoration==="underline"&&(s.underline=!0),i.textDecoration==="line-through"&&(s.strike=!0),((r=i.fontWeight)!=null&&r.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(s.bold=!0),e=Object.entries(s).reduce((o,l)=>{let[a,c]=l;return Nn(o,a,c,t)},e),parseFloat(i.textIndent||0)>0?new B().insert("	").concat(e):e}function O0(n,e,t){var i,r;const s=((i=n.parentElement)==null?void 0:i.tagName)==="TABLE"?n.parentElement:(r=n.parentElement)==null?void 0:r.parentElement;if(s!=null){const l=Array.from(s.querySelectorAll("tr")).indexOf(n)+1;return Nn(e,"table",l,t)}return e}function L0(n,e,t){var i;let s=n.data;if(((i=n.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(s.trim());if(!kc(n)){if(s.trim().length===0&&s.includes(`
`)&&!_0(n,t))return e;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&tn(n.parentElement,t)||n.previousSibling instanceof Element&&tn(n.previousSibling,t))&&(s=s.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&tn(n.parentElement,t)||n.nextSibling instanceof Element&&tn(n.nextSibling,t))&&(s=s.replace(/ $/,"")),s=s.replaceAll(""," ")}return e.insert(s)}class Ac extends xt{constructor(t,s){super(t,s);D(this,"lastRecorded",0);D(this,"ignoreChange",!1);D(this,"stack",{undo:[],redo:[]});D(this,"currentRange",null);this.quill.on(T.events.EDITOR_CHANGE,(i,r,o,l)=>{i===T.events.SELECTION_CHANGE?r&&l!==T.sources.SILENT&&(this.currentRange=r):i===T.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===T.sources.USER?this.record(r,o):this.transform(r)),this.currentRange=Ho(this.currentRange,r))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,s){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const r=this.quill.getContents(),o=i.delta.invert(r);this.stack[s].push({delta:o,range:Ho(i.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,T.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,s){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(s),r=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),r=l.range)}else this.lastRecorded=o;i.length()!==0&&(this.stack.undo.push({delta:i,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){Ha(this.stack.undo,t),Ha(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,T.sources.USER);else{const s=q0(this.quill.scroll,t.delta);this.quill.setSelection(s,T.sources.USER)}}}D(Ac,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Ha(n,e){let t=e;for(let s=n.length-1;s>=0;s-=1){const i=n[s];n[s]={delta:t.transform(i.delta,!0),range:i.range&&Ho(i.range,t)},t=i.delta.transform(t),n[s].delta.length()===0&&n.splice(s,1)}}function I0(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(s=>n.query(s,j.BLOCK)!=null):!1}function q0(n,e){const t=e.reduce((i,r)=>i+(r.delete||0),0);let s=e.length()-t;return I0(n,e)&&(s-=1),s}function Ho(n,e){if(!n)return n;const t=e.transformPosition(n.index),s=e.transformPosition(n.index+n.length);return{index:t,length:s-t}}class Ec extends xt{constructor(e,t){super(e,t),e.root.addEventListener("drop",s=>{var o;s.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(s.clientX,s.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const r=i&&e.selection.normalizeNative(i);if(r){const l=e.selection.normalizedToRange(r);(o=s.dataTransfer)!=null&&o.files&&this.upload(l,s.dataTransfer.files)}})}upload(e,t){const s=[];Array.from(t).forEach(i=>{var r;i&&((r=this.options.mimetypes)!=null&&r.includes(i.type))&&s.push(i)}),s.length>0&&this.options.handler.call(this,e,s)}}Ec.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(s=>new Promise(i=>{const r=new FileReader;r.onload=()=>{i(r.result)},r.readAsDataURL(s)}));Promise.all(t).then(s=>{const i=s.reduce((r,o)=>r.insert({image:o}),new B().retain(n.index).delete(n.length));this.quill.updateContents(i,M.sources.USER),this.quill.setSelection(n.index+s.length,M.sources.SILENT)})}};const R0=["insertText","insertReplacementText"];class D0 extends xt{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||e.on(T.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){wl({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const s=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new B().retain(e.index).insert(t,s),T.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,T.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!R0.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const s=P0(e);if(s==null)return;const i=this.quill.selection.normalizeNative(t),r=i?this.quill.selection.normalizedToRange(i):null;r&&this.replaceText(r,s)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function P0(n){var e;return typeof n.data=="string"?n.data:(e=n.dataTransfer)!=null&&e.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const M0=/Mac/i.test(navigator.platform),B0=100,$0=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||M0&&n.key==="a"&&n.ctrlKey===!0);class j0 extends xt{constructor(t,s){super(t,s);D(this,"isListening",!1);D(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,s){let{line:i,event:r}=s;if(!(i instanceof gt)||!i.uiNode)return!0;const o=getComputedStyle(i.domNode).direction==="rtl";return o&&r.key!=="ArrowRight"||!o&&r.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(r.shiftKey?1:0),T.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&$0(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+B0,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const s=t.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;const i=this.quill.scroll.find(s.startContainer);if(!(i instanceof gt)||!i.uiNode)return;const r=document.createRange();r.setStartAfter(i.uiNode),r.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(r)}}T.register({"blots/block":Ce,"blots/block/embed":st,"blots/break":yt,"blots/container":Sn,"blots/cursor":as,"blots/embed":ml,"blots/inline":Lt,"blots/scroll":Yn,"blots/text":bt,"modules/clipboard":wc,"modules/history":Ac,"modules/keyboard":nr,"modules/uploader":Ec,"modules/input":D0,"modules/uiNode":j0});class U0 extends vt{add(e,t){let s=0;if(t==="+1"||t==="-1"){const i=this.value(e)||0;s=t==="+1"?i+1:i-1}else typeof t=="number"&&(s=t);return s===0?(this.remove(e),!0):super.add(e,s.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const V0=new U0("indent","ql-indent",{scope:j.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Fo extends Ce{}D(Fo,"blotName","blockquote"),D(Fo,"tagName","blockquote");class zo extends Ce{static formats(e){return this.tagName.indexOf(e.tagName)+1}}D(zo,"blotName","header"),D(zo,"tagName",["H1","H2","H3","H4","H5","H6"]);class ei extends Sn{}ei.blotName="list-container";ei.tagName="OL";class ti extends Ce{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){T.register(ei)}constructor(e,t){super(e,t);const s=t.ownerDocument.createElement("span"),i=r=>{if(!e.isEnabled())return;const o=this.statics.formats(t,e);o==="checked"?(this.format("list","unchecked"),r.preventDefault()):o==="unchecked"&&(this.format("list","checked"),r.preventDefault())};s.addEventListener("mousedown",i),s.addEventListener("touchstart",i),this.attachUI(s)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}ti.blotName="list";ti.tagName="LI";ei.allowedChildren=[ti];ti.requiredContainer=ei;class Ws extends Lt{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}D(Ws,"blotName","bold"),D(Ws,"tagName",["STRONG","B"]);class Ko extends Ws{}D(Ko,"blotName","italic"),D(Ko,"tagName",["EM","I"]);class nn extends Lt{static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return Sc(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}D(nn,"blotName","link"),D(nn,"tagName","A"),D(nn,"SANITIZED_URL","about:blank"),D(nn,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Sc(n,e){const t=document.createElement("a");t.href=n;const s=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(s)>-1}class Go extends Lt{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}D(Go,"blotName","script"),D(Go,"tagName",["SUB","SUP"]);class Wo extends Ws{}D(Wo,"blotName","strike"),D(Wo,"tagName",["S","STRIKE"]);class Xo extends Lt{}D(Xo,"blotName","underline"),D(Xo,"tagName","U");class Di extends ml{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}D(Di,"blotName","formula"),D(Di,"className","ql-formula"),D(Di,"tagName","SPAN");const Fa=["alt","height","width"];class Yo extends Ye{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Fa.reduce((t,s)=>(e.hasAttribute(s)&&(t[s]=e.getAttribute(s)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return Sc(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){Fa.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}D(Yo,"blotName","image"),D(Yo,"tagName","IMG");const za=["height","width"];class Pi extends st{static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return za.reduce((t,s)=>(e.hasAttribute(s)&&(t[s]=e.getAttribute(s)),t),{})}static sanitize(e){return nn.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){za.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}D(Pi,"blotName","video"),D(Pi,"className","ql-video"),D(Pi,"tagName","IFRAME");const Is=new vt("code-token","hljs",{scope:j.INLINE});class Ut extends Lt{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(De.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,s){super(e,t,s),Is.add(this.domNode,s)}format(e,t){e!==Ut.blotName?super.format(e,t):t?Is.add(this.domNode,t):(Is.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Is.value(this.domNode)||this.unwrap()}}Ut.blotName="code-token";Ut.className="ql-token";class nt extends De{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Ut.blotName,!1),super.replaceWith(e,t)}}class Ms extends Tn{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===nt.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(e,t)}))}formatAt(e,t,s,i){s===nt.blotName&&(this.forceNext=!0),super.formatAt(e,t,s,i)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,r=nt.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const o=this.children.reduce((a,c)=>a.concat(ac(c,!1)),new B),l=e(i,r);o.diff(l).reduce((a,c)=>{let{retain:p,attributes:f}=c;return p?(f&&Object.keys(f).forEach(d=>{[nt.blotName,Ut.blotName].includes(d)&&this.formatAt(a,p,d,f[d])}),a+p):a},0)}this.cachedText=i,this.forceNext=!1}}html(e,t){const[s]=this.children.find(e);return`<pre data-language="${s?nt.formats(s.domNode):"plain"}">
${tr(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=nt.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Ms.allowedChildren=[nt];nt.requiredContainer=Ms;nt.allowedChildren=[Ut,as,bt,yt];const H0=(n,e,t)=>{if(typeof n.versionString=="string"){const s=n.versionString.split(".")[0];if(parseInt(s,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class Tc extends xt{static register(){T.register(Ut,!0),T.register(nt,!0),T.register(Ms,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,i)=>{let{key:r}=i;return s[r]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(T.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Ms))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:i,label:r}=s;const o=t.ownerDocument.createElement("option");o.textContent=r,o.setAttribute("value",i),t.appendChild(o)}),t.addEventListener("change",()=>{e.format(nt.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=nt.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(T.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(T.sources.USER);const s=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Ms):[e]).forEach(r=>{r.highlight(this.highlightBlot,t)}),this.quill.update(T.sources.SILENT),s!=null&&this.quill.setSelection(s,T.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return tr(e).split(`
`).reduce((i,r,o)=>(o!==0&&i.insert(`
`,{[De.blotName]:t}),i.insert(r)),new B);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(De.className),s.innerHTML=H0(this.options.hljs,t,e),kl(this.quill.scroll,s,[(i,r)=>{const o=Is.value(i);return o?r.compose(new B().retain(r.length(),{[Ut.blotName]:o})):r}],[(i,r)=>i.data.split(`
`).reduce((o,l,a)=>(a!==0&&o.insert(`
`,{[De.blotName]:t}),o.insert(l)),r)],new WeakMap)}}Tc.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const $s=class $s extends Ce{static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",Al()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===$s.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};D($s,"blotName","table"),D($s,"tagName","TD");let ft=$s;class Vt extends Sn{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),s=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===s.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const s=t.formats(),i=t.next.formats();if(s.table!==i.table){const r=this.splitAfter(t);r&&r.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}D(Vt,"blotName","table-row"),D(Vt,"tagName","TR");class Ct extends Sn{}D(Ct,"blotName","table-body"),D(Ct,"tagName","TBODY");class cs extends Sn{balanceCells(){const e=this.descendants(Vt),t=e.reduce((s,i)=>Math.max(i.children.length,s),0);e.forEach(s=>{new Array(t-s.children.length).fill(0).forEach(()=>{let i;s.children.head!=null&&(i=ft.formats(s.children.head.domNode));const r=this.scroll.create(ft.blotName,i);s.appendChild(r),r.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Ct);t==null||t.children.head==null||t.children.forEach(s=>{const i=s.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[t]=this.descendant(Ct);t==null||t.children.head==null||t.children.forEach(s=>{const i=s.children.at(e),r=ft.formats(s.children.head.domNode),o=this.scroll.create(ft.blotName,r);s.insertBefore(o,i)})}insertRow(e){const[t]=this.descendant(Ct);if(t==null||t.children.head==null)return;const s=Al(),i=this.scroll.create(Vt.blotName);t.children.head.children.forEach(()=>{const o=this.scroll.create(ft.blotName,s);i.appendChild(o)});const r=t.children.at(e);t.insertBefore(i,r)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}D(cs,"blotName","table-container"),D(cs,"tagName","TABLE");cs.allowedChildren=[Ct];Ct.requiredContainer=cs;Ct.allowedChildren=[Vt];Vt.requiredContainer=Ct;Vt.allowedChildren=[ft];ft.requiredContainer=Vt;function Al(){return`row-${Math.random().toString(36).slice(2,6)}`}class F0 extends xt{static register(){T.register(ft),T.register(Vt),T.register(Ct),T.register(cs)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(cs).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(T.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(T.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(T.sources.USER),this.quill.setSelection(t,T.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,s]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==ft.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,s]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[s,i,r]=this.getTable(t);if(r==null)return;const o=r.cellOffset();s.insertColumn(o+e),this.quill.update(T.sources.USER);let l=i.rowOffset();e===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,T.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[s,i,r]=this.getTable(t);if(r==null)return;const o=i.rowOffset();s.insertRow(o+e),this.quill.update(T.sources.USER),e>0?this.quill.setSelection(t,T.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,T.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const s=this.quill.getSelection();if(s==null)return;const i=new Array(e).fill(0).reduce(r=>{const o=new Array(t).fill(`
`).join("");return r.insert(o,{table:Al()})},new B().retain(s.index));this.quill.updateContents(i,T.sources.USER),this.quill.setSelection(s.index,T.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(T.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(T.events.TEXT_CHANGE,(s,i,r)=>{r===T.sources.USER&&this.balanceTables()}),!0):!1)})}}const Ka=Ft("quill:toolbar");class El extends xt{constructor(e,t){var s,i;if(super(e,t),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),z0(r,this.options.container),(i=(s=e.container)==null?void 0:s.parentNode)==null||i.insertBefore(r,e.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Ka.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{var l;const o=(l=this.options.handlers)==null?void 0:l[r];o&&this.addHandler(r,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(T.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){Ka.warn("ignoring attaching to nonexistent format",t,e);return}const s=e.tagName==="SELECT"?"change":"click";e.addEventListener(s,i=>{let r;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const l=e.options[e.selectedIndex];l.hasAttribute("selected")?r=!1:r=l.value||!1}else e.classList.contains("ql-active")?r=!1:r=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,r);else if(this.quill.scroll.query(t).prototype instanceof Ye){if(r=prompt(`Enter ${t}`),!r)return;this.quill.updateContents(new B().retain(o.index).delete(o.length).insert({[t]:r}),T.sources.USER)}else this.quill.format(t,r,T.sources.USER);this.update(o)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(s=>{const[i,r]=s;if(r.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(t[i]==null)o=r.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=r.querySelector(`option[value="${l}"]`)}o==null?(r.value="",r.selectedIndex=-1):o.selected=!0}else if(e==null)r.classList.remove("ql-active"),r.setAttribute("aria-pressed","false");else if(r.hasAttribute("value")){const o=t[i],l=o===r.getAttribute("value")||o!=null&&o.toString()===r.getAttribute("value")||o==null&&!r.getAttribute("value");r.classList.toggle("ql-active",l),r.setAttribute("aria-pressed",l.toString())}else{const o=t[i]!=null;r.classList.toggle("ql-active",o),r.setAttribute("aria-pressed",o.toString())}})}}El.DEFAULTS={};function Ga(n,e,t){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${e}`),s.setAttribute("aria-pressed","false"),t!=null?(s.value=t,s.setAttribute("aria-label",`${e}: ${t}`)):s.setAttribute("aria-label",e),n.appendChild(s)}function z0(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const s=document.createElement("span");s.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")Ga(s,i);else{const r=Object.keys(i)[0],o=i[r];Array.isArray(o)?K0(s,r,o):Ga(s,r,o)}}),n.appendChild(s)})}function K0(n,e,t){const s=document.createElement("select");s.classList.add(`ql-${e}`),t.forEach(i=>{const r=document.createElement("option");i!==!1?r.setAttribute("value",String(i)):r.setAttribute("selected","selected"),s.appendChild(r)}),n.appendChild(s)}El.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,j.INLINE)!=null&&this.quill.format(t,!1,T.sources.USER)})}else this.quill.removeFormat(n.index,n.length,T.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",T.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,T.sources.USER),this.quill.format("direction",n,T.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),s=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",s+i,T.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,T.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,T.sources.USER):this.quill.format("list","unchecked",T.sources.USER):this.quill.format("list",n,T.sources.USER)}}};const G0='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',W0='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',X0='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Y0='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',Z0='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',Q0='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',J0='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',ey='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Wa='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',ty='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',ny='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',sy='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',iy='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',ry='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',oy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',ly='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',ay='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',uy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',cy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',py='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',hy='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',dy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',fy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',gy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',my='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',by='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',vy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',yy='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',xy='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',_y='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',wy='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',ky='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Ay='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Xs={align:{"":G0,center:W0,right:X0,justify:Y0},background:Z0,blockquote:Q0,bold:J0,clean:ey,code:Wa,"code-block":Wa,color:ty,direction:{"":ny,rtl:sy},formula:iy,header:{1:ry,2:oy,3:ly,4:ay,5:uy,6:cy},italic:py,image:hy,indent:{"+1":dy,"-1":fy},link:gy,list:{bullet:my,check:by,ordered:vy},script:{sub:yy,super:xy},strike:_y,table:wy,underline:ky,video:Ay},Ey='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Xa=0;function Ya(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class sr{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Ya(this.label,"aria-expanded"),Ya(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const s=e.getAttribute("value");return s&&t.setAttribute("data-value",s),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Ey,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Xa}`,Xa+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const s=this.buildItem(t);e.appendChild(s),t.selected===!0&&this.selectItem(s)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");e!==s&&(s!=null&&s.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class Nc extends sr{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const s=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=i:s.style.fill=i)}}let Cc=class extends sr{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=t[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const s=e||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}};const Sy=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class Oc{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Sy(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,s=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect();let o=0;if(r.right>i.right&&(o=i.right-r.right,this.root.style.left=`${t+o}px`),r.left<i.left&&(o=i.left-r.left,this.root.style.left=`${t+o}px`),r.bottom>i.bottom){const l=r.bottom-r.top,a=e.bottom-e.top+l;this.root.style.top=`${s-a}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Ty=[!1,"center","right","justify"],Ny=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Cy=[!1,"serif","monospace"],Oy=["1","2","3",!1],Ly=["small",!1,"large","huge"];class ni extends us{constructor(e,t){super(e,t);const s=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(r=>{r.container.contains(i.target)||r.close()})};e.emitter.listenDOM("click",document.body,s)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(r=>{if(r.startsWith("ql-")&&(r=r.slice(3),t[r]!=null))if(r==="direction")s.innerHTML=t[r][""]+t[r].rtl;else if(typeof t[r]=="string")s.innerHTML=t[r];else{const o=s.value||"";o!=null&&t[r][o]&&(s.innerHTML=t[r][o])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Os(i,Ty),typeof t.align=="object"))return new Cc(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const r=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Os(i,Ny,r==="background"?"#ffffff":"#000000"),new Nc(i,t[r])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Os(i,Cy):i.classList.contains("ql-header")?Os(i,Oy):i.classList.contains("ql-size")&&Os(i,Ly)),new sr(i)});const s=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(M.events.EDITOR_CHANGE,s)}}ni.DEFAULTS=sn({},us.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Lc extends Oc{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,M.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,M.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=Iy(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const s=t.index+t.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),e,M.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",M.sources.USER),this.quill.setSelection(s+2,M.sources.USER)}break}}this.textbox.value="",this.hide()}}function Iy(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Os(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(s=>{const i=document.createElement("option");s===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(s)),n.appendChild(i)})}const qy=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Ic extends Lc{constructor(e,t){super(e,t),this.quill.on(M.events.EDITOR_CHANGE,(s,i,r,o)=>{if(s===M.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&o===M.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const a=this.quill.getBounds(i);a!=null&&this.position(a)}else{const a=l[l.length-1],c=this.quill.getIndex(a),p=Math.min(a.length()-1,i.index+i.length-c),f=this.quill.getBounds(new wn(c,p));f!=null&&this.position(f)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(M.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",t!==0&&(s.style.marginLeft=`${-1*t-s.offsetWidth/2}px`),t}}D(Ic,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class qc extends ni{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=qy),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new Ic(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Xs),this.buildPickers(e.container.querySelectorAll("select"),Xs))}}qc.DEFAULTS=sn({},ni.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,T.sources.USER)}}}}});const Ry=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Rc extends Lc{constructor(){super(...arguments);D(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const s=this.linkRange;this.restoreFocus(),this.quill.formatText(s,"link",!1,M.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(M.events.SELECTION_CHANGE,(t,s,i)=>{if(t!=null){if(t.length===0&&i===M.sources.USER){const[r,o]=this.quill.scroll.descendant(nn,t.index);if(r!=null){this.linkRange=new wn(t.index-o,r.length());const l=nn.formats(r.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const a=this.quill.getBounds(this.linkRange);a!=null&&this.position(a);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}D(Rc,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Dc extends ni{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=Ry),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Xs),this.buildPickers(e.container.querySelectorAll("select"),Xs),this.tooltip=new Rc(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,s)=>{e.handlers.link.call(e,!s.format.link)}))}}Dc.DEFAULTS=sn({},ni.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:s}=this.quill.theme;s.edit("link",t)}else this.quill.format("link",!1,T.sources.USER)}}}}});T.register({"attributors/attribute/direction":fc,"attributors/class/align":pc,"attributors/class/background":Qv,"attributors/class/color":Zv,"attributors/class/direction":gc,"attributors/class/font":vc,"attributors/class/size":xc,"attributors/style/align":hc,"attributors/style/background":yl,"attributors/style/color":vl,"attributors/style/direction":mc,"attributors/style/font":yc,"attributors/style/size":_c},!0);T.register({"formats/align":pc,"formats/direction":gc,"formats/indent":V0,"formats/background":yl,"formats/color":vl,"formats/font":vc,"formats/size":xc,"formats/blockquote":Fo,"formats/code-block":De,"formats/header":zo,"formats/list":ti,"formats/bold":Ws,"formats/code":xl,"formats/italic":Ko,"formats/link":nn,"formats/script":Go,"formats/strike":Wo,"formats/underline":Xo,"formats/formula":Di,"formats/image":Yo,"formats/video":Pi,"modules/syntax":Tc,"modules/table":F0,"modules/toolbar":El,"themes/bubble":qc,"themes/snow":Dc,"ui/icons":Xs,"ui/picker":sr,"ui/icon-picker":Cc,"ui/color-picker":Nc,"ui/tooltip":Oc},!0);const Dy={props:{returnData:Function,value:String},data(){return{option:this.value,quillEditor:"",variableTrigger:!1}},watch:{value:{handler(){this.updating||(this.option=this.value,this.quillEditor?this.quillEditor.root.innerHTML=this.option:this.startEditor())}}},mounted(){this.startEditor()},methods:{returnStylePath(){return this.uipApp.litePath+"assets/css/modules/uip-quill.css"},startEditor(){const n=this.$refs.uipeditor;this.quillEditor=new T(n,{theme:"snow"}),this.quillEditor.on("text-change",this.handleTextChange),this.quillEditor.root.innerHTML=this.option},async handleTextChange(n,e,t){this.updating=!0,this.returnData(this.quillEditor.root.innerHTML),await this.$nextTick(),this.updating=!1}}},Py={class:"uip-flex uip-flex-column uip-min-h-200 uip-w-100p uip-gap-xs"},My={ref:"uipeditor",class:"uip-h-100p uip-w-100p"};function By(n,e,t,s,i,r){return _(),k("div",Py,[(_(),he(ss("style"),null,{default:Y(()=>[rn(" @import '"+C(r.returnStylePath())+"'; ",1)]),_:1})),m("div",My,null,512)])}const $y=J(Dy,[["render",By]]),{__:Un}=wp.i18n,jy={props:{returnData:Function,value:Object},data(){return{open:!1,input:this.returnDefaultOptions,dynamics:this.uipApp.data.dynamicOptions,strings:{dynamicData:Un("Dynamic data","uipress-lite"),currentValue:Un("Current value","uipress-lite"),select:Un("select","uipress-lite"),dataPos:Un("Dynamic data position","uipress-lite")},positionOptions:{left:{label:Un("Left","uipress-lite"),value:"left",placeHolder:""},right:{label:Un("Right","uipress-lite"),value:"right",placeHolder:""}}}},watch:{value:{handler(n,e){this.updating||this.injectProp()},deep:!0,immediate:!0},input:{handler(n,e){if(this.updating)return;const t={string:this.input.string,dynamic:this.input.dynamic,dynamicKey:this.input.dynamicKey,dynamicPos:this.input.dynamicPos,dynamicType:"text"};this.returnData(t)},deep:!0}},computed:{returnDefaultOptions(){return{string:"",dynamicPos:"left"}}},methods:{async injectProp(){this.updating=!0;const n=this.returnDefaultOptions,e=this.isObject(this.value)?this.value:{};this.input={...n,...e},await Fi(),this.updating=!1},chooseItem(n){n.key!=this.input.dynamicKey&&(this.input.dynamic=!0,this.input.dynamicKey=n.key,this.returnData({string:this.input.string,dynamic:this.input.dynamic,dynamicKey:this.input.dynamicKey,dynamicPos:this.input.dynamicPos}))},removeDynamicItem(){this.input.dynamic=!1,this.input.dynamicKey="",this.returnData({string:this.input.string,dynamic:this.input.dynamic,dynamicKey:this.input.dynamicKey,dynamicPos:this.input.dynamicPos})}}},Uy={class:"uip-flex uip-gap-xxs uip-w-100p uip-flex-wrap"},Vy={class:"uip-padding-xs uip-max-w-260"},Hy={class:"uip-flex uip-flex-wrap uip-flex-start uip-gap-xs uip-row-gap-xs uip-w-250 uip-max-h-200 uip-scrollbar uip-overflow-auto"},Fy={class:""},zy={class:"uip-text-s uip-text-bold"},Ky={class:"uip-text-xs uip-text-muted"},Gy=["onClick"],Wy={key:1,class:"uip-w-100p"},Xy={class:"uip-text-s uip-text-muted uip-margin-bottom-xxs uip-margin-top-xs"};function Yy(n,e,t,s,i,r){const o=P("AppIcon"),l=P("dropdown"),a=P("toggle-switch");return _(),k("div",Uy,[i.input.dynamic?(_(),he(l,{key:0,pos:"left center",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[m("span",{class:Ke(["uip-border-rounder uip-text-l uip-flex uip-icon uip-padding-xxxs uip-text-center uip-link-default uip-background-muted",{"uip-background-primary uip-text-inverse":this.input.dynamic}])}," database ",2)]),content:Y(()=>[m("div",Vy,[m("div",Hy,[(_(!0),k(le,null,be(i.dynamics,c=>(_(),k(le,null,[c.type=="text"?(_(),k("div",{key:0,class:Ke(["uip-border-round hover:uip-background-muted uip-border-round uip-padding-xxs uip-flex uip-flex-between uip-flex-center uip-flex-middle uip-cursor-pointer uip-w-100p",{"uip-background-primary-wash":this.input.dynamicKey==c.key}])},[m("div",Fy,[m("div",zy,C(c.label),1),m("div",Ky,C(i.strings.currentValue+": "+c.value),1)]),this.input.dynamicKey==c.key?(_(),k("span",{key:0,onClick:e[0]||(e[0]=p=>r.removeDynamicItem()),class:"uip-padding-xxs uip-border-round uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center"},[O(o,{icon:"delete",class:"uip-icon"})])):(_(),k("span",{key:1,onClick:p=>r.chooseItem(c),class:"uip-padding-xxs uip-border-round uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center"},C(i.strings.select),9,Gy))],2)):z("",!0)],64))),256))])])]),_:1})):z("",!0),Z(m("input",{type:"text",class:"uip-input-small uip-border-left-remove uip-flex-grow","onUpdate:modelValue":e[1]||(e[1]=c=>i.input.string=c)},null,512),[[ne,i.input.string]]),i.input.dynamic?(_(),k("div",Wy,[m("div",Xy,C(i.strings.dataPos),1),m("div",null,[O(a,{options:i.positionOptions,activeValue:i.input.dynamicPos,returnValue:function(c){i.input.dynamicPos=c}},null,8,["options","activeValue","returnValue"])])])):z("",!0)])}const Zy=J(jy,[["render",Yy]]),Qy={methods:{doesBrowserSupportPassiveScroll(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{n=!1}return n}}},Jy={mixins:[Qy],props:{allItems:{type:Array,required:!0},containerClass:{type:String,required:!1},rootHeight:{type:Number,required:!1,default:300},startRowHeight:{type:Number,required:!1,default:10},perRow:{type:Number,required:!1,default:1}},data(){return{scrollTop:0,nodePadding:20,rowHeight:this.startRowHeight}},computed:{viewportHeight(){return this.itemCount*this.rowHeight},startIndex(){let n=Math.floor(this.scrollTop/this.rowHeight)-this.nodePadding;return Math.max(0,n)},visibleNodeCount(){let n=Math.ceil(this.rootHeight/this.rowHeight)+2*this.nodePadding;return Math.min(this.itemCount-this.startIndex,n)},visibleItems(){return this.allItems.slice(this.startIndex*this.perRow,(this.startIndex+this.visibleNodeCount)*this.perRow)},itemCount(){return Math.ceil(this.allItems.length/this.perRow)},offsetY(){return this.startIndex*this.rowHeight},spacerStyle(){return{transform:`translateY(${this.offsetY}px)`}},viewportStyle(){return{overflow:"hidden",height:`${this.viewportHeight}px`,position:"relative"}},rootStyle(){return{height:`${this.rootHeight}px`,overflow:"auto"}}},methods:{handleScroll(n){this.scrollTop=this.$refs.root.scrollTop},calculateInitialRowHeight(){const n=this.$refs.spacer.children;return!n||!n.length?this.startRowHeight:n[0].getBoundingClientRect().height}},async mounted(){await this.$nextTick();const n=this.calculateInitialRowHeight();this.rowHeight=n||this.startRowHeight;const e=this.doesBrowserSupportPassiveScroll()?{passive:!0}:!1;this.$refs.root.addEventListener("scroll",this.handleScroll,e)},beforeUnmount(){this.$refs.root.removeEventListener("scroll",this.handleScroll)}};function ex(n,e,t,s,i,r){return _(),k("div",{onScroll:e[0]||(e[0]=(...o)=>r.handleScroll&&r.handleScroll(...o)),class:"root",ref:"root",style:Qn(r.rootStyle)},[m("div",{ref:"viewport",style:Qn(r.viewportStyle)},[m("div",{class:Ke([t.containerClass,"tester"]),ref:"spacer",style:Qn(r.spacerStyle)},[(_(!0),k(le,null,be(r.visibleItems,o=>bn(n.$slots,"item",{item:o})),256))],6)],4)],36)}const tx=J(Jy,[["render",ex]]),{__:xo}=wp.i18n,nx={components:{virtualList:tx},props:{value:String,returnData:Function},data(){return{search:"",icon:this.value,icons:[],strings:{search:xo("Search","uipress-lite"),viewAllIcons:xo("View all icons on the","uipress-lite"),materialSite:xo("Material site","uipress-lite")}}},watch:{icon:{handler(){this.returnData(this.icon)}}},mounted(){this.setIcons()},computed:{returnIcons(){if(!this.search)return this.icons;const n=this.search.toLowerCase();return this.icons.filter(e=>e.toLowerCase().includes(n))}},methods:{async setIcons(){const n=await Zt(()=>import("./assets/icons-Dd8YpThO.js"),[]);this.icons=n.default}}},sx={class:"uip-flex uip-flex-column uip-row-gap-s"},ix=["placeholder"],rx=["onClick"],ox={class:"uip-flex uip-flex-column uip-row-gap-xs uip-flex-center uip-flex-middle uip-max-w-100p"},lx={class:"uip-text-muted uip-text-xs uip-max-w-100p uip-overflow-auto uip-no-wrap uip-text-ellipsis"},ax={class:"uip-text-muted uip-text-s"},ux={href:"https://fonts.google.com/icons",target:"_BLANK"};function cx(n,e,t,s,i,r){const o=P("AppIcon"),l=P("virtualList");return _(),k("div",sx,[Z(m("input",{class:"uip-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>i.search=a),placeholder:i.strings.search,autofocus:""},null,8,ix),[[ne,i.search]]),O(l,{allItems:r.returnIcons,containerClass:"uip-grid-col-3 uip-grid-gap-xs",startRowHeight:80,perRow:3},{item:Y(({item:a})=>[m("div",{class:Ke([{"uip-background-primary uip-dark-mode uip-text-inverse":i.icon==a,"uip-background-muted uip-link-default":i.icon!=a},"uip-border-rounder uip-padding-xxs uip-flex uip-flex-center uip-flex-middle uip-ratio-1-1 uip-transition-all uip-flex uip-fade-in"]),onClick:c=>i.icon=a},[m("div",ox,[O(o,{icon:a,class:"uip-icon uip-text-xl"},null,8,["icon"]),m("span",lx,C(a),1)])],10,rx)]),_:1},8,["allItems"]),m("div",ax,[rn(C(i.strings.viewAllIcons)+" ",1),m("a",ux,C(i.strings.materialSite),1)])])}const Pc=J(nx,[["render",cx]]),{__:Za}=wp.i18n,px={components:{IconPicker:Pc},props:{returnData:Function,value:Object},data(){return{updating:!1,icon:{value:""},strings:{add:Za("Add","uipress-lite"),iconSelect:Za("Icon select","uipress-lite")}}},watch:{value:{handler(){this.updating||this.injectProp()},deep:!0,immediate:!0},icon:{handler(n,e){this.updating||this.returnData(n)},deep:!0}},computed:{returnIcon(){return this.icon.value?this.icon.value:"category"}},methods:{async injectProp(n){this.updating=!0,this.icon=this.isObject(this.value)?{...this.value}:{value:""},await this.$nextTick(),this.updating=!1}}},hx={class:"uip-background-muted uip-border-rounder uip-padding-xxs uip-flex uip-flex-center uip-gap-xs uip-cursor-pointer"},dx={class:"uip-background-primary uip-text-inverse uip-border-round uip-padding-xxxs"},fx={key:0,class:"uip-text-muted uip-flex-grow"},gx={key:1,class:"uip-no-wrap uip-text-ellipsis uip-overflow-hidden uip-w-80 uip-flex-grow"},mx={class:"uip-w-240 uip-padding-s uip-flex uip-row-gap-s uip-flex-column"},bx={class:"uip-flex uip-flex-between uip-flex-center"},vx={class:"uip-text-emphasis uip-text-bold uip-text-s"};function yx(n,e,t,s,i,r){const o=P("AppIcon"),l=P("IconPicker"),a=P("dropdown");return _(),he(a,{pos:"left center",class:"uip-w-100p",ref:"iconselect",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[m("div",hx,[m("div",dx,[O(o,{icon:r.returnIcon,class:"uip-icon"},null,8,["icon"])]),i.icon.value?(_(),k("div",gx,C(i.icon.value),1)):(_(),k("div",fx,C(i.strings.add)+"...",1)),i.icon.value?(_(),k("a",{key:2,onClick:e[0]||(e[0]=We(c=>i.icon.value="",["stop","prevent"])),class:"uip-no-underline uip-border-rounder uip-padding-xxxs uip-link-muted uip-text-s"},[O(o,{icon:"close",class:"uip-icon"})])):z("",!0)])]),content:Y(()=>[m("div",mx,[m("div",bx,[m("div",vx,C(i.strings.iconSelect),1),m("div",{onClick:e[1]||(e[1]=c=>n.$refs.iconselect.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])]),O(l,{value:i.icon.value,returnData:c=>{i.icon.value=c}},null,8,["value","returnData"])])]),_:1},512)}const xx=J(px,[["render",yx]]),{__:Qa}=wp.i18n,_x={components:{IconPicker:Pc},props:{returnData:Function,value:Object},data(){return{icon:{value:""},strings:{add:Qa("Add","uipress-lite"),iconSelect:Qa("Icon select","uipress-lite")}}},watch:{icon:{handler(n,e){this.returnData(n)},deep:!0}},mounted(){this.formatIcon(this.value)},computed:{returnIcon(){return this.icon.value?this.icon.value:"category"}},methods:{formatIcon(n){this.isObject(n)&&(this.icon={...this.icon,...n})}}},wx={class:"uip-w-240 uip-padding-s uip-flex uip-row-gap-s uip-flex-column"},kx={class:"uip-flex uip-flex-between uip-flex-center"},Ax={class:"uip-text-emphasis uip-text-bold uip-text-s"};function Ex(n,e,t,s,i,r){const o=P("AppIcon"),l=P("IconPicker"),a=P("dropdown");return _(),he(a,{pos:"left center",ref:"iconselect",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[bn(n.$slots,"trigger")]),content:Y(()=>[m("div",wx,[m("div",kx,[m("div",Ax,C(i.strings.iconSelect),1),m("div",{onClick:e[0]||(e[0]=c=>n.$refs.iconselect.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])]),O(l,{value:i.icon.value,returnData:c=>{i.icon.value=c}},null,8,["value","returnData"])])]),_:3},512)}const Sx=J(_x,[["render",Ex]]),{__:Vn}=wp.i18n,Tx={props:{returnData:Function,value:[Object,String,Boolean],args:Object},data:function(){return{option:{value:!1},options:{},updating:!1}},watch:{args:{handler(n,e){this.updating||this.formatArgs()},deep:!0,immediate:!0},value:{handler(n,e){this.updating||this.formatInput()},deep:!0,immediate:!0},option:{handler(n,e){this.updating||this.returnData(this.option)},deep:!0}},computed:{enabledDisabled(){return{true:{value:!0,label:Vn("Disabled","uipress-lite")},false:{value:!1,label:Vn("Enabled","uipress-lite")}}},yesNo(){return{false:{value:!1,label:Vn("Disabled","uipress-lite")},true:{value:!0,label:Vn("Enabled","uipress-lite")}}},hideShow(){return{false:{value:!1,label:Vn("Show","uipress-lite")},true:{value:!0,label:Vn("Hide","uipress-lite")}}},returnOptions(){return this.options}},methods:{formatArgs(){if(this.options=this.yesNo,!!this.isObject(this.args)&&(this.args.options&&(this.options=this.args.options),!!this.args.type))switch(this.args.type){case"enabledDisabled":this.options=this.enabledDisabled;break;case"hideShow":this.options=this.hideShow;break}},async formatInput(){this.updating=!0;let n=this.value==!0;this.option=this.isObject(this.value)?{...this.value}:{value:n},await this.$nextTick(),this.updating=!1}}};function Nx(n,e,t,s,i,r){const o=P("toggle-switch");return _(),he(o,{class:"uip-w-100p",options:r.returnOptions,activeValue:n.option.value,returnValue:function(l){n.option.value=l}},null,8,["options","activeValue","returnValue"])}const Cx=J(Tx,[["render",Nx]]),Ox={props:{returnData:Function,value:[String,Object],args:Object},data(){return{option:null}},watch:{option:{handler(n,e){this.returnData(n)},deep:!0},value:{handler(n,e){this.option=this.value},deep:!0,immediate:!0}},computed:{returnOptions(){return this.args?!this.args.options||!Array.isArray(this.args.options)?[]:this.args.options:[]}}},Lx=["value"];function Ix(n,e,t,s,i,r){return Z((_(),k("select",{class:"uip-input uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[0]||(e[0]=o=>i.option=o)},[(_(!0),k(le,null,be(r.returnOptions,o=>(_(),k("option",{value:o.value},C(o.label),9,Lx))),256))],512)),[[Jn,i.option]])}const qx=J(Ox,[["render",Ix]]),{__:ze}=wp.i18n,Rx={props:{returnData:Function,value:Object,args:Object},data(){return{updating:!1,open:!1,link:this.returnDefault,hideLinkType:!1,adminMenu:this.uipApp.data.adminMenu.menu,dynamics:this.uipApp.data.dynamicOptions,posts:[],searchString:"",fetchSearchString:"",serverActive:!1,strings:{searchLinks:ze("Search admin pages","uipress-lite"),searchPages:ze("Search pages and posts","uipress-lite"),noneFound:ze("No posts found for current query","uipress-lite"),newTab:ze("Link mode","uipress-lite"),linkSelect:ze("Link select","uipress-lite"),currentValue:ze("Current value","uipress-lite"),select:ze("select","uipress-lite")},linkTypes:{admin:{value:"admin",label:ze("Admin","uipress-lite")},content:{value:"content",label:ze("Content","uipress-lite")}},linkModes:{default:{value:"default",label:ze("Default","uipress-lite"),placeHolder:ze("Default links load like a normal link and will refresh the whole page.")},newTab:{value:"newTab",label:ze("New tab","uipress-lite"),placeHolder:ze("New tab links open in a new browser tab.")}},activeValue:"admin"}},watch:{value:{handler(n,e){this.updating||this.injectProp()},deep:!0,immediate:!0},fetchSearchString:{handler(n,e){this.searchPosts()},deep:!0},link:{handler(n,e){this.updating||this.returnData(n)},deep:!0}},mounted(){this.formatArgs()},computed:{getPosts(){return this.posts},createOptionObject(){return{value:"",newTab:"dynamic",dynamic:!1,dynamicKey:""}},returnDefault(){return{value:"",newTab:"dynamic",dynamic:!1,dynamicKey:"",dynamicType:""}}},methods:{async injectProp(){this.updating=!0,this.link=this.isObject(this.value)?{...this.value}:this.returnDefault,await this.$nextTick(),this.updating=!1},formatArgs(){this.args&&(this.args.hideLinkType&&(this.hideLinkType=this.args.hideLinkType),this.link.dynamic&&(this.linkTypes.dynamic={value:"dynamic",label:ze("Dynamic","uipress-lite")}))},async searchPosts(){if(!this.fetchSearchString||this.serverActive)return;this.serverActive=!0;const n=this.fetchSearchString.toLowerCase();let e=new FormData;e.append("action","uip_search_posts_pages"),e.append("security",uip_ajax.security),e.append("searchStr",n);const t=await this.sendServerRequest(uip_ajax.ajax_url,e);t&&(this.posts=t.posts,this.serverActive=!1)},chooseLink(n){this.link.value=n,this.link.dynamic=!1,this.link.dynamicKey="",this.returnData(this.link)},inSearch(n){if(!this.searchString||!n[0])return!0;const e=this.searchString.toLowerCase(),t=n[0].toLowerCase(),s=n[2].toLowerCase();return!!(t.includes(e)||s.includes(e))},chooseItem(n){this.link.dynamic=!0,this.link.dynamicKey=n.key,this.link.value=n.value,this.link.dynamicType="link"},removeDynamicItem(){this.link.dynamic=!1,this.link.dynamicKey="",this.link.value="",this.link.dynamicType=""}}},Dx={class:"uip-w-100p uip-flex uip-flex-column uip-row-gap-xs"},Px={class:"uip-flex uip-gap-xxs"},Mx={class:"uip-flex uip-flex-row"},Bx={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240"},$x={class:"uip-flex uip-flex-between uip-flex-center"},jx={class:"uip-text-emphasis uip-text-bold uip-text-s"},Ux=["placeholder"],Vx={class:"uip-flex uip-flex-column uip-max-h-200",style:{overflow:"auto"}},Hx=["onClick"],Fx=["innerHTML"],zx={class:"uip-text-s uip-text-muted uip-no-wrap uip-overflow-hidden uip-text-ellipsis uip-max-w-100p"},Kx=["onClick"],Gx=["innerHTML"],Wx={class:"uip-text-s uip-text-muted uip-no-wrap uip-overflow-hidden uip-text-ellipsis uip-max-w-100p"},Xx=["placeholder"],Yx={class:"uip-flex uip-flex-column uip-max-h-200",style:{overflow:"auto"}},Zx=["onClick"],Qx={class:""},Jx={class:"uip-text-s uip-text-bold"},e_={class:"uip-text-s uip-text-muted"},t_={key:0,class:"uip-text-muted uip-text-s uip-padding-xxs"},n_={key:2,class:"uip-flex uip-flex-column uip-row-gap-xxxs uip-w-250 uip-max-h-200 uip-scrollbar uip-overflow-auto"},s_={class:""},i_={class:"uip-text-s uip-text-bold"},r_={class:"uip-text-xs uip-text-muted uip-flex uip-flex-center uip-gap-s"},o_={class:"uip-no-wrap uip-overflow-hidden uip-text-ellipsis uip-max-w-150"},l_=["onClick"],a_={key:0,class:"uip-flex uip-flex-column uip-row-gap-xxxs"};function u_(n,e,t,s,i,r){const o=P("AppIcon"),l=P("toggle-switch"),a=P("dropdown");return _(),k("div",Dx,[m("div",Px,[O(a,{pos:"left center",ref:"linkselect",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[m("div",Mx,[m("div",{class:Ke(["uip-border-rounder uip-text-l uip-flex uip-icon uip-padding-xxxs uip-text-center uip-link-default uip-background-muted",{"uip-background-primary uip-text-inverse":i.link.dynamic}])},[O(o,{icon:"link"})],2)])]),content:Y(()=>[m("div",Bx,[m("div",$x,[m("div",jx,C(i.strings.linkSelect),1),m("div",{onClick:e[0]||(e[0]=We(c=>n.$refs.linkselect.close(),["prevent","stop"])),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])]),O(l,{options:i.linkTypes,activeValue:i.activeValue,returnValue:function(c){i.activeValue=c}},null,8,["options","activeValue","returnValue"]),i.activeValue=="admin"?(_(),k(le,{key:0},[Z(m("input",{type:"text",class:"uip-input-small uip-w-100p","onUpdate:modelValue":e[1]||(e[1]=c=>i.searchString=c),placeholder:i.strings.searchLinks},null,8,Ux),[[ne,i.searchString]]),m("div",Vx,[(_(!0),k(le,null,be(i.adminMenu,(c,p)=>(_(),k(le,null,[c[0]!=""&&r.inSearch(c)?(_(),k("div",{key:0,class:"uip-border-round hover:uip-background-muted uip-border-round uip-padding-xxs uip-flex uip-cursor-pointer uip-w-100p uip-flex uip-flex-column uip-flex-no-wrap",onClick:f=>r.chooseLink(c[2])},[m("div",{class:"uip-text-s uip-text-bold",innerHTML:c[0]},null,8,Fx),m("div",zx,C(c[2]),1)],8,Hx)):z("",!0),c.submenu?(_(!0),k(le,{key:1},be(c.submenu,f=>(_(),k(le,null,[f[0]!=""&&r.inSearch(f)?(_(),k("div",{key:0,class:"uip-border-round hover:uip-background-muted uip-border-round uip-padding-xxs uip-flex uip-cursor-pointer uip-w-100p uip-flex uip-flex-column uip-flex-no-wrap",onClick:d=>r.chooseLink(f[2])},[m("div",{class:"uip-text-s uip-text-bold",innerHTML:f[0]},null,8,Gx),m("div",Wx,C(f[2]),1)],8,Kx)):z("",!0)],64))),256)):z("",!0)],64))),256))])],64)):z("",!0),i.activeValue=="content"?(_(),k(le,{key:1},[Z(m("input",{type:"text",class:"uip-input-small uip-w-100p","onUpdate:modelValue":e[2]||(e[2]=c=>i.fetchSearchString=c),placeholder:i.strings.searchPages},null,8,Xx),[[ne,i.fetchSearchString]]),m("div",Yx,[(_(!0),k(le,null,be(r.getPosts,c=>(_(),k("div",{class:"uip-border-round hover:uip-background-muted uip-border-round uip-padding-xxs uip-flex uip-cursor-pointer",onClick:p=>r.chooseLink(c.link)},[m("div",Qx,[m("div",Jx,C(c.name),1),m("div",e_,C(c.link),1)])],8,Zx))),256)),i.posts.length<1&&i.fetchSearchString!=""?(_(),k("div",t_,C(i.strings.noneFound),1)):z("",!0)])],64)):z("",!0),i.activeValue=="dynamic"&&i.link.dynamic?(_(),k("div",n_,[(_(!0),k(le,null,be(i.dynamics,c=>(_(),k(le,null,[c.type=="link"?(_(),k("div",{key:0,class:Ke(["uip-border-round hover:uip-background-muted uip-border-round uip-padding-xxs uip-flex uip-flex-between uip-flex-center uip-flex-middle uip-cursor-pointer",{"uip-background-primary-wash":i.link.dynamicKey==c.key}])},[m("div",s_,[m("div",i_,C(c.label),1),m("div",r_,[m("span",o_,C(c.value),1)])]),i.link.dynamicKey==c.key?(_(),k("span",{key:0,onClick:e[3]||(e[3]=p=>r.removeDynamicItem()),class:"uip-padding-xxs uip-border-round uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center"},[O(o,{icon:"delete",class:"uip-icon"})])):(_(),k("span",{key:1,onClick:p=>r.chooseItem(c),class:"uip-padding-xxs uip-border-round uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center"},C(i.strings.select),9,l_))],2)):z("",!0)],64))),256))])):z("",!0)])]),_:1},512),Z(m("input",{type:"text",class:"uip-input-small uip-flex-grow","onUpdate:modelValue":e[4]||(e[4]=c=>i.link.value=c)},null,512),[[ne,i.link.value]])]),!i.hideLinkType&&i.link.value!=""?(_(),k("div",a_,[O(l,{options:i.linkModes,activeValue:i.link.newTab,returnValue:function(c){i.link.newTab=c}},null,8,["options","activeValue","returnValue"])])):z("",!0)])}const c_=J(Rx,[["render",u_]]),{__:Ja}=wp.i18n,p_={props:{returnData:Function,value:Object},data(){return{tabs:[],strings:{addNew:Ja("New tab","uipress-lite")}}},watch:{tabs:{handler(n,e){this.returnData({tabs:this.tabs})},deep:!0}},computed:{returnTabs(){return this.tabs}},mounted(){this.injectValue()},methods:{injectValue(){this.isObject(this.value)&&Array.isArray(this.value)&&(this.tabs=this.value.tabs)},deleteTab(n){this.tabs.splice(n,1)},newTab(){this.tabs.push({name:Ja("Tab","uipress-lite"),id:""})}}},h_={class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p"},d_=["onUpdate:modelValue"];function f_(n,e,t,s,i,r){const o=P("AppIcon"),l=P("VueDraggableNext");return _(),k("div",h_,[i.tabs.length?(_(),he(l,{key:0,class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p",group:{name:"tabs",pull:!1,put:!1},list:i.tabs,animation:"300",itemKey:"id",sort:!0,handle:".uip-cursor-drag"},{default:Y(()=>[(_(!0),k(le,null,be(i.tabs,(a,c)=>(_(),k("div",{key:c,class:"uip-flex uip-gap-xxs uip-flex-center"},[O(o,{icon:"drag_indicator",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-cursor-drag"}),Z(m("input",{type:"text","onUpdate:modelValue":p=>a.name=p,class:"uip-input-small uip-flex-grow"},null,8,d_),[[ne,a.name]]),O(o,{onClick:p=>r.deleteTab(c),icon:"close",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted"},null,8,["onClick"])]))),128))]),_:1},8,["list"])):z("",!0),m("div",{onClick:e[0]||(e[0]=a=>r.newTab()),class:"uip-padding-xxs uip-border-rounder uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center uip-gap-xs"},[O(o,{icon:"add",class:"uip-icon"})])])}const g_=J(p_,[["render",f_]]),{__:eu}=wp.i18n,m_={props:{returnData:Function,value:Array},data(){return{toolbar:this.uipApp.data.toolbar,selected:[],strings:{selectItems:eu("Hidden toolbar items","uipress-lite"),searchItems:eu("Search toolbar items","uipress-lite")}}},watch:{selected:{handler(n,e){this.returnData(this.selected)},deep:!0}},mounted(){this.formatInput()},computed:{returnFormattedToolbar(){const n=[];for(const e in this.toolbar){const t=this.toolbar[e];if(t&&(n.push({name:t.id,label:this.removeHTMLTags(t.id)}),!!t.submenu&&t.submenu.length))for(const s of t.submenu)n.push({name:s.id,label:this.removeHTMLTags(s.id)})}return n}},methods:{formatInput(){this.value&&Array.isArray(this.value)&&(this.selected=this.value)},removeHTMLTags(n){return!n||typeof n!="string"?"":n.replace(/<[^>]*>?/gm,"")}}};function b_(n,e,t,s,i,r){const o=P("multi-select");return _(),he(o,{metaKey:"url",selected:i.selected,availableOptions:r.returnFormattedToolbar,placeHolder:i.strings.selectItems,searchPlaceHolder:i.strings.searchItems,single:!1,updateSelected:function(l){i.selected=l}},null,8,["selected","availableOptions","placeHolder","searchPlaceHolder","updateSelected"])}const v_=J(m_,[["render",b_]]),{__:y_}=wp.i18n,x_={props:{returnData:Function,value:Object},data(){return{toolbar:this.uipApp.data.toolbar,selected:{},updating:!1,strings:{renameItem:y_("Rename item","uipress-lite")}}},watch:{value:{handler(n,e){this.updating||this.formatInput()},deep:!0,immediate:!0},selected:{handler(n,e){this.updating||this.returnData(this.selected)},deep:!0}},methods:{async formatInput(){this.updating=!0,this.selected=this.isObject(this.value)?{...this.value}:{},await this.$nextTick(),this.updating=!1},returnIcon(n){return this.selected[n]?this.selected[n].icon:""},setItemData(n){this.selected[n]={icon:"",title:""}},returnIconPreview(n){const e=this.returnIcon(n);return e||"favorite"},returnTitle(n){return this.selected[n]?this.selected[n].title:""},setIcon(n,e){n in this.selected||this.setItemData(n),this.selected[n].icon=e.value}}},__={class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p"},w_={class:"uip-flex uip-flex-row uip-gap-xs uip-w-100p"};function k_(n,e,t,s,i,r){const o=P("AppIcon"),l=P("inline-icon-select"),a=P("uip-input");return _(),k("div",__,[(_(!0),k(le,null,be(i.toolbar,c=>(_(),k("div",w_,[O(l,{value:{value:r.returnIcon(c.id)},returnData:p=>{r.setIcon(c.id,p)}},{trigger:Y(()=>[O(o,{icon:r.returnIconPreview(c.id),class:"uip-icon uip-text-l uip-padding-xxxs uip-background-muted uip-border-rounder"},null,8,["icon"])]),_:2},1032,["value","returnData"]),O(a,{value:r.returnTitle(c.id),returnData:function(p){i.selected[c.id].title=p},placeHolder:c.id,class:"uip-flex-grow"},null,8,["value","returnData","placeHolder"])]))),256))])}const A_=J(x_,[["render",k_]]),{__:tu}=wp.i18n,E_={props:{returnData:Function,value:Array,args:Object},data(){return{options:this.args.options,selected:[],strings:{selectItems:tu("Selected items","uipress-lite"),searchItems:tu("Search items","uipress-lite")}}},watch:{value:{handler(n,e){this.formatInput()},deep:!0,immediate:!0},selected:{handler(n,e){this.returnData(this.selected)},deep:!0}},methods:{formatInput(){this.value&&Array.isArray(this.value)&&(this.selected=this.value)}}};function S_(n,e,t,s,i,r){const o=P("multi-select");return _(),he(o,{selected:i.selected,availableOptions:i.options,placeHolder:i.strings.selectItems,searchPlaceHolder:i.strings.searchItems,single:!1,updateSelected:l=>{i.selected=l}},null,8,["selected","availableOptions","placeHolder","searchPlaceHolder","updateSelected"])}const T_=J(E_,[["render",S_]]),{__:_e}=wp.i18n,N_={props:{returnData:Function,value:Object},data(){return{option:{},submitOptions:[{label:_e("Email","uipress-lite"),name:"email"},{label:_e("Save as site option","uipress-lite"),name:"siteOption"},{label:_e("Save as user meta","uipress-lite"),name:"userMeta"},{label:_e("Send to PHP function","uipress-lite"),name:"phpFunction"}],userMetaOptions:[{label:_e("Individual keys","uipress-lite"),name:"single"},{label:_e("Group object","uipress-lite"),name:"object"}],strings:{pixels:_e("Pixels","uipress-lite"),submitType:_e("Submit type","uipress-lite"),functionName:_e("PHP function","uipress-lite"),siteOptionName:_e("Option name","uipress-lite"),recipientEmail:_e("Recipient email","uipress-lite"),emailSubject:_e("Email subject","uipress-lite"),emailTemplate:_e("Email template","uipress-lite"),templateDescription:_e("Use form values in the email template by using {{meta_keys}} set inside from input blocks","uipress-lite"),siteOptionDescription:_e("The form data will be saved as an object to your database using the function update_site_option(). You will then be able to access your data using the function get_site_option('your_option_key')","uipress-lite"),saveAs:_e("Save as","uipress-lite"),metaKey:_e("Meta key","uipress-lite"),redirectAfterSubmission:_e("Submission redirect","uipress-lite"),action:_e("Action","uipress-lite")}}},watch:{option:{handler(n,e){this.returnData(this.option)},deep:!0}},mounted(){this.parseInput()},methods:{parseInput(){this.option=this.isObject(this.value)?{...this.value}:{}}}},C_={class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p"},O_={class:"uip-grid-col-1-3"},L_={class:"uip-text-muted uip-flex uip-gap-xxs uip-flex-center uip-text-s"},I_=["value"],q_={key:0,class:"uip-grid-col-1-3"},R_={class:"uip-text-muted uip-text-s uip-flex uip-flex-center"},D_={key:1,class:"uip-grid-col-1-3"},P_={class:"uip-text-muted uip-text-s uip-flex uip-flex-center"},M_={class:""},B_=["value"],$_={class:"uip-text-muted uip-text-s"},j_={class:"uip-margin-bottom-xs"},U_={key:2,class:"uip-grid-col-1-3"},V_={class:"uip-text-muted uip-flex uip-gap-xxs uip-flex-center"},H_={class:"uip-text-s"},F_={class:""},z_={class:"uip-grid-col-1-3"},K_={class:"uip-text-muted uip-margin-bottom-xx uip-text-s uip-flex uip-flex-center"},G_={class:"uip-grid-col-1-3"},W_={class:"uip-text-muted uip-text-s"},X_={class:""},Y_={class:"uip-text-muted uip-margin-bottom-xs uip-flex uip-gap-xs uip-flex-center"},Z_={class:"uip-text-s"},Q_={class:"uip-margin-bottom-xs"},J_={class:"uip-grid-col-1-3"},ew={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},tw={class:""};function nw(n,e,t,s,i,r){const o=P("uip-input"),l=P("AppIcon"),a=P("uip-tooltip"),c=P("uip-paragraph-input"),p=P("link-select");return _(),k("div",C_,[m("div",O_,[m("div",L_,C(i.strings.action),1),Z(m("select",{class:"uip-input uip-padding-top-xxxs uip-padding-bottom-xxxs uip-w-100p","onUpdate:modelValue":e[0]||(e[0]=f=>i.option.action=f)},[(_(!0),k(le,null,be(i.submitOptions,f=>(_(),k("option",{value:f.name},C(f.label),9,I_))),256))],512),[[Jn,i.option.action]])]),i.option.action=="phpFunction"?(_(),k("div",q_,[m("div",R_,[m("span",null,C(i.strings.functionName),1)]),Z(m("input",{type:"text",class:"uip-input","onUpdate:modelValue":e[1]||(e[1]=f=>i.option.phpFunction=f)},null,512),[[ne,i.option.phpFunction]])])):z("",!0),i.option.action=="userMeta"?(_(),k("div",D_,[m("div",P_,[m("span",null,C(i.strings.saveAs),1)]),m("div",M_,[Z(m("select",{class:"uip-input uip-padding-top-xxxs uip-padding-bottom-xxxs uip-w-100p","onUpdate:modelValue":e[2]||(e[2]=f=>i.option.objectOrSingle=f)},[(_(!0),k(le,null,be(i.userMetaOptions,f=>(_(),k("option",{value:f.name},C(f.label),9,B_))),256))],512),[[Jn,i.option.objectOrSingle]])]),i.option.objectOrSingle=="object"?(_(),k(le,{key:0},[m("div",$_,C(i.strings.metaKey),1),m("div",j_,[O(o,{value:i.option.userMetaObjectKey,returnData:function(f){i.option.userMetaObjectKey=f},args:{metaKey:!0}},null,8,["value","returnData"])])],64)):z("",!0)])):z("",!0),i.option.action=="siteOption"?(_(),k("div",U_,[m("div",V_,[m("span",H_,C(i.strings.siteOptionName),1),O(a,{message:i.strings.siteOptionDescription,class:"uip-inline-flex"},{default:Y(()=>[O(l,{icon:"question_mark",class:"uip-icon uip-border-circle uip-background-grey uip-cursor-pointer",style:{"font-size":"12px"}})]),_:1},8,["message"])]),m("div",F_,[O(o,{value:i.option.siteOptionName,returnData:function(f){i.option.siteOptionName=f},args:{metaKey:!0}},null,8,["value","returnData"])])])):z("",!0),i.option.action=="email"?(_(),k(le,{key:3},[m("div",z_,[m("div",K_,[m("span",null,C(i.strings.recipientEmail),1)]),m("div",null,[Z(m("input",{type:"email",class:"uip-input","onUpdate:modelValue":e[3]||(e[3]=f=>i.option.emailAddress=f)},null,512),[[ne,i.option.emailAddress]])])]),m("div",G_,[m("div",W_,C(i.strings.emailSubject),1),Z(m("input",{type:"text",class:"uip-input","onUpdate:modelValue":e[4]||(e[4]=f=>i.option.emailSubject=f)},null,512),[[ne,i.option.emailSubject]])]),m("div",X_,[m("div",Y_,[m("span",Z_,C(i.strings.emailTemplate),1),O(a,{message:i.strings.templateDescription},{default:Y(()=>[O(l,{icon:"question_mark",class:"uip-icon uip-border-circle uip-background-grey uip-cursor-pointer",style:{"font-size":"12px"}})]),_:1},8,["message"])]),m("div",Q_,[O(c,{value:i.option.emailTemplate,returnData:function(f){i.option.emailTemplate=f}},null,8,["value","returnData"])])])],64)):z("",!0),m("div",J_,[m("div",ew,C(i.strings.redirectAfterSubmission),1),m("div",tw,[O(p,{value:i.option.redirectURL,returnData:function(f){i.option.redirectURL=f},args:{hideLinkType:!0}},null,8,["value","returnData"])])])])}const sw=J(N_,[["render",nw]]),{__:qi}=wp.i18n,iw={props:{returnData:Function,value:Object},data(){return{options:[],updating:!1,strings:{addNew:qi("New option","uipress-lite"),label:qi("Label","uipress-lite"),value:qi("Value","uipress-lite")}}},watch:{value:{handler(n,e){this.updating||this.injectPropValue()},deep:!0,immediate:!0},options:{handler(n,e){this.updating||this.returnData({options:this.options})},deep:!0}},methods:{async injectPropValue(){this.updating=!0,this.options=[],this.isObject(this.value)&&Array.isArray(this.value.options)&&(this.options=this.value.options,await this.$nextTick(),this.updating=!1)},deleteOption(n){this.options.splice(n,1)},newOption(){this.options.push({label:qi("Option","uipress-lite"),name:""})}}},rw={class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p"},ow={class:"uip-button-default uip-border-rounder uip-padding-xxs uip-link-muted uip-cursor-drag"},lw=["placeholder","onUpdate:modelValue"],aw=["placeholder","onUpdate:modelValue"],uw=["onClick"];function cw(n,e,t,s,i,r){const o=P("AppIcon"),l=P("VueDraggableNext");return _(),k("div",rw,[O(l,{class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p",group:{name:"uip-drop",pull:!1,put:!1},list:i.options,animation:"300",sort:!0,handle:".uip-cursor-drag"},{default:Y(()=>[(_(!0),k(le,null,be(i.options,(a,c)=>(_(),k("div",{key:c,class:"uip-flex uip-gap-xxs uip-w-100p"},[m("button",ow,[O(o,{icon:"drag_indicator"})]),Z((_(),k("input",{type:"text",placeholder:i.strings.label,"onUpdate:modelValue":p=>a.label=p,key:c,class:"uip-input-small uip-flex-shrink uip-w-70"},null,8,lw)),[[ne,a.label]]),Z((_(),k("input",{type:"text",placeholder:i.strings.value,"onUpdate:modelValue":p=>a.name=p,key:c,class:"uip-input-small uip-flex-grow uip-w-70"},null,8,aw)),[[ne,a.name]]),m("button",{onClick:p=>r.deleteOption(c),class:"uip-button-default uip-border-rounder uip-padding-xxs uip-link-muted"},[O(o,{icon:"close"})],8,uw)]))),128))]),_:1},8,["list"]),m("div",{onClick:e[0]||(e[0]=a=>r.newOption()),class:"uip-padding-xxs uip-border-rounder uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center uip-gap-xs"},[O(o,{icon:"add",class:"uip-icon"})])])}const pw=J(iw,[["render",cw]]),{__:hw}=wp.i18n,dw={props:{returnData:Function,value:Array},data(){return{items:this.value,strings:{addNew:hw("New item","uipress-lite")}}},watch:{items:{handler(n,e){this.returnData(this.items)},deep:!0}},computed:{returnItems(){return this.items}},methods:{deleteTab(n){this.items.splice(n,1)},newTab(){this.items.push({value:"",id:this.createUID()})}}},fw={class:"uip-flex uip-flex-column uip-row-gap-xs"},gw=["onUpdate:modelValue"];function mw(n,e,t,s,i,r){const o=P("AppIcon"),l=P("VueDraggableNext");return _(),k("div",fw,[i.items.length>0?(_(),he(l,{key:0,list:i.items,class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p",group:{name:"tabs",pull:!1,put:!1},animation:"300",handle:".uip-cursor-drag",onStart:e[0]||(e[0]=a=>n.drag=!0),onEnd:e[1]||(e[1]=a=>n.drag=!1),sort:!0,itemKey:"id"},{default:Y(()=>[(_(!0),k(le,null,be(i.items,(a,c)=>(_(),k("div",{key:a.value,class:"uip-flex uip-flex-row uip-gap-xs uip-flex-center"},[O(o,{onClick:p=>r.deleteTab(c),icon:"drag_indicator",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-cursor-drag"},null,8,["onClick"]),Z(m("input",{type:"text","onUpdate:modelValue":p=>a.value=p,class:"uip-input-small uip-flex-grow",placeholder:"/path/to/file"},null,8,gw),[[ne,a.value]]),O(o,{onClick:p=>r.deleteTab(c),icon:"close",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted"},null,8,["onClick"])]))),128))]),_:1},8,["list"])):z("",!0),m("button",{onClick:e[2]||(e[2]=a=>r.newTab()),class:"uip-button-default uip-border-rounder uip-padding-xxs uip-w-100p"},[O(o,{icon:"add",class:"uip-icon"})])])}const bw=J(dw,[["render",mw]]),{__:nu}=wp.i18n,vw={props:{returnData:Function,value:Array},data(){return{strings:{selectPostTypes:nu("Select post types","uipress-lite"),searchPostTypes:nu("Search post types","uipress-lite")}}}};function yw(n,e,t,s,i,r){const o=P("post-type-select");return _(),he(o,{selected:t.value,placeHolder:i.strings.selectPostTypes,single:!1,searchPlaceHolder:i.strings.searchPostTypes,updateSelected:t.returnData},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"])}const xw=J(vw,[["render",yw]]),{__:we}=wp.i18n,_w=[{label:we("Normal","uipress-lite"),value:"normal"},{label:we("Multiply","uipress-lite"),value:"multiply"},{label:we("Screen","uipress-lite"),value:"screen"},{label:we("Overlay","uipress-lite"),value:"overlay"},{label:we("Darken","uipress-lite"),value:"darken"},{label:we("Lighten","uipress-lite"),value:"lighten"},{label:we("Color dodge","uipress-lite"),value:"color-dodge"},{label:we("Color burn","uipress-lite"),value:"color-burn"},{label:we("Hard light","uipress-lite"),value:"hard-light"},{label:we("Soft light","uipress-lite"),value:"soft-light"},{label:we("Difference","uipress-lite"),value:"difference"},{label:we("Exclusion","uipress-lite"),value:"exclusion"},{label:we("Hue","uipress-lite"),value:"hue"},{label:we("Saturation","uipress-lite"),value:"saturation"},{label:we("Color","uipress-lite"),value:"color"},{label:we("Luminosity","uipress-lite"),value:"luminosity"},{label:we("Initial","uipress-lite"),value:"initial"},{label:we("Inherit","uipress-lite"),value:"Inherit"},{label:we("Unset","uipress-lite"),value:"Unset"}],{__:Yt}=wp.i18n,ww=[{label:Yt("Linear","uipress-lite"),value:"linear"},{label:Yt("Ease","uipress-lite"),value:"ease"},{label:Yt("Ease in","uipress-lite"),value:"ease-in"},{label:Yt("Ease in out","uipress-lite"),value:"ease-in-out"},{label:Yt("Ease out","uipress-lite"),value:"ease-out"},{label:Yt("Out sine","uipress-lite"),value:"cubic-bezier(0.39, 0.58, 0.57, 1)"},{label:Yt("Out quadratic","uipress-lite"),value:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},{label:Yt("Back out","uipress-lite"),value:"cubic-bezier(0.18, 0.89, 0.32, 1.28)"}],kw=["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","all-scroll"],Aw=["col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ns-resize","ew-resize","ne-resize","nw-resize","se-resize","sw-resize","nesw-resize","nwse-resize"],{__:ke}=wp.i18n,Ew={emits:["update"],props:{value:Object},data(){return{updating:!1,options:this.returnDefaultOptions,loading:!0,mixBlendModes:_w,transitionTypes:ww,cursorTypes:kw,resizeCursors:Aw,strings:{transform:ke("Transform","uipress-lite"),translate:ke("Translate","uipress-lite"),scale:ke("Scale","uipress-lite"),rotate:ke("Rotate","uipress-lite"),skew:ke("Skew","uipress-lite"),settings:ke("Settings","uipress-lite"),filters:ke("Filters","uipress-lite"),mixBlendMode:ke("Mix blend mode","uipress-lite"),grayscale:ke("Grayscale","uipress-lite"),blur:ke("Blur","uipress-lite"),saturate:ke("Saturate","uipress-lite"),contrast:ke("Contrast","uipress-lite"),backdropBlur:ke("Backdrop blur","uipress-lite"),transitionType:ke("Ease","uipress-lite"),transitionTime:ke("Time","uipress-lite"),transitionDelay:ke("Delay","uipress-lite"),cursor:ke("Cursor","uipress-lite"),general:ke("General","uipress-lite"),resizing:ke("Resizing","uipress-lite")}}},watch:{value:{handler(n,e){this.updating||this.injectProp()},deep:!0,immediate:!0},options:{handler(n,e){this.updating||this.$emit("update",this.options)},deep:!0}},computed:{returnDefaultOptions(){return{transform:{translateX:{value:"",units:"px"},translateY:{value:"",units:"px"},scaleX:"",scaleY:"",rotateX:"",rotateY:"",rotateZ:"",skewX:"",skewY:"",cursor:"auto"},filters:{mixBlendMode:"",grayscale:"",blur:"",saturate:"",contrast:"",backdropBlur:""},transitionType:"",transitionTime:"",transitionDelay:""}}},methods:{async injectProp(){this.updating=!0;const n=this.returnDefaultOptions,e=this.isObject(this.value)?this.value:{};this.options={...n,...e},await Fi(),this.updating=!1}}},Sw={class:"uip-flex uip-flex-column uip-row-gap-s"},Tw={class:"uip-grid-col-1-3"},Nw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Cw={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Ow={class:"uip-button-default uip-border-rounder uip-padding-xxs uip-link-muted uip-w-100p uip-flex uip-gap-xxs uip-flex-center uip-flex-middle"},Lw={key:0},Iw={key:1},qw={key:2},Rw={key:3},Dw={key:4},Pw={key:5},Mw={key:6},Bw={key:7},$w={key:8},jw={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240"},Uw={class:"uip-flex uip-flex-between uip-flex-center"},Vw={class:"uip-text-emphasis uip-text-bold uip-text-s"},Hw={class:"uip-grid-col-1-3 uip-padding-left-xs"},Fw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},zw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Kw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Gw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ww={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Xw={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},Yw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Zw={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},Qw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Jw={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},ek={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},tk={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},nk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},sk={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},ik={class:"uip-grid-col-1-3"},rk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},ok={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},lk={class:"uip-button-default uip-border-rounder uip-padding-xxs uip-link-muted uip-w-100p uip-flex uip-gap-xxs uip-flex-center uip-flex-middle"},ak={key:0},uk={key:1},ck={key:2},pk={key:3},hk={key:4},dk={key:5},fk={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240"},gk={class:"uip-flex uip-flex-between uip-flex-center"},mk={class:"uip-text-emphasis uip-text-bold uip-text-s"},bk={class:"uip-grid-col-1-3 uip-padding-left-xs"},vk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},yk={class:"uip-position-relative"},xk=["value"],_k={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},wk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},kk={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Ak={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ek={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Sk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Tk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Nk={class:"uip-grid-col-1-3"},Ck={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ok={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Lk=["value"],Ik={class:"uip-grid-col-1-3"},qk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Rk={class:"uip-grid-col-1-3"},Dk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Pk={class:"uip-grid-col-1-3"},Mk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Bk={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},$k=["label"],jk=["value"],Uk=["label"],Vk=["value"];function Hk(n,e,t,s,i,r){const o=P("AppIcon"),l=P("value-units"),a=P("uip-number"),c=P("dropdown");return _(),k("div",Sw,[m("div",Tw,[m("div",Nw,[m("span",null,C(i.strings.transform),1)]),m("div",Cw,[O(c,{pos:"left center",class:"uip-flex uip-flex-grow uip-w-100p",ref:"transformDrop",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[m("button",Ow,[O(o,{icon:"add",class:"uip-icon"}),i.options.transform.translateX.value?(_(),k("span",Lw,C(i.options.transform.translateX.value)+",",1)):z("",!0),i.options.transform.translateY.value?(_(),k("span",Iw,C(i.options.transform.translateY.value)+",",1)):z("",!0),i.options.transform.scaleX?(_(),k("span",qw,C(i.options.transform.scaleX)+",",1)):z("",!0),i.options.transform.scaleY?(_(),k("span",Rw,C(i.options.transform.scaleY)+",",1)):z("",!0),i.options.transform.rotateX?(_(),k("span",Dw,C(i.options.transform.rotateX)+",",1)):z("",!0),i.options.transform.rotateY?(_(),k("span",Pw,C(i.options.transform.rotateY)+",",1)):z("",!0),i.options.transform.rotateZ?(_(),k("span",Mw,C(i.options.transform.rotateZ)+",",1)):z("",!0),i.options.transform.skewX?(_(),k("span",Bw,C(i.options.transform.skewX)+",",1)):z("",!0),i.options.transform.skewY?(_(),k("span",$w,C(i.options.transform.skewY)+",",1)):z("",!0)])]),content:Y(()=>[m("div",jw,[m("div",Uw,[m("div",Vw,C(i.strings.transform),1),m("div",{onClick:e[0]||(e[0]=We(p=>n.$refs.transformDrop.close(),["prevent","stop"])),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])]),m("div",Hw,[m("div",Fw,[m("span",null,C(i.strings.translate)+" X",1)]),O(l,{value:i.options.transform.translateX,returnData:function(p){i.options.transform.translateX=p}},null,8,["value","returnData"]),m("div",zw,[m("span",null,C(i.strings.translate)+" Y",1)]),O(l,{value:i.options.transform.translateY,returnData:function(p){i.options.transform.translateY=p}},null,8,["value","returnData"]),m("div",Kw,[m("span",null,C(i.strings.scale)+" X",1)]),O(a,{value:i.options.transform.scaleX,returnData:p=>{i.options.transform.scaleX=p},placeHolder:"",step:.1},null,8,["value","returnData"]),m("div",Gw,[m("span",null,C(i.strings.scale)+" Y",1)]),O(a,{value:i.options.transform.scaleY,returnData:p=>{i.options.transform.scaleY=p},placeHolder:"",step:.1},null,8,["value","returnData"]),m("div",Ww,[m("span",null,C(i.strings.rotate)+" X ()",1)]),m("div",Xw,[Z(m("input",{type:"number",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[1]||(e[1]=p=>i.options.transform.rotateX=p)},null,512),[[ne,i.options.transform.rotateX]]),Z(m("input",{type:"range",min:"-360",max:"360","onUpdate:modelValue":e[2]||(e[2]=p=>i.options.transform.rotateX=p),step:"10",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,i.options.transform.rotateX]])]),m("div",Yw,[m("span",null,C(i.strings.rotate)+" Y ()",1)]),m("div",Zw,[Z(m("input",{type:"number",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[3]||(e[3]=p=>i.options.transform.rotateY=p)},null,512),[[ne,i.options.transform.rotateY]]),Z(m("input",{type:"range",min:"-360",max:"360","onUpdate:modelValue":e[4]||(e[4]=p=>i.options.transform.rotateY=p),step:"10",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,i.options.transform.rotateY]])]),m("div",Qw,[m("span",null,C(i.strings.rotate)+" Z ()",1)]),m("div",Jw,[Z(m("input",{type:"number",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[5]||(e[5]=p=>i.options.transform.rotateZ=p)},null,512),[[ne,i.options.transform.rotateZ]]),Z(m("input",{type:"range",min:"-360",max:"360","onUpdate:modelValue":e[6]||(e[6]=p=>i.options.transform.rotateZ=p),step:"10",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,i.options.transform.rotateZ]])]),m("div",ek,[m("span",null,C(i.strings.skew)+" X ()",1)]),m("div",tk,[Z(m("input",{type:"number",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[7]||(e[7]=p=>i.options.transform.skewX=p)},null,512),[[ne,i.options.transform.skewX]]),Z(m("input",{type:"range",min:"-360",max:"360","onUpdate:modelValue":e[8]||(e[8]=p=>i.options.transform.skewX=p),step:"10",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,i.options.transform.skewX]])]),m("div",nk,[m("span",null,C(i.strings.skew)+" Y ()",1)]),m("div",sk,[Z(m("input",{type:"number",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[9]||(e[9]=p=>i.options.transform.skewY=p)},null,512),[[ne,i.options.transform.skewY]]),Z(m("input",{type:"range",min:"-360",max:"360","onUpdate:modelValue":e[10]||(e[10]=p=>i.options.transform.skewY=p),step:"10",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,i.options.transform.skewY]])])])])]),_:1},512)])]),m("div",ik,[m("div",rk,[m("span",null,C(i.strings.filters),1)]),m("div",ok,[O(c,{pos:"left center",class:"uip-flex uip-flex-grow uip-w-100p",ref:"filtersDrop",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[m("button",lk,[O(o,{icon:"add",class:"uip-icon"}),i.options.filters.mixBlendMode?(_(),k("span",ak,C(i.options.filters.mixBlendMode)+",",1)):z("",!0),i.options.filters.grayscale?(_(),k("span",uk,C(i.options.filters.grayscale)+",",1)):z("",!0),i.options.filters.blur?(_(),k("span",ck,C(i.options.filters.blur)+"px,",1)):z("",!0),i.options.filters.saturate?(_(),k("span",pk,C(i.options.filters.saturate)+",",1)):z("",!0),i.options.filters.contrast?(_(),k("span",hk,C(i.options.filters.contrast)+",",1)):z("",!0),i.options.filters.backdropBlur?(_(),k("span",dk,C(i.options.filters.backdropBlur)+"px,",1)):z("",!0)])]),content:Y(()=>[m("div",fk,[m("div",gk,[m("div",mk,C(i.strings.filters),1),m("div",{onClick:e[11]||(e[11]=We(p=>n.$refs.filtersDrop.close(),["prevent","stop"])),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])]),m("div",bk,[m("div",vk,[m("span",null,C(i.strings.mixBlendMode),1)]),m("div",yk,[Z(m("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[12]||(e[12]=p=>i.options.filters.mixBlendMode=p)},[(_(!0),k(le,null,be(i.mixBlendModes,p=>(_(),k("option",{value:p.value},C(p.label),9,xk))),256))],512),[[Jn,i.options.filters.mixBlendMode]])]),m("div",_k,[m("span",null,C(i.strings.grayscale),1)]),O(a,{value:i.options.filters.grayscale,returnData:p=>{i.options.filters.grayscale=p},placeHolder:"",step:.1},null,8,["value","returnData"]),m("div",wk,[m("span",null,C(i.strings.blur)+" (px)",1)]),m("div",kk,[Z(m("input",{type:"number",min:"0",max:"100",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[13]||(e[13]=p=>i.options.filters.blur=p)},null,512),[[ne,i.options.filters.blur]]),Z(m("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":e[14]||(e[14]=p=>i.options.filters.blur=p),step:"1",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,i.options.filters.blur]])]),m("div",Ak,[m("span",null,C(i.strings.backdropBlur)+" (px)",1)]),m("div",Ek,[Z(m("input",{type:"number",min:"0",max:"100",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[15]||(e[15]=p=>i.options.filters.backdropBlur=p)},null,512),[[ne,i.options.filters.backdropBlur]]),Z(m("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":e[16]||(e[16]=p=>i.options.filters.backdropBlur=p),step:"1",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,i.options.filters.backdropBlur]])]),m("div",Sk,[m("span",null,C(i.strings.saturate),1)]),O(a,{value:i.options.filters.saturate,returnData:p=>{i.options.filters.saturate=p},placeHolder:"",step:.1},null,8,["value","returnData"]),m("div",Tk,[m("span",null,C(i.strings.contrast),1)]),O(a,{value:i.options.filters.contrast,returnData:p=>{i.options.filters.contrast=p},placeHolder:"",step:.1},null,8,["value","returnData"])])])]),_:1},512)])]),m("div",Nk,[m("div",Ck,[m("span",null,C(i.strings.transitionType),1)]),m("div",Ok,[Z(m("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[17]||(e[17]=p=>i.options.transitionType=p)},[(_(!0),k(le,null,be(i.transitionTypes,p=>(_(),k("option",{value:p.value},C(p.label),9,Lk))),256))],512),[[Jn,i.options.transitionType]])])]),m("div",Ik,[m("div",qk,[m("span",null,C(i.strings.transitionTime),1)]),O(a,{value:i.options.transitionTime,returnData:p=>{i.options.transitionTime=p},placeHolder:"",step:.1},null,8,["value","returnData"])]),m("div",Rk,[m("div",Dk,[m("span",null,C(i.strings.transitionDelay),1)]),O(a,{value:i.options.transitionDelay,returnData:p=>{i.options.transitionDelay=p},placeHolder:"",step:.1},null,8,["value","returnData"])]),m("div",Pk,[m("div",Mk,[m("span",null,C(i.strings.cursor),1)]),m("div",Bk,[Z(m("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[18]||(e[18]=p=>i.options.cursor=p)},[m("optgroup",{label:i.strings.general},[(_(!0),k(le,null,be(i.cursorTypes,p=>(_(),k("option",{value:p},C(p),9,jk))),256))],8,$k),m("optgroup",{label:i.strings.resizing},[(_(!0),k(le,null,be(i.resizeCursors,p=>(_(),k("option",{value:p},C(p),9,Vk))),256))],8,Uk)],512),[[Jn,i.options.cursor]])])])])}const Fk=J(Ew,[["render",Hk]]),zk=n=>{n.component("background-position",ed),n.component("switch-select",sd),n.component("value-units",od),n.component("units-select",dd),n.component("color-select",xf),n.component("uip-input",Af),n.component("uip-textarea",Nf),n.component("post-types",Mf),n.component("uip-number",Rf),n.component("uip-paragraph-input",$y),n.component("uip-dynamic-input",Zy),n.component("icon-select",xx),n.component("inline-icon-select",Sx),n.component("choice-select",Cx),n.component("default-select",qx),n.component("hiden-toolbar-items-select",v_),n.component("edit-toolbar-items",A_),n.component("multi-select-option",T_),n.component("submit-actions",sw),n.component("link-select",c_),n.component("tab-builder",g_),n.component("select-option-builder",pw),n.component("array-list",bw),n.component("uip-select-post-types",xw),n.component("inline-image-select",Bh),n.component("uip-effects",Fk)},Kk={class:"uip-flex uip-flex-column uip-gap-xs"},Gk=["href"],Wk={key:2,class:"uip-border-top uip-margin-top-xxs uip-margin-bottom-xxs"},Xk={__name:"index",setup(n){const{__:e}=wp.i18n,t=[{name:e("Templates","uipress-lite"),url:"/",icon:"dashboard"},{name:e("Site settings","uipress-lite"),url:"/site-settings",icon:"tune"},{type:"divider"},{name:e("Import / Export","uipress-lite"),url:"/import-export",icon:"file_download"},{name:e("Remote sync","uipress-lite"),url:"/remote-sync",icon:"sync"},{name:e("PHP error log","uipress-lite"),url:"/error-log",icon:"code"},{type:"divider"},{name:e("Documentation","uipress-lite"),url:"https://docs.uipress.co/",icon:"bookmarks",external:!0}];return(s,i)=>{const r=P("AppIcon"),o=P("RouterLink");return _(),k("div",Kk,[i[0]||(i[0]=m("div",{class:"uip-padding-xs uip-border-rounder uip-background-default uip-shadow uip-margin-bottom-s uip-self-flex-start"},[m("div",{class:"uip-logo uip-w-16 uip-ratio-1-1"})],-1)),(_(),k(le,null,be(t,l=>(_(),k(le,null,[l.type!="divider"&&!l.external?(_(),he(o,{key:0,to:l.url,class:"uip-flex uip-flex-row uip-flex-center uip-gap-s uip-padding-xxs uip-padding-left-s uip-padding-right-s uip-link-default uip-no-underline uip-border-rounder hover:uip-background-muted","active-class":"uip-background-muted uip-text-emphasis"},{default:Y(()=>[O(r,{icon:l.icon,class:"uip-text-l"},null,8,["icon"]),m("span",null,C(l.name),1)]),_:2},1032,["to"])):l.type!="divider"&&l.external?(_(),k("a",{key:1,href:l.url,target:"_BLANK",class:"uip-flex uip-flex-row uip-flex-center uip-gap-s uip-padding-xxs uip-padding-left-s uip-padding-right-s uip-link-default uip-no-underline uip-border-rounder hover:uip-background-muted","active-class":"uip-background-muted uip-text-emphasis"},[O(r,{icon:l.icon,class:"uip-text-l"},null,8,["icon"]),m("span",null,C(l.name),1)],8,Gk)):(_(),k("div",Wk))],64))),64))])}}},{__:qe}=wp.i18n,Yk={data(){return{strings:{previous:qe("Previous","uipress-lite"),next:qe("Next","uipress-lite"),done:qe("Done","uipress-lite"),close:qe("Close","uipress-lite")},tips:{allTips:[{title:qe("Dynamic data","uipress-lite"),content:qe('Typing "{{" in any window now opens the new dynamic data flow. Continue typing to search or press enter to select. Dynamic data will render in preview mode.',"uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/dynamic_data_preview.gif"},{title:qe("Query builder","uipress-lite"),content:qe("The new query builder can be enabled on any block and allows you to query posts, pages, users and sites (multsitie only). The query builder is designed to work perfectly with the new dynamic data selector.","uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/query_builder.gif"},{title:qe("Style presets","uipress-lite"),content:qe("Style presets allow you to create custom presets that you can apply to any blocks. Presets are global and making changes to them in one place will update them across all of your templates","uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/presets_preview.gif"},{title:qe("Redesigned block styles","uipress-lite"),content:qe("The new editor makes it easier to adjust block styles and create more advanced layouts. Use the new pseudo switcher to create detailed templates","uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/styles_psuedo.gif"},{title:qe("Effects and transitions","uipress-lite"),content:qe("You can add and manage transitions within the uiBuilder. Adjust timings and animation styles to get the perfect result.","uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/transitions_preview.gif"},{title:qe("Contextual options","uipress-lite"),content:qe("Common actions are just a right click away. Duplicate blocks, copy styles or export your entire template","uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/contextual_options.gif"}],currentTip:0}}},mounted(){this.uipApp.tipsAndTricks=this,this.uipApp.data.userPrefs.supressTips||this.show()},methods:{show(){this.$refs.tips.open()}}},Zk={class:"uip-flex uip-flex-column uip-row-gap-s uip-w-400 uip-padding-m"},Qk={class:"uip-flex uip-flex-column uip-row-gap-s"},Jk=["src","alt"],e2={class:"uip-text-emphasis uip-text-l uip-fade-in"},t2={class:"uip-text-muted uip-fade-in",style:{"line-height":"1.6"}},n2={class:"uip-flex uip-flex-between"},s2={class:"uip-flex uip-gap-xs"};function i2(n,e,t,s,i,r){const o=P("Modal");return _(),he(o,{ref:"tips"},{default:Y(()=>[m("div",Zk,[m("div",Qk,[m("img",{src:i.tips.allTips[i.tips.currentTip].img,alt:i.tips.allTips[i.tips.currentTip].title,class:"uip-w-100p uip-border-rounder uip-fade-in"},null,8,Jk),m("div",e2,C(i.tips.allTips[i.tips.currentTip].title),1),m("div",t2,C(i.tips.allTips[i.tips.currentTip].content),1)]),m("div",n2,[m("button",{class:"uip-button-default",onClick:e[0]||(e[0]=l=>{n.$refs.tips.close(),n.saveUserPreference("supressTips",!0,!1)})},C(i.strings.close),1),m("div",s2,[i.tips.currentTip>0?(_(),k("button",{key:0,class:"uip-button-default",onClick:e[1]||(e[1]=l=>i.tips.currentTip-=1)},C(i.strings.previous),1)):z("",!0),i.tips.currentTip<i.tips.allTips.length-1?(_(),k("button",{key:1,class:"uip-button-default",onClick:e[2]||(e[2]=l=>i.tips.currentTip+=1)},C(i.strings.next),1)):z("",!0),i.tips.currentTip==i.tips.allTips.length-1?(_(),k("button",{key:2,class:"uip-button-primary",onClick:e[3]||(e[3]=l=>n.$refs.tips.close())},C(i.strings.done),1)):z("",!0)])])])]),_:1},512)}const r2=J(Yk,[["render",i2]]),o2={class:"uip-flex-column uip-flex uip-h-100p uip-w-100p",style:{"min-height":"100dvh"}},l2={key:0,class:"uip-flex uip-flex-row uip-background-default uip-flex-grow uip-h-100p"},a2={class:"uip-w-240 uip-flex-no-grow uip-padding-s uip-border-right",style:{"flex-shrink":"0"}},u2={class:"uip-flex uip-flex-grow uip-padding-s"},c2={__name:"index",setup(n){const e=oh(),t=Ge(()=>e.matched.some(s=>s.name==="uibuilder"));return(s,i)=>{const r=P("RouterView");return _(),k("div",o2,[O(Gc),O(r2),t.value?(_(),he(r,{key:1},{default:Y(({Component:o})=>[o?(_(),he(Mi,{key:0,mode:"out-in"},{default:Y(()=>[(_(),he(Tl,null,{fallback:Y(()=>i[1]||(i[1]=[rn(" Loading... ")])),default:Y(()=>[(_(),he(ss(o)))]),_:2},1024))]),_:2},1024)):z("",!0)]),_:1})):(_(),k("div",l2,[m("div",a2,[O(Xk)]),m("div",u2,[O(r,null,{default:Y(({Component:o})=>[o?(_(),he(Tl,{key:0},{fallback:Y(()=>i[0]||(i[0]=[rn(" Loading... ")])),default:Y(()=>[(_(),he(ss(o)))]),_:2},1024)):z("",!0)]),_:1})])]))])}}};wp.i18n;const zt=Wc(c2);zt.use(ah);Xc(zt);zk(zt);Yc(zt);Zc(zt,"builder");Qc(zt);Jc(zt);ep(zt);zt.mount("#uip-ui-builder");export{_u as C,Fk as E,yd as S,gf as a,yu as c,tc as g,Ah as i,f2 as u};
//# sourceMappingURL=builder.build.DfBdCMNY.js.map
